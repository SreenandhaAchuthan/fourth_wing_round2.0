/*! For license information please see main.15fbfb96.js.LICENSE.txt */
(()=>{var e={115:function(e){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="dist/",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=(r(n(1)),n(6)),a=r(s),o=r(n(7)),l=r(n(8)),c=r(n(9)),u=r(n(10)),d=r(n(11)),h=r(n(14)),f=[],m=!1,p={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},g=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(m=!0),m)return f=(0,d.default)(f,p),(0,u.default)(f,p.once),f},v=function(){f=(0,h.default)(),g()},y=function(){f.forEach((function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay")}))},b=function(e){return!0===e||"mobile"===e&&c.default.mobile()||"phone"===e&&c.default.phone()||"tablet"===e&&c.default.tablet()||"function"==typeof e&&!0===e()},x=function(e){p=i(p,e),f=(0,h.default)();var t=document.all&&!window.atob;return b(p.disable)||t?y():(p.disableMutationObserver||l.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),p.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",p.easing),document.querySelector("body").setAttribute("data-aos-duration",p.duration),document.querySelector("body").setAttribute("data-aos-delay",p.delay),"DOMContentLoaded"===p.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?g(!0):"load"===p.startEvent?window.addEventListener(p.startEvent,(function(){g(!0)})):document.addEventListener(p.startEvent,(function(){g(!0)})),window.addEventListener("resize",(0,o.default)(g,p.debounceDelay,!0)),window.addEventListener("orientationchange",(0,o.default)(g,p.debounceDelay,!0)),window.addEventListener("scroll",(0,a.default)((function(){(0,u.default)(f,p.once)}),p.throttleDelay)),p.disableMutationObserver||l.default.ready("[data-aos]",v),f)};e.exports={init:x,refresh:g,refreshHard:v}},function(e,t){},,,,,function(e,t){(function(t){"use strict";function n(e,t,n){function r(t){var n=p,r=g;return p=g=void 0,N=t,y=e.apply(r,n)}function s(e){return N=e,b=setTimeout(u,t),E?r(e):y}function a(e){var n=t-(e-x);return T?S(n,v-(e-N)):n}function l(e){var n=e-x;return void 0===x||n>=t||n<0||T&&e-N>=v}function u(){var e=k();return l(e)?d(e):void(b=setTimeout(u,a(e)))}function d(e){return b=void 0,j&&p?r(e):(p=g=void 0,y)}function h(){void 0!==b&&clearTimeout(b),N=0,p=x=g=b=void 0}function f(){return void 0===b?y:d(k())}function m(){var e=k(),n=l(e);if(p=arguments,g=this,x=e,n){if(void 0===b)return s(x);if(T)return b=setTimeout(u,t),r(x)}return void 0===b&&(b=setTimeout(u,t)),y}var p,g,v,y,b,x,N=0,E=!1,T=!1,j=!0;if("function"!=typeof e)throw new TypeError(c);return t=o(t)||0,i(n)&&(E=!!n.leading,v=(T="maxWait"in n)?w(o(n.maxWait)||0,t):v,j="trailing"in n?!!n.trailing:j),m.cancel=h,m.flush=f,m}function r(e,t,r){var s=!0,a=!0;if("function"!=typeof e)throw new TypeError(c);return i(r)&&(s="leading"in r?!!r.leading:s,a="trailing"in r?!!r.trailing:a),n(e,t,{leading:s,maxWait:t,trailing:a})}function i(e){var t="undefined"==typeof e?"undefined":l(e);return!!e&&("object"==t||"function"==t)}function s(e){return!!e&&"object"==("undefined"==typeof e?"undefined":l(e))}function a(e){return"symbol"==("undefined"==typeof e?"undefined":l(e))||s(e)&&x.call(e)==d}function o(e){if("number"==typeof e)return e;if(a(e))return u;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(h,"");var n=m.test(e);return n||p.test(e)?g(e.slice(2),n?2:8):f.test(e)?u:+e}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="Expected a function",u=NaN,d="[object Symbol]",h=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,p=/^0o[0-7]+$/i,g=parseInt,v="object"==("undefined"==typeof t?"undefined":l(t))&&t&&t.Object===Object&&t,y="object"==("undefined"==typeof self?"undefined":l(self))&&self&&self.Object===Object&&self,b=v||y||Function("return this")(),x=Object.prototype.toString,w=Math.max,S=Math.min,k=function(){return b.Date.now()};e.exports=r}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";function n(e,t,n){function i(t){var n=p,r=g;return p=g=void 0,N=t,y=e.apply(r,n)}function s(e){return N=e,b=setTimeout(u,t),E?i(e):y}function o(e){var n=t-(e-k);return T?w(n,v-(e-N)):n}function c(e){var n=e-k;return void 0===k||n>=t||n<0||T&&e-N>=v}function u(){var e=S();return c(e)?d(e):void(b=setTimeout(u,o(e)))}function d(e){return b=void 0,j&&p?i(e):(p=g=void 0,y)}function h(){void 0!==b&&clearTimeout(b),N=0,p=k=g=b=void 0}function f(){return void 0===b?y:d(S())}function m(){var e=S(),n=c(e);if(p=arguments,g=this,k=e,n){if(void 0===b)return s(k);if(T)return b=setTimeout(u,t),i(k)}return void 0===b&&(b=setTimeout(u,t)),y}var p,g,v,y,b,k,N=0,E=!1,T=!1,j=!0;if("function"!=typeof e)throw new TypeError(l);return t=a(t)||0,r(n)&&(E=!!n.leading,v=(T="maxWait"in n)?x(a(n.maxWait)||0,t):v,j="trailing"in n?!!n.trailing:j),m.cancel=h,m.flush=f,m}function r(e){var t="undefined"==typeof e?"undefined":o(e);return!!e&&("object"==t||"function"==t)}function i(e){return!!e&&"object"==("undefined"==typeof e?"undefined":o(e))}function s(e){return"symbol"==("undefined"==typeof e?"undefined":o(e))||i(e)&&b.call(e)==u}function a(e){if("number"==typeof e)return e;if(s(e))return c;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(d,"");var n=f.test(e);return n||m.test(e)?p(e.slice(2),n?2:8):h.test(e)?c:+e}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l="Expected a function",c=NaN,u="[object Symbol]",d=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,m=/^0o[0-7]+$/i,p=parseInt,g="object"==("undefined"==typeof t?"undefined":o(t))&&t&&t.Object===Object&&t,v="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,y=g||v||Function("return this")(),b=Object.prototype.toString,x=Math.max,w=Math.min,S=function(){return y.Date.now()};e.exports=n}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t=void 0,r=void 0;for(t=0;t<e.length;t+=1){if((r=e[t]).dataset&&r.dataset.aos)return!0;if(r.children&&n(r.children))return!0}return!1}function r(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function i(){return!!r()}function s(e,t){var n=window.document,i=new(r())(a);o=t,i.observe(n.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function a(e){e&&e.forEach((function(e){var t=Array.prototype.slice.call(e.addedNodes),r=Array.prototype.slice.call(e.removedNodes);if(n(t.concat(r)))return o()}))}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){};t.default={isSupported:i,ready:s}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=function(){function e(){n(this,e)}return i(e,[{key:"phone",value:function(){var e=r();return!(!s.test(e)&&!a.test(e.substr(0,4)))}},{key:"mobile",value:function(){var e=r();return!(!o.test(e)&&!l.test(e.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),e}();t.default=new c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){var r=e.node.getAttribute("data-aos-once");t>e.position?e.node.classList.add("aos-animate"):"undefined"!=typeof r&&("false"===r||!n&&"true"!==r)&&e.node.classList.remove("aos-animate")},r=function(e,t){var r=window.pageYOffset,i=window.innerHeight;e.forEach((function(e,s){n(e,i+r,t)}))};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(12)),s=function(e,t){return e.forEach((function(e,n){e.node.classList.add("aos-init"),e.position=(0,i.default)(e.node,t.offset)})),e};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(13)),s=function(e,t){var n=0,r=0,s=window.innerHeight,a={offset:e.getAttribute("data-aos-offset"),anchor:e.getAttribute("data-aos-anchor"),anchorPlacement:e.getAttribute("data-aos-anchor-placement")};switch(a.offset&&!isNaN(a.offset)&&(r=parseInt(a.offset)),a.anchor&&document.querySelectorAll(a.anchor)&&(e=document.querySelectorAll(a.anchor)[0]),n=(0,i.default)(e).top,a.anchorPlacement){case"top-bottom":break;case"center-bottom":n+=e.offsetHeight/2;break;case"bottom-bottom":n+=e.offsetHeight;break;case"top-center":n+=s/2;break;case"bottom-center":n+=s/2+e.offsetHeight;break;case"center-center":n+=s/2+e.offsetHeight/2;break;case"top-top":n+=s;break;case"bottom-top":n+=e.offsetHeight+s;break;case"center-top":n+=e.offsetHeight/2+s}return a.anchorPlacement||a.offset||isNaN(t)||(r=t),n+r};t.default=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-("BODY"!=e.tagName?e.scrollLeft:0),n+=e.offsetTop-("BODY"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:n,left:t}};t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e=e||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(e,(function(e){return{node:e}}))};t.default=n}])},4:(e,t,n)=>{"use strict";var r=n(853),i=n(43),s=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var S=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var k=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function E(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function j(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case u:return"Portal";case f:return"Profiler";case h:return"StrictMode";case y:return"Suspense";case b:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case p:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case w:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}var _,C,A=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign;function P(e){if(void 0===_)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_=t&&t[1]||"",C=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+_+e+C}var D=!1;function R(e,t){if(!e||D)return"";D=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{D=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?P(n):""}function L(e){switch(e.tag){case 26:case 27:case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return e=R(e.type,!1);case 11:return e=R(e.type.render,!1);case 1:return e=R(e.type,!0);default:return""}}function O(e){try{var t="";do{t+=L(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function M(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function F(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function V(e){if(M(e)!==e)throw Error(a(188))}function U(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=U(e)))return t;e=e.sibling}return null}var z=Array.isArray,B=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},W=[],H=-1;function G(e){return{current:e}}function K(e){0>H||(e.current=W[H],W[H]=null,H--)}function Y(e,t){H++,W[H]=e.current,e.current=t}var Q=G(null),X=G(null),$=G(null),J=G(null);function Z(e,t){switch(Y($,t),Y(X,e),Y(Q,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Xu(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=$u(e=Xu(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(Q),Y(Q,t)}function ee(){K(Q),K(X),K($)}function te(e){null!==e.memoizedState&&Y(J,e);var t=Q.current,n=$u(t,e.type);t!==n&&(Y(X,e),Y(Q,n))}function ne(e){X.current===e&&(K(Q),K(X)),J.current===e&&(K(J),Od._currentValue=q)}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,ae=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,me=r.unstable_IdlePriority,pe=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof pe&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var xe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/Se|0)|0},we=Math.log,Se=Math.LN2;var ke=128,Ne=4194304;function Ee(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=e.warmLanes;e=0!==e.finishedLanes;var o=134217727&n;return 0!==o?0!==(n=o&~i)?r=Ee(n):0!==(s&=o)?r=Ee(s):e||0!==(a=o&~a)&&(r=Ee(a)):0!==(o=n&~i)?r=Ee(o):0!==s?r=Ee(s):e||0!==(a=n&~a)&&(r=Ee(a)),0===r?0:0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||32===i&&0!==(4194176&a))?t:r}function je(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function _e(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ce(){var e=ke;return 0===(4194176&(ke<<=1))&&(ke=128),e}function Ae(){var e=Ne;return 0===(62914560&(Ne<<=1))&&(Ne=4194304),e}function Ie(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function De(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-xe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function Re(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Oe(){var e=B.p;return 0!==e?e:void 0===(e=window.event)?32:$d(e.type)}var Me=Math.random().toString(36).slice(2),Fe="__reactFiber$"+Me,Ve="__reactProps$"+Me,Ue="__reactContainer$"+Me,ze="__reactEvents$"+Me,Be="__reactListeners$"+Me,qe="__reactHandles$"+Me,We="__reactResources$"+Me,He="__reactMarker$"+Me;function Ge(e){delete e[Fe],delete e[Ve],delete e[ze],delete e[Be],delete e[qe]}function Ke(e){var t=e[Fe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ue]||n[Fe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ld(e);null!==e;){if(n=e[Fe])return n;e=ld(e)}return t}n=(e=n).parentNode}return null}function Ye(e){if(e=e[Fe]||e[Ue]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Xe(e){var t=e[We];return t||(t=e[We]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $e(e){e[He]=!0}var Je=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Je.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},st={};function at(e,t,n){if(i=t,re.call(st,i)||!re.call(it,i)&&(rt.test(i)?st[i]=!0:(it[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ot(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function pt(e){return e.replace(mt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?yt(e,a,ct(t)):null!=n?yt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function vt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(z(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Nt(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&Nt(e,s,t[s])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_t=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ct(e){return _t.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function It(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Dt=null;function Rt(e){var t=Ye(e);if(t&&(e=t.stateNode)){var n=e[Ve]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ve]||null;if(!i)throw Error(a(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Ot(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Pt||null!==Dt)&&(Fc(),Pt&&(t=Pt,e=Dt,Dt=Pt=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ve]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!1;if(nt)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(wh){Ft=!1}var Ut=null,zt=null,Bt=null;function qt(){if(Bt)return Bt;var e,t,n=zt,r=n.length,i="value"in Ut?Ut.value:Ut.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Bt=i.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ht(){return!0}function Gt(){return!1}function Kt(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Ht:Gt,this.isPropagationStopped=Gt,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ht)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ht)},persist:function(){},isPersistent:Ht}),t}var Yt,Qt,Xt,$t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Kt($t),Zt=I({},$t,{view:0,detail:0}),en=Kt(Zt),tn=I({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Yt=e.screenX-Xt.screenX,Qt=e.screenY-Xt.screenY):Qt=Yt=0,Xt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),nn=Kt(tn),rn=Kt(I({},tn,{dataTransfer:0})),sn=Kt(I({},Zt,{relatedTarget:0})),an=Kt(I({},$t,{animationName:0,elapsedTime:0,pseudoElement:0})),on=Kt(I({},$t,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Kt(I({},$t,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function fn(){return hn}var mn=Kt(I({},Zt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),pn=Kt(I({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Kt(I({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),vn=Kt(I({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Kt(I({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Kt(I({},$t,{newState:0,oldState:0})),xn=[9,13,27,32],wn=nt&&"CompositionEvent"in window,Sn=null;nt&&"documentMode"in document&&(Sn=document.documentMode);var kn=nt&&"TextEvent"in window&&!Sn,Nn=nt&&(!wn||Sn&&8<Sn&&11>=Sn),En=String.fromCharCode(32),Tn=!1;function jn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Cn=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function Pn(e,t,n,r){Pt?Dt?Dt.push(r):Dt=[r]:Pt=r,0<(t=Ou(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,Rn=null;function Ln(e){_u(e,0)}function On(e){if(ht(Qe(e)))return e}function Mn(e,t){if("change"===e)return t}var Fn=!1;if(nt){var Vn;if(nt){var Un="oninput"in document;if(!Un){var zn=document.createElement("div");zn.setAttribute("oninput","return;"),Un="function"===typeof zn.oninput}Vn=Un}else Vn=!1;Fn=Vn&&(!document.documentMode||9<document.documentMode)}function Bn(){Dn&&(Dn.detachEvent("onpropertychange",qn),Rn=Dn=null)}function qn(e){if("value"===e.propertyName&&On(Rn)){var t=[];Pn(t,Rn,e,It(e)),Ot(Ln,t)}}function Wn(e,t,n){"focusin"===e?(Bn(),Rn=n,(Dn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Bn()}function Hn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return On(Rn)}function Gn(e,t){if("click"===e)return On(t)}function Kn(e,t){if("input"===e||"change"===e)return On(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Yn(e[i],t[i]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $n(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Zn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Jn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=$n(t,s);var a=$n(t,r);i&&a&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,sr=null,ar=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Qn(sr,r)||(sr=r,0<(r=Ou(ir,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}nt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),mr=hr("animationiteration"),pr=hr("animationstart"),gr=hr("transitionrun"),vr=hr("transitionstart"),yr=hr("transitioncancel"),br=hr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Sr(e,t){xr.set(e,t),et(t,[e])}var kr=[],Nr=0,Er=0;function Tr(){for(var e=Nr,t=Er=Nr=0;t<e;){var n=kr[t];kr[t++]=null;var r=kr[t];kr[t++]=null;var i=kr[t];kr[t++]=null;var s=kr[t];if(kr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&Ar(n,i,s)}}function jr(e,t,n,r){kr[Nr++]=e,kr[Nr++]=t,kr[Nr++]=n,kr[Nr++]=r,Er|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function _r(e,t,n,r){return jr(e,t,n,r),Ir(e)}function Cr(e,t){return jr(e,null,null,t),Ir(e)}function Ar(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;i&&null!==t&&3===e.tag&&(s=e.stateNode,i=31-xe(n),null===(e=(s=s.hiddenUpdates)[i])?s[i]=[t]:e.push(t),t.lane=536870912|n)}function Ir(e){if(50<_c)throw _c=0,Cc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Pr={},Dr=new WeakMap;function Rr(e,t){if("object"===typeof e&&null!==e){var n=Dr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:O(t)},Dr.set(e,t),t)}return{value:e,source:t,stack:O(t)}}var Lr=[],Or=0,Mr=null,Fr=0,Vr=[],Ur=0,zr=null,Br=1,qr="";function Wr(e,t){Lr[Or++]=Fr,Lr[Or++]=Mr,Mr=e,Fr=t}function Hr(e,t,n){Vr[Ur++]=Br,Vr[Ur++]=qr,Vr[Ur++]=zr,zr=e;var r=Br;e=qr;var i=32-xe(r)-1;r&=~(1<<i),n+=1;var s=32-xe(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Br=1<<32-xe(t)+i|n<<i|r,qr=s+e}else Br=1<<s|n<<i|r,qr=e}function Gr(e){null!==e.return&&(Wr(e,1),Hr(e,1,0))}function Kr(e){for(;e===Mr;)Mr=Lr[--Or],Lr[Or]=null,Fr=Lr[--Or],Lr[Or]=null;for(;e===zr;)zr=Vr[--Ur],Vr[Ur]=null,qr=Vr[--Ur],Vr[Ur]=null,Br=Vr[--Ur],Vr[Ur]=null}var Yr=null,Qr=null,Xr=!1,$r=null,Jr=!1,Zr=Error(a(519));function ei(e){throw si(Rr(Error(a(418,"")),e)),Zr}function ti(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Fe]=e,t[Ve]=r,n){case"dialog":Cu("cancel",t),Cu("close",t);break;case"iframe":case"object":case"embed":Cu("load",t);break;case"video":case"audio":for(n=0;n<Tu.length;n++)Cu(Tu[n],t);break;case"source":Cu("error",t);break;case"img":case"image":case"link":Cu("error",t),Cu("load",t);break;case"details":Cu("toggle",t);break;case"input":Cu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Cu("invalid",t);break;case"textarea":Cu("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Bu(t.textContent,n)?(null!=r.popover&&(Cu("beforetoggle",t),Cu("toggle",t)),null!=r.onScroll&&Cu("scroll",t),null!=r.onScrollEnd&&Cu("scrollend",t),null!=r.onClick&&(t.onclick=qu),t=!0):t=!1,t||ei(e)}function ni(e){for(Yr=e.return;Yr;)switch(Yr.tag){case 3:case 27:return void(Jr=!0);case 5:case 13:return void(Jr=!1);default:Yr=Yr.return}}function ri(e){if(e!==Yr)return!1;if(!Xr)return ni(e),Xr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Ju(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Qr&&ei(e),ni(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Qr=od(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Qr=null}}else Qr=Yr?od(e.stateNode.nextSibling):null;return!0}function ii(){Qr=Yr=null,Xr=!1}function si(e){null===$r?$r=[e]:$r.push(e)}var ai=Error(a(460)),oi=Error(a(474)),li={then:function(){}};function ci(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ui(){}function di(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ui,ui),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ai)throw Error(a(483));throw e;default:if("string"===typeof t.status)t.then(ui,ui);else{if(null!==(e=tc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ai)throw Error(a(483));throw e}throw hi=t,ai}}var hi=null;function fi(){if(null===hi)throw Error(a(459));var e=hi;return hi=null,e}var mi=null,pi=0;function gi(e){var t=pi;return pi+=1,null===mi&&(mi=[]),di(mi,e,t)}function vi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function yi(e,t){if(t.$$typeof===l)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Ml(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n,r){var s=n.type;return s===d?m(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===w&&bi(s)===t.type)?(vi(t=i(t,n.props),n),t.return=e,t):(vi(t=Vl(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ql(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function m(e,t,n,r,s){return null===t||7!==t.tag?((t=Ul(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Bl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return vi(n=Vl(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case u:return(t=ql(t,e.mode,n)).return=e,t;case w:return p(e,t=(0,t._init)(t._payload),n)}if(z(t)||E(t))return(t=Ul(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,gi(t),n);if(t.$$typeof===g)return p(e,To(e,t),n);yi(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===i?h(e,t,n,r):null;case u:return n.key===i?f(e,t,n,r):null;case w:return v(e,t,n=(i=n._init)(n._payload),r)}if(z(n)||E(n))return null!==i?null:m(e,t,n,r,null);if("function"===typeof n.then)return v(e,t,gi(n),r);if(n.$$typeof===g)return v(e,t,To(e,n),r);yi(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case u:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(z(r)||E(r))return m(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,gi(r),i);if(r.$$typeof===g)return y(e,t,n,To(t,r),i);yi(t,r)}return null}function b(l,h,f,m){if("object"===typeof f&&null!==f&&f.type===d&&null===f.key&&(f=f.props.children),"object"===typeof f&&null!==f){switch(f.$$typeof){case c:e:{for(var x=f.key;null!==h;){if(h.key===x){if((x=f.type)===d){if(7===h.tag){n(l,h.sibling),(m=i(h,f.props.children)).return=l,l=m;break e}}else if(h.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===w&&bi(x)===h.type){n(l,h.sibling),vi(m=i(h,f.props),f),m.return=l,l=m;break e}n(l,h);break}t(l,h),h=h.sibling}f.type===d?((m=Ul(f.props.children,l.mode,m,f.key)).return=l,l=m):(vi(m=Vl(f.type,f.key,f.props,null,l.mode,m),f),m.return=l,l=m)}return o(l);case u:e:{for(x=f.key;null!==h;){if(h.key===x){if(4===h.tag&&h.stateNode.containerInfo===f.containerInfo&&h.stateNode.implementation===f.implementation){n(l,h.sibling),(m=i(h,f.children||[])).return=l,l=m;break e}n(l,h);break}t(l,h),h=h.sibling}(m=ql(f,l.mode,m)).return=l,l=m}return o(l);case w:return b(l,h,f=(x=f._init)(f._payload),m)}if(z(f))return function(i,a,o,l){for(var c=null,u=null,d=a,h=a=0,f=null;null!==d&&h<o.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var m=v(i,d,o[h],l);if(null===m){null===d&&(d=f);break}e&&d&&null===m.alternate&&t(i,d),a=s(m,a,h),null===u?c=m:u.sibling=m,u=m,d=f}if(h===o.length)return n(i,d),Xr&&Wr(i,h),c;if(null===d){for(;h<o.length;h++)null!==(d=p(i,o[h],l))&&(a=s(d,a,h),null===u?c=d:u.sibling=d,u=d);return Xr&&Wr(i,h),c}for(d=r(d);h<o.length;h++)null!==(f=y(d,i,h,o[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),a=s(f,a,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach((function(e){return t(i,e)})),Xr&&Wr(i,h),c}(l,h,f,m);if(E(f)){if("function"!==typeof(x=E(f)))throw Error(a(150));return function(i,o,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,h=o,f=o=0,m=null,g=l.next();null!==h&&!g.done;f++,g=l.next()){h.index>f?(m=h,h=null):m=h.sibling;var b=v(i,h,g.value,c);if(null===b){null===h&&(h=m);break}e&&h&&null===b.alternate&&t(i,h),o=s(b,o,f),null===d?u=b:d.sibling=b,d=b,h=m}if(g.done)return n(i,h),Xr&&Wr(i,f),u;if(null===h){for(;!g.done;f++,g=l.next())null!==(g=p(i,g.value,c))&&(o=s(g,o,f),null===d?u=g:d.sibling=g,d=g);return Xr&&Wr(i,f),u}for(h=r(h);!g.done;f++,g=l.next())null!==(g=y(h,i,f,g.value,c))&&(e&&null!==g.alternate&&h.delete(null===g.key?f:g.key),o=s(g,o,f),null===d?u=g:d.sibling=g,d=g);return e&&h.forEach((function(e){return t(i,e)})),Xr&&Wr(i,f),u}(l,h,f=x.call(f),m)}if("function"===typeof f.then)return b(l,h,gi(f),m);if(f.$$typeof===g)return b(l,h,To(l,f),m);yi(l,f)}return"string"===typeof f&&""!==f||"number"===typeof f||"bigint"===typeof f?(f=""+f,null!==h&&6===h.tag?(n(l,h.sibling),(m=i(h,f)).return=l,l=m):(n(l,h),(m=Bl(f,l.mode,m)).return=l,l=m),o(l)):n(l,h)}return function(e,t,n,r){try{pi=0;var i=b(e,t,n,r);return mi=null,i}catch(a){if(a===ai)throw a;var s=Ll(29,a,null,e.mode);return s.lanes=r,s.return=e,s}}}var wi=xi(!0),Si=xi(!1),ki=G(null),Ni=G(0);function Ei(e,t){Y(Ni,e=cc),Y(ki,t),cc=e|t.baseLanes}function Ti(){Y(Ni,cc),Y(ki,ki.current)}function ji(){cc=Ni.current,K(ki),K(Ni)}var _i=G(null),Ci=null;function Ai(e){var t=e.alternate;Y(Ri,1&Ri.current),Y(_i,e),null===Ci&&(null===t||null!==ki.current||null!==t.memoizedState)&&(Ci=e)}function Ii(e){if(22===e.tag){if(Y(Ri,Ri.current),Y(_i,e),null===Ci){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Ci=e)}}else Pi()}function Pi(){Y(Ri,Ri.current),Y(_i,_i.current)}function Di(e){K(_i),Ci===e&&(Ci=null),K(Ri)}var Ri=G(0);function Li(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Mi=r.unstable_scheduleCallback,Fi=r.unstable_NormalPriority,Vi={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ui(){return{controller:new Oi,data:new Map,refCount:0}}function zi(e){e.refCount--,0===e.refCount&&Mi(Fi,(function(){e.controller.abort()}))}var Bi=null,qi=0,Wi=0,Hi=null;function Gi(){if(0===--qi&&null!==Bi){null!==Hi&&(Hi.status="fulfilled");var e=Bi;Bi=null,Wi=0,Hi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ki=A.S;A.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Bi){var n=Bi=[];qi=0,Wi=wu(),Hi={status:"pending",value:void 0,then:function(e){n.push(e)}}}qi++,t.then(Gi,Gi)}(0,t),null!==Ki&&Ki(e,t)};var Yi=G(null);function Qi(){var e=Yi.current;return null!==e?e:tc.pooledCache}function Xi(e,t){Y(Yi,null===t?Yi.current:t.pool)}function $i(){var e=Qi();return null===e?null:{parent:Vi._currentValue,pool:e}}var Ji=0,Zi=null,es=null,ts=null,ns=!1,rs=!1,is=!1,ss=0,as=0,os=null,ls=0;function cs(){throw Error(a(321))}function us(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function ds(e,t,n,r,i,s){return Ji=s,Zi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=null===e||null===e.memoizedState?Ea:Ta,is=!1,s=n(r,i),is=!1,rs&&(s=fs(t,n,r,i)),hs(e),s}function hs(e){A.H=Na;var t=null!==es&&null!==es.next;if(Ji=0,ts=es=Zi=null,ns=!1,as=0,os=null,t)throw Error(a(300));null===e||qa||null!==(e=e.dependencies)&&ko(e)&&(qa=!0)}function fs(e,t,n,r){Zi=e;var i=0;do{if(rs&&(os=null),as=0,rs=!1,25<=i)throw Error(a(301));if(i+=1,ts=es=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}A.H=ja,s=t(n,r)}while(rs);return s}function ms(){var e=A.H,t=e.useState()[0];return t="function"===typeof t.then?xs(t):t,e=e.useState()[0],(null!==es?es.memoizedState:null)!==e&&(Zi.flags|=1024),t}function ps(){var e=0!==ss;return ss=0,e}function gs(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function vs(e){if(ns){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ns=!1}Ji=0,ts=es=Zi=null,rs=!1,as=ss=0,os=null}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ts?Zi.memoizedState=ts=e:ts=ts.next=e,ts}function bs(){if(null===es){var e=Zi.alternate;e=null!==e?e.memoizedState:null}else e=es.next;var t=null===ts?Zi.memoizedState:ts.next;if(null!==t)ts=t,es=e;else{if(null===e){if(null===Zi.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(es=e).memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},null===ts?Zi.memoizedState=ts=e:ts=ts.next=e}return ts}function xs(e){var t=as;return as+=1,null===os&&(os=[]),e=di(os,e,t),t=Zi,null===(null===ts?t.memoizedState:ts.next)&&(t=t.alternate,A.H=null===t||null===t.memoizedState?Ea:Ta),e}function ws(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return xs(e);if(e.$$typeof===g)return Eo(e)}throw Error(a(438,String(e)))}function Ss(e){var t=null,n=Zi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Zi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=k;return t.index++,n}function ks(e,t){return"function"===typeof t?t(e):t}function Ns(e){return Es(bs(),es,e)}function Es(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(rc&h)===h:(Ji&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Wi&&(d=!0);else{if((Ji&f)===f){u=u.next,f===Wi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,Zi.lanes|=f,dc|=f}h=u.action,is&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,Zi.lanes|=h,dc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Yn(s,e.memoizedState)&&(qa=!0,d&&null!==(n=Hi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ts(e){var t=bs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Yn(s,t.memoizedState)||(qa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function js(e,t,n){var r=Zi,i=bs(),s=Xr;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Yn((es||i).memoizedState,n);if(o&&(i.memoizedState=n,qa=!0),i=i.queue,Js(As.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==ts&&1&ts.memoizedState.tag){if(r.flags|=2048,Ks(9,Cs.bind(null,r,i,n,t),{destroy:void 0},null),null===tc)throw Error(a(349));s||0!==(60&Ji)||_s(r,t,n)}return n}function _s(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Zi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Cs(e,t,n,r){t.value=n,t.getSnapshot=r,Is(t)&&Ps(e)}function As(e,t,n){return n((function(){Is(t)&&Ps(e)}))}function Is(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Ps(e){var t=Cr(e,2);null!==t&&Pc(t,e,2)}function Ds(e){var t=ys();if("function"===typeof e){var n=e;if(e=n(),is){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:e},t}function Rs(e,t,n,r){return e.baseState=n,Es(e,es,"function"===typeof r?r:ks)}function Ls(e,t,n,r,i){if(wa(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==A.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,Os(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Os(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=A.T,a={};A.T=a;try{var o=n(i,r),l=A.S;null!==l&&l(a,o),Ms(e,t,o)}catch(c){Vs(e,t,c)}finally{A.T=s}}else try{Ms(e,t,s=n(i,r))}catch(u){Vs(e,t,u)}}function Ms(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Fs(e,t,n)}),(function(n){return Vs(e,t,n)})):Fs(e,t,n)}function Fs(e,t,n){t.status="fulfilled",t.value=n,Us(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Os(e,n)))}function Vs(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Us(t),t=t.next}while(t!==r)}e.action=null}function Us(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function zs(e,t){return t}function Bs(e,t){if(Xr){var n=tc.formState;if(null!==n){e:{var r=Zi;if(Xr){if(Qr){t:{for(var i=Qr,s=Jr;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=od(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){Qr=od(i.nextSibling),r="F!"===i.data;break e}}ei(r)}r=!1}r&&(t=n[0])}}return(n=ys()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:t},n.queue=r,n=ya.bind(null,Zi,r),r.dispatch=n,r=Ds(!1),s=xa.bind(null,Zi,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ys()).queue=i,n=Ls.bind(null,Zi,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function qs(e){return Ws(bs(),es,e)}function Ws(e,t,n){t=Es(e,t,zs)[0],e=Ns(ks)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?xs(t):t;var r=bs(),i=r.queue,s=i.dispatch;return n!==r.memoizedState&&(Zi.flags|=2048,Ks(9,Hs.bind(null,i,n),{destroy:void 0},null)),[t,s,e]}function Hs(e,t){e.action=t}function Gs(e){var t=bs(),n=es;if(null!==n)return Ws(t,n,e);bs(),t=t.memoizedState;var r=(n=bs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ks(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=Zi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ys(){return bs().memoizedState}function Qs(e,t,n,r){var i=ys();Zi.flags|=e,i.memoizedState=Ks(1|t,n,{destroy:void 0},void 0===r?null:r)}function Xs(e,t,n,r){var i=bs();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==es&&null!==r&&us(r,es.memoizedState.deps)?i.memoizedState=Ks(t,n,s,r):(Zi.flags|=e,i.memoizedState=Ks(1|t,n,s,r))}function $s(e,t){Qs(8390656,8,e,t)}function Js(e,t){Xs(2048,8,e,t)}function Zs(e,t){return Xs(4,2,e,t)}function ea(e,t){return Xs(4,4,e,t)}function ta(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function na(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Xs(4,4,ta.bind(null,t,e),n)}function ra(){}function ia(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&us(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sa(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&us(t,r[1]))return r[0];if(r=e(),is){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function aa(e,t,n){return void 0===n||0!==(1073741824&Ji)?e.memoizedState=t:(e.memoizedState=n,e=Ic(),Zi.lanes|=e,dc|=e,n)}function oa(e,t,n,r){return Yn(n,t)?n:null!==ki.current?(e=aa(e,n,r),Yn(e,t)||(qa=!0),e):0===(42&Ji)?(qa=!0,e.memoizedState=n):(e=Ic(),Zi.lanes|=e,dc|=e,t)}function la(e,t,n,r,i){var s=B.p;B.p=0!==s&&8>s?s:8;var a=A.T,o={};A.T=o,xa(e,!1,t,n);try{var l=i(),c=A.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)ba(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Ac());else ba(e,t,r,Ac())}catch(u){ba(e,t,{then:function(){},status:"rejected",reason:u},Ac())}finally{B.p=s,A.T=a}}function ca(){}function ua(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=da(e).queue;la(e,i,t,q,null===n?ca:function(){return ha(e),n(r)})}function da(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:q},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ha(e){ba(e,da(e).next.queue,{},Ac())}function fa(){return Eo(Od)}function ma(){return bs().memoizedState}function pa(){return bs().memoizedState}function ga(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Ac(),r=Po(t,e=Io(n),n);return null!==r&&(Pc(r,t,n),Do(r,t,n)),t={cache:Ui()},void(e.payload=t)}t=t.return}}function va(e,t,n){var r=Ac();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},wa(e)?Sa(t,n):null!==(n=_r(e,t,n,r))&&(Pc(n,e,r),ka(n,t,r))}function ya(e,t,n){ba(e,t,n,Ac())}function ba(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(wa(e))Sa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Yn(o,a))return jr(e,t,i,0),null===tc&&Tr(),!1}catch(l){}if(null!==(n=_r(e,t,i,r)))return Pc(n,e,r),ka(n,t,r),!0}return!1}function xa(e,t,n,r){if(r={lane:2,revertLane:wu(),action:r,hasEagerState:!1,eagerState:null,next:null},wa(e)){if(t)throw Error(a(479))}else null!==(t=_r(e,n,r,2))&&Pc(t,e,2)}function wa(e){var t=e.alternate;return e===Zi||null!==t&&t===Zi}function Sa(e,t){rs=ns=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ka(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}var Na={readContext:Eo,use:ws,useCallback:cs,useContext:cs,useEffect:cs,useImperativeHandle:cs,useLayoutEffect:cs,useInsertionEffect:cs,useMemo:cs,useReducer:cs,useRef:cs,useState:cs,useDebugValue:cs,useDeferredValue:cs,useTransition:cs,useSyncExternalStore:cs,useId:cs};Na.useCacheRefresh=cs,Na.useMemoCache=cs,Na.useHostTransitionStatus=cs,Na.useFormState=cs,Na.useActionState=cs,Na.useOptimistic=cs;var Ea={readContext:Eo,use:ws,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Eo,useEffect:$s,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Qs(4194308,4,ta.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qs(4194308,4,e,t)},useInsertionEffect:function(e,t){Qs(4,2,e,t)},useMemo:function(e,t){var n=ys();t=void 0===t?null:t;var r=e();if(is){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ys();if(void 0!==n){var i=n(t);if(is){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=va.bind(null,Zi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:function(e){var t=(e=Ds(e)).queue,n=ya.bind(null,Zi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ra,useDeferredValue:function(e,t){return aa(ys(),e,t)},useTransition:function(){var e=Ds(!1);return e=la.bind(null,Zi,e.queue,!0,!1),ys().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Zi,i=ys();if(Xr){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===tc)throw Error(a(349));0!==(60&rc)||_s(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,$s(As.bind(null,r,s,e),[e]),r.flags|=2048,Ks(9,Cs.bind(null,r,s,n,t),{destroy:void 0},null),n},useId:function(){var e=ys(),t=tc.identifierPrefix;if(Xr){var n=qr;t=":"+t+"R"+(n=(Br&~(1<<32-xe(Br)-1)).toString(32)+n),0<(n=ss++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ls++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return ys().memoizedState=ga.bind(null,Zi)}};Ea.useMemoCache=Ss,Ea.useHostTransitionStatus=fa,Ea.useFormState=Bs,Ea.useActionState=Bs,Ea.useOptimistic=function(e){var t=ys();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=xa.bind(null,Zi,!0,n),n.dispatch=t,[e,t]};var Ta={readContext:Eo,use:ws,useCallback:ia,useContext:Eo,useEffect:Js,useImperativeHandle:na,useInsertionEffect:Zs,useLayoutEffect:ea,useMemo:sa,useReducer:Ns,useRef:Ys,useState:function(){return Ns(ks)},useDebugValue:ra,useDeferredValue:function(e,t){return oa(bs(),es.memoizedState,e,t)},useTransition:function(){var e=Ns(ks)[0],t=bs().memoizedState;return["boolean"===typeof e?e:xs(e),t]},useSyncExternalStore:js,useId:ma};Ta.useCacheRefresh=pa,Ta.useMemoCache=Ss,Ta.useHostTransitionStatus=fa,Ta.useFormState=qs,Ta.useActionState=qs,Ta.useOptimistic=function(e,t){return Rs(bs(),0,e,t)};var ja={readContext:Eo,use:ws,useCallback:ia,useContext:Eo,useEffect:Js,useImperativeHandle:na,useInsertionEffect:Zs,useLayoutEffect:ea,useMemo:sa,useReducer:Ts,useRef:Ys,useState:function(){return Ts(ks)},useDebugValue:ra,useDeferredValue:function(e,t){var n=bs();return null===es?aa(n,e,t):oa(n,es.memoizedState,e,t)},useTransition:function(){var e=Ts(ks)[0],t=bs().memoizedState;return["boolean"===typeof e?e:xs(e),t]},useSyncExternalStore:js,useId:ma};function _a(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ja.useCacheRefresh=pa,ja.useMemoCache=Ss,ja.useHostTransitionStatus=fa,ja.useFormState=Gs,ja.useActionState=Gs,ja.useOptimistic=function(e,t){var n=bs();return null!==es?Rs(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Ca={isMounted:function(e){return!!(e=e._reactInternals)&&M(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ac(),i=Io(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Po(e,i,r))&&(Pc(t,e,r),Do(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ac(),i=Io(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Po(e,i,r))&&(Pc(t,e,r),Do(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ac(),r=Io(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Po(e,r,n))&&(Pc(t,e,n),Do(t,e,n))}};function Aa(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,r)||!Qn(i,s))}function Ia(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ca.enqueueReplaceState(t,t.state,null)}function Pa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=I({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var Da="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Ra(e){Da(e)}function La(e){console.error(e)}function Oa(e){Da(e)}function Ma(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Fa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Va(e,t,n){return(n=Io(n)).tag=3,n.payload={element:null},n.callback=function(){Ma(e,t)},n}function Ua(e){return(e=Io(e)).tag=3,e}function za(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Fa(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Fa(t,n,r),"function"!==typeof i&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ba=Error(a(461)),qa=!1;function Wa(e,t,n,r){t.child=null===e?Si(t,null,n,r):wi(t,e.child,n,r)}function Ha(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return No(t),r=ds(e,t,n,a,s,i),o=ps(),null===e||qa?(Xr&&o&&Gr(t),t.flags|=1,Wa(e,t,r,i),t.child):(gs(e,t,i),ho(e,t,i))}function Ga(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ol(s)||void 0!==s.defaultProps||null!==n.compare?((e=Vl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ka(e,t,s,r,i))}if(s=e.child,!fo(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(a,r)&&e.ref===t.ref)return ho(e,t,i)}return t.flags|=1,(e=Ml(s,r)).ref=t.ref,e.return=t,t.child=e}function Ka(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Qn(s,r)&&e.ref===t.ref){if(qa=!1,t.pendingProps=r=s,!fo(e,i))return t.lanes=e.lanes,ho(e,t,i);0!==(131072&e.flags)&&(qa=!0)}}return $a(e,t,n,r,i)}function Ya(e,t,n){var r=t.pendingProps,i=r.children,s=0!==(2&t.stateNode._pendingVisibility),a=null!==e?e.memoizedState:null;if(Xa(e,t),"hidden"===r.mode||s){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Qa(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Qa(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xi(0,null!==a?a.cachePool:null),null!==a?Ei(t,a):Ti(),Ii(t)}else null!==a?(Xi(0,a.cachePool),Ei(t,a),Pi(),t.memoizedState=null):(null!==e&&Xi(0,null),Ti(),Pi());return Wa(e,t,i,n),t.child}function Qa(e,t,n,r){var i=Qi();return i=null===i?null:{parent:Vi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Xi(0,null),Ti(),Ii(t),null!==e&&So(e,t,r,!0),null}function Xa(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function $a(e,t,n,r,i){return No(t),n=ds(e,t,n,r,void 0,i),r=ps(),null===e||qa?(Xr&&r&&Gr(t),t.flags|=1,Wa(e,t,n,i),t.child):(gs(e,t,i),ho(e,t,i))}function Ja(e,t,n,r,i,s){return No(t),t.updateQueue=null,n=fs(t,r,n,i),hs(e),r=ps(),null===e||qa?(Xr&&r&&Gr(t),t.flags|=1,Wa(e,t,n,s),t.child):(gs(e,t,s),ho(e,t,s))}function Za(e,t,n,r,i){if(No(t),null===t.stateNode){var s=Pr,a=n.contextType;"object"===typeof a&&null!==a&&(s=Eo(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=Ca,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},Co(t),a=n.contextType,s.context="object"===typeof a&&null!==a?Eo(a):Pr,s.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(_a(t,n,a,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(a=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&Ca.enqueueReplaceState(s,s.state,null),Mo(t,r,s,i),Oo(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=Pa(n,o);s.props=l;var c=s.context,u=n.contextType;a=Pr,"object"===typeof u&&null!==u&&(a=Eo(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==a)&&Ia(t,s,r,a),_o=!1;var h=t.memoizedState;s.state=h,Mo(t,r,s,i),Oo(),c=t.memoizedState,o||h!==c||_o?("function"===typeof d&&(_a(t,n,d,r),c=t.memoizedState),(l=_o||Aa(t,n,l,r,h,c,a))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ao(e,t),u=Pa(n,a=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=Pr,"object"===typeof c&&null!==c&&(l=Eo(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&Ia(t,s,r,l),_o=!1,h=t.memoizedState,s.state=h,Mo(t,r,s,i),Oo();var f=t.memoizedState;a!==d||h!==f||_o||null!==e&&null!==e.dependencies&&ko(e.dependencies)?("function"===typeof o&&(_a(t,n,o,r),f=t.memoizedState),(u=_o||Aa(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&ko(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Xa(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,n,i)):Wa(e,t,n,i),t.memoizedState=s.state,e=t.child):e=ho(e,t,i),e}function eo(e,t,n,r){return ii(),t.flags|=256,Wa(e,t,n,r),t.child}var to={dehydrated:null,treeContext:null,retryLane:0};function no(e){return{baseLanes:e,cachePool:$i()}}function ro(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=mc),e}function io(e,t,n){var r,i=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Ri.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Xr){if(s?Ai(t):Pi(),Xr){var l,c=Qr;if(l=c){e:{for(l=c,c=Jr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=od(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==zr?{id:Br,overflow:qr}:null,retryLane:536870912},(l=Ll(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Yr=t,Qr=null,l=!0):l=!1}l||ei(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Di(t)}return c=i.children,i=i.fallback,s?(Pi(),c=ao({mode:"hidden",children:c},s=t.mode),i=Ul(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(s=t.child).memoizedState=no(n),s.childLanes=ro(e,r,n),t.memoizedState=to,i):(Ai(t),so(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(Ai(t),t.flags&=-257,t=oo(e,t,n)):null!==t.memoizedState?(Pi(),t.child=e.child,t.flags|=128,t=null):(Pi(),s=i.fallback,c=t.mode,i=ao({mode:"visible",children:i.children},c),(s=Ul(s,c,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,wi(t,e.child,null,n),(i=t.child).memoizedState=no(n),i.childLanes=ro(e,r,n),t.memoizedState=to,t=s);else if(Ai(t),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,si({value:i,source:null,stack:null}),t=oo(e,t,n)}else if(qa||So(e,t,n,!1),r=0!==(n&e.childLanes),qa||r){if(null!==(r=tc)){if(0!==(42&(i=n&-n)))i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(0!==(i=0!==(i&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane)throw l.retryLane=i,Cr(e,i),Pc(r,e,i),Ba}"$?"===c.data||Wc(),t=oo(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=ou.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Qr=od(c.nextSibling),Yr=t,Xr=!0,$r=null,Jr=!1,null!==e&&(Vr[Ur++]=Br,Vr[Ur++]=qr,Vr[Ur++]=zr,Br=e.id,qr=e.overflow,zr=t),(t=so(t,i.children)).flags|=4096);return t}return s?(Pi(),s=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Ml(l,{mode:"hidden",children:i.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?s=Ml(u,s):(s=Ul(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(c=e.child.memoizedState)?c=no(n):(null!==(l=c.cachePool)?(u=Vi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=$i(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=ro(e,r,n),t.memoizedState=to,i):(Ai(t),e=(n=e.child).sibling,(n=Ml(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function so(e,t){return(t=ao({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ao(e,t){return zl(e,t,0,null)}function oo(e,t,n){return wi(t,e.child,null,n),(e=so(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function lo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xo(e.return,t,n)}function co(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function uo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Wa(e,t,r.children,n),0!==(2&(r=Ri.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&lo(e,n,t);else if(19===e.tag)lo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(Y(Ri,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Li(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),co(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Li(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}co(t,!0,n,null,s);break;case"together":co(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),dc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(So(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ml(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ml(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function fo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ko(e))}function mo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)qa=!0;else{if(!fo(e,n)&&0===(128&t.flags))return qa=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),yo(t,Vi,e.memoizedState.cache),ii();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:yo(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ai(t),t.flags|=128,null):0!==(n&t.child.childLanes)?io(e,t,n):(Ai(t),null!==(e=ho(e,t,n))?e.sibling:null);Ai(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(So(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return uo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Y(Ri,Ri.current),r)break;return null;case 22:case 23:return t.lanes=0,Ya(e,t,n);case 24:yo(t,Vi,e.memoizedState.cache)}return ho(e,t,n)}(e,t,n);qa=0!==(131072&e.flags)}else qa=!1,Xr&&0!==(1048576&t.flags)&&Hr(t,Fr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===v){t.tag=11,t=Ha(null,t,r,e,n);break e}if(i===x){t.tag=14,t=Ga(null,t,r,e,n);break e}}throw t=j(r)||r,Error(a(306,t,""))}Ol(r)?(e=Pa(r,e),t.tag=1,t=Za(null,t,r,e,n)):(t.tag=0,t=$a(null,t,r,e,n))}return t;case 0:return $a(e,t,t.type,t.pendingProps,n);case 1:return Za(e,t,r=t.type,i=Pa(r,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(a(387));var s=t.pendingProps;r=(i=t.memoizedState).element,Ao(e,t),Mo(t,s,null,n);var o=t.memoizedState;if(s=o.cache,yo(t,Vi,s),s!==i.cache&&wo(t,[Vi],n,!0),Oo(),s=o.element,i.isDehydrated){if(i={element:s,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=eo(e,t,s,n);break e}if(s!==r){si(r=Rr(Error(a(424)),t)),t=eo(e,t,s,n);break e}for(Qr=od(t.stateNode.containerInfo.firstChild),Yr=t,Xr=!0,$r=null,Jr=!0,n=Si(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ii(),s===r){t=ho(e,t,n);break e}Wa(e,t,s,n)}t=t.child}return t;case 26:return Xa(e,t),null===e?(n=gd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Xr||(n=t.type,e=t.pendingProps,(r=Qu($.current).createElement(n))[Fe]=t,r[Ve]=e,Gu(r,n,e),$e(r),t.stateNode=r):t.memoizedState=gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Xr&&(r=t.stateNode=cd(t.type,t.pendingProps,$.current),Yr=t,Jr=!0,Qr=od(r.firstChild)),r=t.pendingProps.children,null!==e||Xr?Wa(e,t,r,n):t.child=wi(t,null,r,n),Xa(e,t),t.child;case 5:return null===e&&Xr&&((i=r=Qr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[He])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=od(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Jr))?(t.stateNode=r,Yr=t,Qr=od(r.firstChild),Jr=!1,i=!0):i=!1),i||ei(t)),te(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,Ju(i,s)?r=null:null!==o&&Ju(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=ds(e,t,ms,null,null,n),Od._currentValue=i),Xa(e,t),Wa(e,t,r,n),t.child;case 6:return null===e&&Xr&&((e=n=Qr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=od(e.nextSibling)))return null}return e}(n,t.pendingProps,Jr))?(t.stateNode=n,Yr=t,Qr=null,e=!0):e=!1),e||ei(t)),null;case 13:return io(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):Wa(e,t,r,n),t.child;case 11:return Ha(e,t,t.type,t.pendingProps,n);case 7:return Wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Wa(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,yo(t,t.type,r.value),Wa(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,No(t),r=r(i=Eo(i)),t.flags|=1,Wa(e,t,r,n),t.child;case 14:return Ga(e,t,t.type,t.pendingProps,n);case 15:return Ka(e,t,t.type,t.pendingProps,n);case 19:return uo(e,t,n);case 22:return Ya(e,t,n);case 24:return No(t),r=Eo(Vi),null===e?(null===(i=Qi())&&(i=tc,s=Ui(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},Co(t),yo(t,Vi,i)):(0!==(e.lanes&n)&&(Ao(e,t),Mo(t,null,null,n),Oo()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),yo(t,Vi,r)):(r=s.cache,yo(t,Vi,r),r!==i.cache&&wo(t,[Vi],n,!0))),Wa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}var po=G(null),go=null,vo=null;function yo(e,t,n){Y(po,t._currentValue),t._currentValue=n}function bo(e){e._currentValue=po.current,K(po)}function xo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wo(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),xo(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),xo(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function So(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=i.type;Yn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===J.current){if(null===(o=i.alternate))throw Error(a(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Od):e=[Od])}i=i.return}null!==e&&wo(t,e,n,r),t.flags|=262144}function ko(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function No(e){go=e,vo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Eo(e){return jo(go,e)}function To(e,t){return null===go&&No(e),jo(e,t)}function jo(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vo){if(null===e)throw Error(a(308));vo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vo=vo.next=t;return n}var _o=!1;function Co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Io(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Po(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ec)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Ir(e),Ar(e,null,n),t}return jr(e,r,t,n),Ir(e)}function Do(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}function Ro(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Lo=!1;function Oo(){if(Lo){if(null!==Hi)throw Hi}}function Mo(e,t,n,r){Lo=!1;var i=e.updateQueue;_o=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=-536870913&o.lane,f=h!==o.lane;if(f?(rc&h)===h:(r&h)===h){0!==h&&h===Wi&&(Lo=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,p=o;h=t;var g=n;switch(p.tag){case 1:if("function"===typeof(m=p.payload)){d=m.call(g,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=p.payload)?m.call(g,d,h):m)||void 0===h)break e;d=I({},d,h);break e;case 2:_o=!0}}null!==(h=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(f=o).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),dc|=a,e.lanes=a,e.memoizedState=d}}function Fo(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function Vo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Fo(n[e],t)}function Uo(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){ru(t,t.return,o)}}function zo(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n;try{o()}catch(c){ru(i,l,c)}}}r=r.next}while(r!==s)}}catch(c){ru(t,t.return,c)}}function Bo(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Vo(t,n)}catch(r){ru(e,e.return,r)}}}function qo(e,t,n){n.props=Pa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ru(e,t,r)}}function Wo(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=r;break;default:i=r}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(s){ru(e,t,s)}}function Ho(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){ru(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){ru(e,t,s)}else n.current=null}function Go(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){ru(e,e.return,i)}}function Ko(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,l=null,c=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(m)||Wu(e,t,m,null,r,h)}}for(var f in r){var m=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=m||null!=h))switch(f){case"type":s=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(a(137,t));break;default:m!==h&&Wu(e,t,f,m,r,h)}}return void gt(e,o,l,c,u,d,s,i);case"select":for(s in m=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(s)||Wu(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&Wu(e,t,i,s,r,c)}return t=l,n=o,r=m,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Wu(e,t,l,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":f=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==s&&Wu(e,t,o,i,r,s)}return void xt(e,f,m);case"option":for(var p in n)if(f=n[p],n.hasOwnProperty(p)&&null!=f&&!r.hasOwnProperty(p))if("selected"===p)e.selected=!1;else Wu(e,t,p,null,r,f);for(c in r)if(f=r[c],m=n[c],r.hasOwnProperty(c)&&f!==m&&(null!=f||null!=m))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Wu(e,t,c,f,r,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Wu(e,t,g,null,r,f);for(u in r)if(f=r[u],m=n[u],r.hasOwnProperty(u)&&f!==m&&(null!=f||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Wu(e,t,u,f,r,m)}return;default:if(Tt(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&Hu(e,t,v,void 0,r,f);for(d in r)f=r[d],m=n[d],!r.hasOwnProperty(d)||f===m||void 0===f&&void 0===m||Hu(e,t,d,f,r,m);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&Wu(e,t,y,null,r,f);for(h in r)f=r[h],m=n[h],!r.hasOwnProperty(h)||f===m||null==f&&null==m||Wu(e,t,h,f,r,m)}(r,e.type,n,t),r[Ve]=t}catch(i){ru(e,e.return,i)}}function Yo(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Qo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Yo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Xo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=qu));else if(4!==r&&27!==r&&null!==(e=e.child))for(Xo(e,t,n),e=e.sibling;null!==e;)Xo(e,t,n),e=e.sibling}function $o(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for($o(e,t,n),e=e.sibling;null!==e;)$o(e,t,n),e=e.sibling}var Jo=!1,Zo=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,nl=null,rl=!1;function il(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:vl(e,n),4&r&&Uo(5,n);break;case 1:if(vl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){ru(n,n.return,o)}else{var i=Pa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){ru(n,n.return,l)}}64&r&&Bo(n),512&r&&Wo(n,n.return);break;case 3:if(vl(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Vo(r,e)}catch(o){ru(n,n.return,o)}}break;case 26:vl(e,n),512&r&&Wo(n,n.return);break;case 27:case 5:vl(e,n),null===t&&4&r&&Go(n),512&r&&Wo(n,n.return);break;case 12:default:vl(e,n);break;case 13:vl(e,n),4&r&&ul(e,n);break;case 22:if(!(i=null!==n.memoizedState||Jo)){t=null!==t&&null!==t.memoizedState||Zo;var s=Jo,a=Zo;Jo=i,(Zo=t)&&!a?bl(e,n,0!==(8772&n.subtreeFlags)):vl(e,n),Jo=s,Zo=a}512&r&&("manual"===n.memoizedProps.mode?Wo(n,n.return):Ho(n,n.return))}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ge(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var al=null,ol=!1;function ll(e,t,n){for(n=n.child;null!==n;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(a){}switch(n.tag){case 26:Zo||Ho(n,t),ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Zo||Ho(n,t);var r=al,i=ol;for(al=n.stateNode,ll(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);Ge(n),al=r,ol=i;break;case 5:Zo||Ho(n,t);case 6:i=al;var s=ol;if(al=null,ll(e,t,n),ol=s,null!==(al=i))if(ol)try{e=al,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(o){ru(n,t,o)}else try{al.removeChild(n.stateNode)}catch(o){ru(n,t,o)}break;case 18:null!==al&&(ol?(t=al,n=n.stateNode,8===t.nodeType?sd(t.parentNode,n):1===t.nodeType&&sd(t,n),ph(t)):sd(al,n.stateNode));break;case 4:r=al,i=ol,al=n.stateNode.containerInfo,ol=!0,ll(e,t,n),al=r,ol=i;break;case 0:case 11:case 14:case 15:Zo||zo(2,n,t),Zo||zo(4,n,t),ll(e,t,n);break;case 1:Zo||(Ho(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&qo(n,t,r)),ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:Zo||Ho(n,t),Zo=(r=Zo)||null!==n.memoizedState,ll(e,t,n),Zo=r;break;default:ll(e,t,n)}}function ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{ph(e)}catch(n){ru(t,t.return,n)}}function dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=lu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:case 5:al=l.stateNode,ol=!1;break e;case 3:case 4:al=l.stateNode.containerInfo,ol=!0;break e}l=l.return}if(null===al)throw Error(a(160));cl(s,o,i),al=null,ol=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}var fl=null;function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hl(t,e),pl(e),4&r&&(zo(3,e,e.return),Uo(3,e),zo(5,e,e.return));break;case 1:hl(t,e),pl(e),512&r&&(Zo||null===n||Ho(n,n.return)),64&r&&Jo&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=fl;if(hl(t,e),pl(e),512&r&&(Zo||null===n||Ho(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[He]||s[Fe]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),Gu(s,r,n),s[Fe]=e,$e(s),r=s;break e;case"link":var o=jd("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}Gu(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(o=jd("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}Gu(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(a(468,r))}s[Fe]=e,$e(s),r=s}e.stateNode=r}else _d(i,e.type,e.stateNode);else e.stateNode=Sd(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?_d(i,e.type,e.stateNode):Sd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Ko(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){i=e.stateNode,s=e.memoizedProps;try{for(var c=i.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[He]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===c.rel.toLowerCase()||i.removeChild(c),c=u}for(var h=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Gu(i,h,s),i[Fe]=e,i[Ve]=s}catch(p){ru(e,e.return,p)}}case 5:if(hl(t,e),pl(e),512&r&&(Zo||null===n||Ho(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(p){ru(e,e.return,p)}}4&r&&null!=e.stateNode&&Ko(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(el=!0);break;case 6:if(hl(t,e),pl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){ru(e,e.return,p)}}break;case 3:if(Td=null,i=fl,fl=hd(t.containerInfo),hl(t,e),fl=i,pl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{ph(t.containerInfo)}catch(p){ru(e,e.return,p)}el&&(el=!1,gl(e));break;case 4:r=fl,fl=hd(e.stateNode.containerInfo),hl(t,e),pl(e),fl=r;break;case 12:hl(t,e),pl(e);break;case 13:hl(t,e),pl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(bc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 22:if(512&r&&(Zo||null===n||Ho(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,Jo=(d=Jo)||c,Zo=(h=Zo)||u,hl(t,e),Zo=h,Jo=d,pl(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Jo||Zo,null===n||u||t||yl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(i=u.stateNode,c)"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode;var m=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;o.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(p){ru(u,u.return,p)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(p){ru(u,u.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,dl(e,n))));break;case 19:hl(t,e),pl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 21:break;default:hl(t,e),pl(e)}}function pl(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Yo(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 27:var i=r.stateNode;$o(e,Qo(e),i);break;case 5:var s=r.stateNode;32&r.flags&&(St(s,""),r.flags&=-33),$o(e,Qo(e),s);break;case 3:case 4:var o=r.stateNode.containerInfo;Xo(e,Qo(e),o);break;default:throw Error(a(161))}}}catch(l){ru(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function vl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)il(e,t.alternate,t),t=t.sibling}function yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:zo(4,t,t.return),yl(t);break;case 1:Ho(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&qo(t,t.return,n),yl(t);break;case 26:case 27:case 5:Ho(t,t.return),yl(t);break;case 22:Ho(t,t.return),null===t.memoizedState&&yl(t);break;default:yl(t)}e=e.sibling}}function bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:bl(i,s,n),Uo(4,s);break;case 1:if(bl(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){ru(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Fo(l[i],o)}catch(c){ru(r,r.return,c)}}n&&64&a&&Bo(s),Wo(s,s.return);break;case 26:case 27:case 5:bl(i,s,n),n&&null===r&&4&a&&Go(s),Wo(s,s.return);break;case 12:default:bl(i,s,n);break;case 13:bl(i,s,n),n&&4&a&&ul(i,s);break;case 22:null===s.memoizedState&&bl(i,s,n),Wo(s,s.return)}t=t.sibling}}function xl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&zi(n))}function wl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e))}function Sl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t,n,r),t=t.sibling}function kl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Sl(e,t,n,r),2048&i&&Uo(9,t);break;case 3:Sl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e)));break;case 12:if(2048&i){Sl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ru(t,t.return,l)}}else Sl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,null!==t.memoizedState?4&s._visibility?Sl(e,t,n,r):El(e,t):4&s._visibility?Sl(e,t,n,r):(s._visibility|=4,Nl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&xl(t.alternate,t);break;case 24:Sl(e,t,n,r),2048&i&&wl(t.alternate,t);break;default:Sl(e,t,n,r)}}function Nl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Nl(s,a,o,l,i),Uo(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?4&u._visibility?Nl(s,a,o,l,i):El(s,a):(u._visibility|=4,Nl(s,a,o,l,i)),i&&2048&c&&xl(a.alternate,a);break;case 24:Nl(s,a,o,l,i),i&&2048&c&&wl(a.alternate,a);break;default:Nl(s,a,o,l,i)}t=t.sibling}}function El(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:El(n,r),2048&i&&xl(r.alternate,r);break;case 24:El(n,r),2048&i&&wl(r.alternate,r);break;default:El(n,r)}t=t.sibling}}var Tl=8192;function jl(e){if(e.subtreeFlags&Tl)for(e=e.child;null!==e;)_l(e),e=e.sibling}function _l(e){switch(e.tag){case 26:jl(e),e.flags&Tl&&null!==e.memoizedState&&function(e,t,n){if(null===Ad)throw Error(a(475));var r=Ad;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=vd(n.href),s=e.querySelector(yd(i));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Pd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void $e(s);s=e.ownerDocument||e,n=bd(n),(i=ud.get(i))&&Nd(n,i),$e(s=s.createElement("link"));var o=s;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),Gu(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Pd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(fl,e.memoizedState,e.memoizedProps);break;case 5:default:jl(e);break;case 3:case 4:var t=fl;fl=hd(e.stateNode.containerInfo),jl(e),fl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Tl,Tl=16777216,jl(e),Tl=t):jl(e))}}function Cl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Al(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Dl(r,e)}Cl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Il(e),e=e.sibling}function Il(e){switch(e.tag){case 0:case 11:case 15:Al(e),2048&e.flags&&zo(9,e,e.return);break;case 3:case 12:default:Al(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Pl(e)):Al(e)}}function Pl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Dl(r,e)}Cl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:zo(8,t,t.return),Pl(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Pl(t));break;default:Pl(t)}e=e.sibling}}function Dl(e,t){for(;null!==nl;){var n=nl;switch(n.tag){case 0:case 11:case 15:zo(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:zi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,nl=r;else e:for(n=e;null!==nl;){var i=(r=nl).sibling,s=r.return;if(sl(r),r===n){nl=null;break e}if(null!==i){i.return=s,nl=i;break e}nl=s}}}function Rl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ll(e,t,n,r){return new Rl(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ml(e,t){var n=e.alternate;return null===n?((n=Ll(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fl(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vl(e,t,n,r,i,s){var o=0;if(r=e,"function"===typeof e)Ol(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,Q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case d:return Ul(n.children,i,s,t);case h:o=8,i|=24;break;case f:return(e=Ll(12,n,t,2|i)).elementType=f,e.lanes=s,e;case y:return(e=Ll(13,n,t,i)).elementType=y,e.lanes=s,e;case b:return(e=Ll(19,n,t,i)).elementType=b,e.lanes=s,e;case S:return zl(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case m:case g:o=10;break e;case p:o=9;break e;case v:o=11;break e;case x:o=14;break e;case w:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Ll(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Ul(e,t,n,r){return(e=Ll(7,e,r,t)).lanes=n,e}function zl(e,t,n,r){(e=Ll(22,e,r,t)).elementType=S,e.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=i._current;if(null===e)throw Error(a(456));if(0===(2&i._pendingVisibility)){var t=Cr(e,2);null!==t&&(i._pendingVisibility|=2,Pc(t,e,2))}},attach:function(){var e=i._current;if(null===e)throw Error(a(456));if(0!==(2&i._pendingVisibility)){var t=Cr(e,2);null!==t&&(i._pendingVisibility&=-3,Pc(t,e,2))}}};return e.stateNode=i,e}function Bl(e,t,n){return(e=Ll(6,e,null,t)).lanes=n,e}function ql(e,t,n){return(t=Ll(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wl(e){e.flags|=4}function Hl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Cd(t)){if(null!==(t=_i.current)&&((4194176&rc)===rc?null!==Ci:(62914560&rc)!==rc&&0===(536870912&rc)||t!==Ci))throw hi=li,oi;e.flags|=8192}}function Gl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ae():536870912,e.lanes|=t,pc|=t)}function Kl(e,t){if(!Xr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=31457280&i.subtreeFlags,r|=31457280&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ql(e,t,n){var r=t.pendingProps;switch(Kr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Yl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bo(Vi),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ri(t)?Wl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==$r&&(Rc($r),$r=null))),Yl(t),null;case 26:return n=t.memoizedState,null===e?(Wl(t),null!==n?(Yl(t),Hl(t,n)):(Yl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Wl(t),Yl(t),Hl(t,n)):(Yl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Wl(t),Yl(t),t.flags&=-16777217),null;case 27:ne(t),n=$.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Wl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Yl(t),null}e=Q.current,ri(t)?ti(t):(e=cd(i,r,n),t.stateNode=e,Wl(t))}return Yl(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Wl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Yl(t),null}if(e=Q.current,ri(t))ti(t);else{switch(i=Qu($.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Fe]=t,e[Ve]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Gu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Wl(t)}}return Yl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Wl(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=$.current,ri(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=Yr))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Fe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Bu(e.nodeValue,n)))||ei(t)}else(e=Qu(e).createTextNode(r))[Fe]=t,t.stateNode=e}return Yl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=ri(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Fe]=t}else ii(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yl(t),i=!1}else null!==$r&&(Rc($r),$r=null),i=!0;if(!i)return 256&t.flags?(Di(t),t):(Di(t),null)}if(Di(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Gl(t,t.updateQueue),Yl(t),null;case 4:return ee(),null===e&&Pu(t.stateNode.containerInfo),Yl(t),null;case 10:return bo(t.type),Yl(t),null;case 19:if(K(Ri),null===(i=t.memoizedState))return Yl(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)Kl(i,!1);else{if(0!==uc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Li(e))){for(t.flags|=128,Kl(i,!1),e=s.updateQueue,t.updateQueue=e,Gl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fl(n,e),n=n.sibling;return Y(Ri,1&Ri.current|2),t.child}e=e.sibling}null!==i.tail&&le()>xc&&(t.flags|=128,r=!0,Kl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Li(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Gl(t,e),Kl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!Xr)return Yl(t),null}else 2*le()-i.renderingStartTime>xc&&536870912!==n&&(t.flags|=128,r=!0,Kl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,e=Ri.current,Y(Ri,r?1&e|2:1&e),t):(Yl(t),null);case 22:case 23:return Di(t),ji(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Yl(t),6&t.subtreeFlags&&(t.flags|=8192)):Yl(t),null!==(n=t.updateQueue)&&Gl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&K(Yi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bo(Vi),Yl(t),null;case 25:return null}throw Error(a(156,t.tag))}function Xl(e,t){switch(Kr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bo(Vi),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(Di(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ii()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return K(Ri),null;case 4:return ee(),null;case 10:return bo(t.type),null;case 22:case 23:return Di(t),ji(),null!==e&&K(Yi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bo(Vi),null;default:return null}}function $l(e,t){switch(Kr(t),t.tag){case 3:bo(Vi),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:Di(t);break;case 19:K(Ri);break;case 10:bo(t.type);break;case 22:case 23:Di(t),ji(),null!==e&&K(Yi);break;case 24:bo(Vi)}}var Jl={getCacheForType:function(e){var t=Eo(Vi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Zl="function"===typeof WeakMap?WeakMap:Map,ec=0,tc=null,nc=null,rc=0,ic=0,sc=null,ac=!1,oc=!1,lc=!1,cc=0,uc=0,dc=0,hc=0,fc=0,mc=0,pc=0,gc=null,vc=null,yc=!1,bc=0,xc=1/0,wc=null,Sc=null,kc=!1,Nc=null,Ec=0,Tc=0,jc=null,_c=0,Cc=null;function Ac(){if(0!==(2&ec)&&0!==rc)return rc&-rc;if(null!==A.T){return 0!==Wi?Wi:wu()}return Oe()}function Ic(){0===mc&&(mc=0===(536870912&rc)||Xr?Ce():536870912);var e=_i.current;return null!==e&&(e.flags|=32),mc}function Pc(e,t,n){(e===tc&&2===ic||null!==e.cancelPendingCommit)&&(Uc(e,0),Mc(e,rc,mc,!1)),Pe(e,n),0!==(2&ec)&&e===tc||(e===tc&&(0===(2&ec)&&(hc|=n),4===uc&&Mc(e,rc,mc,!1)),pu(e))}function Dc(e,t,n){if(0!==(6&ec))throw Error(a(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||je(e,t),i=r?function(e,t){var n=ec;ec|=2;var r=Bc(),i=qc();tc!==e||rc!==t?(wc=null,xc=le()+500,Uc(e,t)):oc=je(e,t);e:for(;;)try{if(0!==ic&&null!==nc){t=nc;var s=sc;t:switch(ic){case 1:ic=0,sc=null,Xc(e,t,s,1);break;case 2:if(ci(s)){ic=0,sc=null,Qc(t);break}t=function(){2===ic&&tc===e&&(ic=7),pu(e)},s.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:ci(s)?(ic=0,sc=null,Qc(t)):(ic=0,sc=null,Xc(e,t,s,7));break;case 5:var o=null;switch(nc.tag){case 26:o=nc.memoizedState;case 5:case 27:var l=nc;if(!o||Cd(o)){ic=0,sc=null;var c=l.sibling;if(null!==c)nc=c;else{var u=l.return;null!==u?(nc=u,$c(u)):nc=null}break t}}ic=0,sc=null,Xc(e,t,s,5);break;case 6:ic=0,sc=null,Xc(e,t,s,6);break;case 8:Vc(),uc=6;break e;default:throw Error(a(462))}}Kc();break}catch(d){zc(e,d)}return vo=go=null,A.H=r,A.A=i,ec=n,null!==nc?0:(tc=null,rc=0,Tr(),uc)}(e,t):Hc(e,t,!0),s=r;;){if(0===i){oc&&!r&&Mc(e,t,0,!1);break}if(6===i)Mc(e,t,0,!ac);else{if(n=e.current.alternate,s&&!Oc(n)){i=Hc(e,t,!1),s=!1;continue}if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=gc;var c=l.current.memoizedState.isDehydrated;if(c&&(Uc(l,o).flags|=256),2!==(o=Hc(l,o,!1))){if(lc&&!c){l.errorRecoveryDisabledLanes|=s,hc|=s,i=4;break e}s=vc,vc=i,null!==s&&Rc(s)}i=o}if(s=!1,2!==i)continue}}if(1===i){Uc(e,0),Mc(e,t,0,!0);break}e:{switch(r=e,i){case 0:case 1:throw Error(a(345));case 4:if((4194176&t)===t){Mc(r,t,mc,!ac);break e}break;case 2:vc=null;break;case 3:case 5:break;default:throw Error(a(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(s=bc+300-le())){if(Mc(r,t,mc,!ac),0!==Te(r,0))break e;r.timeoutHandle=ed(Lc.bind(null,r,n,vc,wc,yc,t,mc,hc,pc,ac,2,-0,0),s)}else Lc(r,n,vc,wc,yc,t,mc,hc,pc,ac,0,-0,0)}}break}pu(e)}function Rc(e){null===vc?vc=e:vc.push.apply(vc,e)}function Lc(e,t,n,r,i,s,o,l,c,u,d,h,f){var m=t.subtreeFlags;if((8192&m||16785408===(16785408&m))&&(Ad={stylesheets:null,count:0,unsuspend:Id},_l(t),null!==(t=function(){if(null===Ad)throw Error(a(475));var e=Ad;return e.stylesheets&&0===e.count&&Rd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Rd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Zc.bind(null,e,n,r,i,o,l,c,1,h,f)),void Mc(e,s,o,!u);Zc(e,n,r,i,o,l,c,d,h,f)}function Oc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yn(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mc(e,t,n,r){t&=~fc,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-xe(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&De(e,n,t)}function Fc(){return 0!==(6&ec)||(gu(0,!1),!1)}function Vc(){if(null!==nc){if(0===ic)var e=nc.return;else vo=go=null,vs(e=nc),mi=null,pi=0,e=nc;for(;null!==e;)$l(e.alternate,e),e=e.return;nc=null}}function Uc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,td(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),tc=e,nc=n=Ml(e.current,null),rc=t,ic=0,sc=null,ac=!1,oc=je(e,t),lc=!1,pc=mc=fc=hc=dc=uc=0,vc=gc=null,yc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-xe(r),s=1<<i;t|=e[i],r&=~s}return cc=t,Tr(),n}function zc(e,t){Zi=null,A.H=Na,t===ai?(t=fi(),ic=3):t===oi?(t=fi(),ic=4):ic=t===Ba?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===nc&&(uc=1,Ma(e,Rr(t,e.current)))}function Bc(){var e=A.H;return A.H=Na,null===e?Na:e}function qc(){var e=A.A;return A.A=Jl,e}function Wc(){uc=4,ac||(4194176&rc)!==rc&&null!==_i.current||(oc=!0),0===(134217727&dc)&&0===(134217727&hc)||null===tc||Mc(tc,rc,mc,!1)}function Hc(e,t,n){var r=ec;ec|=2;var i=Bc(),s=qc();tc===e&&rc===t||(wc=null,Uc(e,t)),t=!1;var a=uc;e:for(;;)try{if(0!==ic&&null!==nc){var o=nc,l=sc;switch(ic){case 8:Vc(),a=6;break e;case 3:case 2:case 6:null===_i.current&&(t=!0);var c=ic;if(ic=0,sc=null,Xc(e,o,l,c),n&&oc){a=0;break e}break;default:c=ic,ic=0,sc=null,Xc(e,o,l,c)}}Gc(),a=uc;break}catch(u){zc(e,u)}return t&&e.shellSuspendCounter++,vo=go=null,ec=r,A.H=i,A.A=s,null===nc&&(tc=null,rc=0,Tr()),a}function Gc(){for(;null!==nc;)Yc(nc)}function Kc(){for(;null!==nc&&!ae();)Yc(nc)}function Yc(e){var t=mo(e.alternate,e,cc);e.memoizedProps=e.pendingProps,null===t?$c(e):nc=t}function Qc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ja(n,t,t.pendingProps,t.type,void 0,rc);break;case 11:t=Ja(n,t,t.pendingProps,t.type.render,t.ref,rc);break;case 5:vs(t);default:$l(n,t),t=mo(n,t=nc=Fl(t,cc),cc)}e.memoizedProps=e.pendingProps,null===t?$c(e):nc=t}function Xc(e,t,n,r){vo=go=null,vs(t),mi=null,pi=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&So(t,n,i,!0),null!==(n=_i.current)){switch(n.tag){case 13:return null===Ci?Wc():null===n.alternate&&0===uc&&(uc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===li?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),iu(e,r,i)),!1;case 22:return n.flags|=65536,r===li?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),iu(e,r,i)),!1}throw Error(a(435,n.tag))}return iu(e,r,i),Wc(),!1}if(Xr)return null!==(t=_i.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Zr&&si(Rr(e=Error(a(422),{cause:r}),n))):(r!==Zr&&si(Rr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Rr(r,n),Ro(e,i=Va(e.stateNode,r,i)),4!==uc&&(uc=2)),!1;var s=Error(a(520),{cause:r});if(s=Rr(s,n),null===gc?gc=[s]:gc.push(s),4!==uc&&(uc=2),null===t)return!0;r=Rr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Ro(n,e=Va(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Sc||!Sc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,za(i=Ua(i),e,n,r),Ro(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,rc))return uc=1,Ma(e,Rr(n,e.current)),void(nc=null)}catch(s){if(null!==i)throw nc=i,s;return uc=1,Ma(e,Rr(n,e.current)),void(nc=null)}32768&t.flags?(Xr||1===r?e=!0:oc||0!==(536870912&rc)?e=!1:(ac=e=!0,(2===r||3===r||6===r)&&(null!==(r=_i.current)&&13===r.tag&&(r.flags|=16384))),Jc(t,e)):$c(t)}function $c(e){var t=e;do{if(0!==(32768&t.flags))return void Jc(t,ac);e=t.return;var n=Ql(t.alternate,t,cc);if(null!==n)return void(nc=n);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===uc&&(uc=5)}function Jc(e,t){do{var n=Xl(e.alternate,e);if(null!==n)return n.flags&=32767,void(nc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=n}while(null!==e);uc=6,nc=null}function Zc(e,t,n,r,i,s,o,l,c,u){var d=A.T,h=B.p;try{B.p=2,A.T=null,function(e,t,n,r,i,s,o,l){do{tu()}while(null!==Nc);if(0!==(6&ec))throw Error(a(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-xe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&De(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,r,u|=Er,s,o,l),e===tc&&(nc=tc=null,rc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||kc||(kc=!0,Tc=u,jc=n,function(e,t){ie(e,t)}(he,(function(){return tu(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=A.T,A.T=null,s=B.p,B.p=2,o=ec,ec|=4,function(e,t){if(e=e.containerInfo,Ku=Wd,er(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yu={focusedElem:e,selectionRange:n},Wd=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){switch(s=(t=nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var p=Pa(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(p,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){ru(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))ad(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}p=rl,rl=!1}(e,c),ml(c,e),tr(Yu,e.containerInfo),Wd=!!Ku,Yu=Ku=null,e.current=c,il(e,c.alternate,c),oe(),ec=o,B.p=s,A.T=n):e.current=c,kc?(kc=!1,Nc=e,Ec=r):eu(e,u),u=e.pendingLanes,0===u&&(Sc=null),function(e){if(ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),pu(e),null!==t)for(i=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],i(u.value,{componentStack:u.stack});0!==(3&Ec)&&tu(),u=e.pendingLanes,0!==(4194218&r)&&0!==(42&u)?e===Cc?_c++:(_c=0,Cc=e):_c=0,gu(0,!1)}(e,t,n,r,h,i,s,o)}finally{A.T=d,B.p=h}}function eu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,zi(t)))}function tu(){if(null!==Nc){var e=Nc,t=Tc;Tc=0;var n=Le(Ec),r=A.T,i=B.p;try{if(B.p=32>n?32:n,A.T=null,null===Nc)var s=!1;else{n=jc,jc=null;var o=Nc,l=Ec;if(Nc=null,Ec=0,0!==(6&ec))throw Error(a(331));var c=ec;if(ec|=4,Il(o.current),kl(o,o.current,l,n),ec=c,gu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,o)}catch(u){}s=!0}return s}finally{B.p=i,A.T=r,eu(e,t)}}return!1}function nu(e,t,n){t=Rr(n,t),null!==(e=Po(e,t=Va(e.stateNode,t,2),2))&&(Pe(e,2),pu(e))}function ru(e,t,n){if(3===e.tag)nu(e,e,n);else for(;null!==t;){if(3===t.tag){nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Sc||!Sc.has(r))){e=Rr(n,e),null!==(r=Po(t,n=Ua(2),2))&&(za(n,r,t,e),Pe(r,2),pu(r));break}}t=t.return}}function iu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Zl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(lc=!0,i.add(n),e=su.bind(null,e,t,n),t.then(e,e))}function su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tc===e&&(rc&n)===n&&(4===uc||3===uc&&(62914560&rc)===rc&&300>le()-bc?0===(2&ec)&&Uc(e,0):fc|=n,pc===rc&&(pc=0)),pu(e)}function au(e,t){0===t&&(t=Ae()),null!==(e=Cr(e,t))&&(Pe(e,t),pu(e))}function ou(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),au(e,n)}function lu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),au(e,n)}var cu=null,uu=null,du=!1,hu=!1,fu=!1,mu=0;function pu(e){var t;e!==uu&&null===e.next&&(null===uu?cu=uu=e:uu=uu.next=e),hu=!0,du||(du=!0,t=vu,rd((function(){0!==(6&ec)?ie(ue,t):t()})))}function gu(e,t){if(!fu&&hu){fu=!0;do{for(var n=!1,r=cu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-xe(42|e)+1)-1,s=201326677&(s&=i&~(a&~o))?201326677&s|1:s?2|s:0}0!==s&&(n=!0,xu(r,s))}else s=rc,0===(3&(s=Te(r,r===tc?s:0)))||je(r,s)||(n=!0,xu(r,s));r=r.next}}while(n);fu=!1}}function vu(){hu=du=!1;var e=0;0!==mu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Zu&&(Zu=e,!0);return Zu=null,!1}()&&(e=mu),mu=0);for(var t=le(),n=null,r=cu;null!==r;){var i=r.next,s=yu(r,t);0===s?(r.next=null,null===n?cu=i:n.next=i,null===i&&(uu=n)):(n=r,(0!==e||0!==(3&s))&&(hu=!0)),r=i}gu(e,!1)}function yu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-xe(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=_e(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=rc,n=Te(e,e===(t=tc)?n:0),r=e.callbackNode,0===n||e===t&&2===ic||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||je(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Le(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=me}return r=bu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function bu(e,t){var n=e.callbackNode;if(tu()&&e.callbackNode!==n)return null;var r=rc;return 0===(r=Te(e,e===tc?r:0))?null:(Dc(e,r,t),yu(e,le()),null!=e.callbackNode&&e.callbackNode===n?bu.bind(null,e):null)}function xu(e,t){if(tu())return null;Dc(e,t,!0)}function wu(){return 0===mu&&(mu=Ce()),mu}function Su(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Ct(""+e)}function ku(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Nu=0;Nu<wr.length;Nu++){var Eu=wr[Nu];Sr(Eu.toLowerCase(),"on"+(Eu[0].toUpperCase()+Eu.slice(1)))}Sr(fr,"onAnimationEnd"),Sr(mr,"onAnimationIteration"),Sr(pr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(gr,"onTransitionRun"),Sr(vr,"onTransitionStart"),Sr(yr,"onTransitionCancel"),Sr(br,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ju=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tu));function _u(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){Da(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){Da(u)}i.currentTarget=null,s=l}}}}function Cu(e,t){var n=t[ze];void 0===n&&(n=t[ze]=new Set);var r=e+"__bubble";n.has(r)||(Du(t,e,2,!1),n.add(r))}function Au(e,t,n){var r=0;t&&(r|=4),Du(n,e,r,t)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function Pu(e){if(!e[Iu]){e[Iu]=!0,Je.forEach((function(t){"selectionchange"!==t&&(ju.has(t)||Au(t,!1,e),Au(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Iu]||(t[Iu]=!0,Au("selectionchange",!1,t))}}function Du(e,t,n,r){switch($d(t)){case 2:var i=Hd;break;case 8:i=Gd;break;default:i=Kd}n=i.bind(null,t,n,e),i=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ru(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=Ke(o)))return;if(5===(l=a.tag)||6===l||26===l||27===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ot((function(){var r=s,i=It(n),a=[];e:{var o=xr.get(e);if(void 0!==o){var l=Jt,c=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":l=mn;break;case"focusin":c="focus",l=sn;break;case"focusout":c="blur",l=sn;break;case"beforeblur":case"afterblur":l=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gn;break;case fr:case mr:case pr:l=an;break;case br:l=vn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=yn;break;case"copy":case"cut":case"paste":l=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=pn;break;case"toggle":case"beforetoggle":l=bn}var u=0!==(4&t),d=!u&&("scroll"===e||"scrollend"===e),h=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=r;null!==m;){var p=m;if(f=p.stateNode,5!==(p=p.tag)&&26!==p&&27!==p||null===f||null===h||null!=(p=Mt(m,h))&&u.push(Lu(m,p,f)),d)break;m=m.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===At||!(c=n.relatedTarget||n.fromElement)||!Ke(c)&&!c[Ue])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ke(c):null)&&(d=M(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=r),l!==c)){if(u=nn,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=pn,p="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?o:Qe(l),f=null==c?o:Qe(c),(o=new u(p,m+"leave",l,n,i)).target=d,o.relatedTarget=f,p=null,Ke(i)===r&&((u=new u(h,m+"enter",c,n,i)).target=f,u.relatedTarget=d,p=u),d=p,l&&c)e:{for(h=c,m=0,f=u=l;f;f=Mu(f))m++;for(f=0,p=h;p;p=Mu(p))f++;for(;0<m-f;)u=Mu(u),m--;for(;0<f-m;)h=Mu(h),f--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Mu(u),h=Mu(h)}u=null}else u=null;null!==l&&Fu(a,o,l,u,!1),null!==c&&null!==d&&Fu(a,d,c,u,!0)}if("select"===(l=(o=r?Qe(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Mn;else if(In(o))if(Fn)g=Kn;else{g=Hn;var v=Wn}else!(l=o.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Tt(r.elementType)&&(g=Mn):g=Gn;switch(g&&(g=g(e,r))?Pn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&yt(o,"number",o.value)),v=r?Qe(r):window,e){case"focusin":(In(v)||"true"===v.contentEditable)&&(rr=v,ir=r,sr=null);break;case"focusout":sr=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,or(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(a,n,i)}var y;if(wn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Cn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Nn&&"ko"!==n.locale&&(Cn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Cn&&(y=qt()):(zt="value"in(Ut=i)?Ut.value:Ut.textContent,Cn=!0)),0<(v=Ou(r,b)).length&&(b=new ln(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=_n(n))&&(b.data=y))),(y=kn?function(e,t){switch(e){case"compositionend":return _n(t);case"keypress":return 32!==t.which?null:(Tn=!0,En);case"textInput":return(e=t.data)===En&&Tn?null:e;default:return null}}(e,n):function(e,t){if(Cn)return"compositionend"===e||!wn&&jn(e,t)?(e=qt(),Bt=zt=Ut=null,Cn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Ou(r,"onBeforeInput")).length&&(v=new ln("onBeforeInput","beforeinput",null,n,i),a.push({event:v,listeners:b}),v.data=y)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Su((i[Ve]||null).action),a=r.submitter;a&&null!==(t=(t=a[Ve]||null)?Su(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new Jt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==mu){var e=a?ku(i,a):new FormData(i);ua(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=a?ku(i,a):new FormData(i),ua(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,r,n,i)}_u(a,t)}))}function Lu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ou(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Mt(e,n))&&r.unshift(Lu(e,i,s)),null!=(i=Mt(e,t))&&r.push(Lu(e,i,s))),e=e.return}return r}function Mu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Fu(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Mt(n,s))&&a.unshift(Lu(n,c,l)):i||null!=(c=Mt(n,s))&&a.push(Lu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Vu=/\r\n?/g,Uu=/\u0000|\uFFFD/g;function zu(e){return("string"===typeof e?e:""+e).replace(Vu,"\n").replace(Uu,"")}function Bu(e,t){return t=zu(t),zu(e)===t}function qu(){}function Wu(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":ot(e,"class",r);break;case"tabIndex":ot(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ot(e,n,r);break;case"style":Et(e,r,s);break;case"data":if("object"!==t){ot(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ct(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Wu(e,t,"name",i.name,i,null),Wu(e,t,"formEncType",i.formEncType,i,null),Wu(e,t,"formMethod",i.formMethod,i,null),Wu(e,t,"formTarget",i.formTarget,i,null)):(Wu(e,t,"encType",i.encType,i,null),Wu(e,t,"method",i.method,i,null),Wu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ct(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=qu);break;case"onScroll":null!=r&&Cu("scroll",e);break;case"onScrollEnd":null!=r&&Cu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Ct(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Cu("beforetoggle",e),Cu("toggle",e),at(e,"popover",r);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":at(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&at(e,n=jt.get(n)||n,r)}}function Hu(e,t,n,r,i,s){switch(n){case"style":Et(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Cu("scroll",e);break;case"onScrollEnd":null!=r&&Cu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Ve]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):at(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function Gu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Cu("error",e),Cu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Wu(e,t,r,o,n,null)}}return s&&Wu(e,t,"srcSet",n.srcSet,n,null),void(i&&Wu(e,t,"src",n.src,n,null));case"input":Cu("invalid",e);var l=r=o=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Wu(e,t,i,d,n,null)}}return vt(e,r,l,c,u,o,s,!1),void dt(e);case"select":for(s in Cu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:Wu(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(o in Cu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Wu(e,t,o,l,n,null)}return wt(e,i,s,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Wu(e,t,c,i,n,null);return;case"dialog":Cu("cancel",e),Cu("close",e);break;case"iframe":case"object":Cu("load",e);break;case"video":case"audio":for(i=0;i<Tu.length;i++)Cu(Tu[i],e);break;case"image":Cu("error",e),Cu("load",e);break;case"details":Cu("toggle",e);break;case"embed":case"source":case"link":Cu("error",e),Cu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Wu(e,t,u,i,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Hu(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Wu(e,t,l,i,n,null))}var Ku=null,Yu=null;function Qu(e){return 9===e.nodeType?e:e.ownerDocument}function Xu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $u(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Ju(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zu=null;var ed="function"===typeof setTimeout?setTimeout:void 0,td="function"===typeof clearTimeout?clearTimeout:void 0,nd="function"===typeof Promise?Promise:void 0,rd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nd?function(e){return nd.resolve(null).then(e).catch(id)}:ed;function id(e){setTimeout((function(){throw e}))}function sd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void ph(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);ph(t)}function ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ad(n),Ge(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function od(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function cd(e,t,n){switch(t=Qu(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}var ud=new Map,dd=new Set;function hd(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var fd=B.d;B.d={f:function(){var e=fd.f(),t=Fc();return e||t},r:function(e){var t=Ye(e);null!==t&&5===t.tag&&"form"===t.type?ha(t):fd.r(e)},D:function(e){fd.D(e),pd("dns-prefetch",e,null)},C:function(e,t){fd.C(e,t),pd("preconnect",e,t)},L:function(e,t,n){fd.L(e,t,n);var r=md;if(r&&e&&t){var i='link[rel="preload"][as="'+pt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+pt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+pt(n.imageSizes)+'"]')):i+='[href="'+pt(e)+'"]';var s=i;switch(t){case"style":s=vd(e);break;case"script":s=xd(e)}ud.has(s)||(e=I({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ud.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(yd(s))||"script"===t&&r.querySelector(wd(s))||(Gu(t=r.createElement("link"),"link",e),$e(t),r.head.appendChild(t)))}},m:function(e,t){fd.m(e,t);var n=md;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+pt(r)+'"][href="'+pt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=xd(e)}if(!ud.has(s)&&(e=I({rel:"modulepreload",href:e},t),ud.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(wd(s)))return}Gu(r=n.createElement("link"),"link",e),$e(r),n.head.appendChild(r)}}},X:function(e,t){fd.X(e,t);var n=md;if(n&&e){var r=Xe(n).hoistableScripts,i=xd(e),s=r.get(i);s||((s=n.querySelector(wd(i)))||(e=I({src:e,async:!0},t),(t=ud.get(i))&&Ed(e,t),$e(s=n.createElement("script")),Gu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){fd.S(e,t,n);var r=md;if(r&&e){var i=Xe(r).hoistableStyles,s=vd(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(yd(s)))o.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ud.get(s))&&Nd(e,n);var l=a=r.createElement("link");$e(l),Gu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,kd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){fd.M(e,t);var n=md;if(n&&e){var r=Xe(n).hoistableScripts,i=xd(e),s=r.get(i);s||((s=n.querySelector(wd(i)))||(e=I({src:e,async:!0,type:"module"},t),(t=ud.get(i))&&Ed(e,t),$e(s=n.createElement("script")),Gu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var md="undefined"===typeof document?null:document;function pd(e,t,n){var r=md;if(r&&"string"===typeof t&&t){var i=pt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),dd.has(i)||(dd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(Gu(t=r.createElement("link"),"link",e),$e(t),r.head.appendChild(t)))}}function gd(e,t,n,r){var i,s,o,l,c=(c=$.current)?hd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=vd(n.href),(r=(n=Xe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=vd(n.href);var u=Xe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(yd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ud.set(e,n),u||(i=c,s=e,o=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",(function(){return l.loading|=1})),s.addEventListener("error",(function(){return l.loading|=2})),Gu(s,"link",o),$e(s),i.head.appendChild(s))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=xd(n),(r=(n=Xe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function vd(e){return'href="'+pt(e)+'"'}function yd(e){return'link[rel="stylesheet"]['+e+"]"}function bd(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function xd(e){return'[src="'+pt(e)+'"]'}function wd(e){return"script[async]"+e}function Sd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+pt(n.href)+'"]');if(r)return t.instance=r,$e(r),r;var i=I({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return $e(r=(e.ownerDocument||e).createElement("style")),Gu(r,"style",i),kd(r,n.precedence,e),t.instance=r;case"stylesheet":i=vd(n.href);var s=e.querySelector(yd(i));if(s)return t.state.loading|=4,t.instance=s,$e(s),s;r=bd(n),(i=ud.get(i))&&Nd(r,i),$e(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),Gu(s,"link",r),t.state.loading|=4,kd(s,n.precedence,e),t.instance=s;case"script":return s=xd(n.src),(i=e.querySelector(wd(s)))?(t.instance=i,$e(i),i):(r=n,(i=ud.get(s))&&Ed(r=I({},n),i),$e(i=(e=e.ownerDocument||e).createElement("script")),Gu(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,kd(r,n.precedence,e));return t.instance}function kd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Nd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Td=null;function jd(e,t,n){if(null===Td){var r=new Map,i=Td=new Map;i.set(n,r)}else(r=(i=Td).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[He]||s[Fe]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function _d(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Cd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Ad=null;function Id(){}function Pd(){if(this.count--,0===this.count)if(this.stylesheets)Rd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Dd=null;function Rd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Dd=new Map,t.forEach(Ld,e),Dd=null,Pd.call(e))}function Ld(e,t){if(!(4&t.state.loading)){var n=Dd.get(e);if(n)var r=n.get(null);else{n=new Map,Dd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Pd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Od={$$typeof:g,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function Md(e,t,n,r,i,s,a,o){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ie(0),this.hiddenUpdates=Ie(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Fd(e,t,n,r,i,s,a,o,l,c,u,d){return e=new Md(e,t,n,a,o,l,c,d),t=1,!0===s&&(t|=24),s=Ll(3,null,null,t),e.current=s,s.stateNode=e,(t=Ui()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},Co(s),e}function Vd(e){return e?e=Pr:Pr}function Ud(e,t,n,r,i,s){i=Vd(i),null===r.context?r.context=i:r.pendingContext=i,(r=Io(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=Po(e,r,t))&&(Pc(n,0,t),Do(n,e,t))}function zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Bd(e,t){zd(e,t),(e=e.alternate)&&zd(e,t)}function qd(e){if(13===e.tag){var t=Cr(e,67108864);null!==t&&Pc(t,0,67108864),Bd(e,67108864)}}var Wd=!0;function Hd(e,t,n,r){var i=A.T;A.T=null;var s=B.p;try{B.p=2,Kd(e,t,n,r)}finally{B.p=s,A.T=i}}function Gd(e,t,n,r){var i=A.T;A.T=null;var s=B.p;try{B.p=8,Kd(e,t,n,r)}finally{B.p=s,A.T=i}}function Kd(e,t,n,r){if(Wd){var i=Yd(r);if(null===i)Ru(e,t,r,Qd,n),ah(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Zd=oh(Zd,e,t,n,r,i),!0;case"dragenter":return eh=oh(eh,e,t,n,r,i),!0;case"mouseover":return th=oh(th,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return nh.set(s,oh(nh.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rh.set(s,oh(rh.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(ah(e,r),4&t&&-1<sh.indexOf(e)){for(;null!==i;){var s=Ye(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=Ee(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-xe(a);o.entanglements[1]|=l,a&=~l}pu(s),0===(6&ec)&&(xc=le()+500,gu(0,!1))}}break;case 13:null!==(o=Cr(s,2))&&Pc(o,0,2),Fc(),Bd(s,2)}if(null===(s=Yd(r))&&Ru(e,t,r,Qd,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Ru(e,t,r,null,n)}}function Yd(e){return Xd(e=It(e))}var Qd=null;function Xd(e){if(Qd=null,null!==(e=Ke(e))){var t=M(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=F(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Qd=e,null}function $d(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case me:return 268435456;default:return 32}default:return 32}}var Jd=!1,Zd=null,eh=null,th=null,nh=new Map,rh=new Map,ih=[],sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ah(e,t){switch(e){case"focusin":case"focusout":Zd=null;break;case"dragenter":case"dragleave":eh=null;break;case"mouseover":case"mouseout":th=null;break;case"pointerover":case"pointerout":nh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(t.pointerId)}}function oh(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ye(t))&&qd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function lh(e){var t=Ke(e.target);if(null!==t){var n=M(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=F(n)))return e.blockedOn=t,void function(e,t){var n=B.p;try{return B.p=e,t()}finally{B.p=n}}(e.priority,(function(){if(13===n.tag){var e=Ac(),t=Cr(n,e);null!==t&&Pc(t,0,e),Bd(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ch(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yd(e.nativeEvent);if(null!==n)return null!==(t=Ye(n))&&qd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);At=r,n.target.dispatchEvent(r),At=null,t.shift()}return!0}function uh(e,t,n){ch(e)&&n.delete(t)}function dh(){Jd=!1,null!==Zd&&ch(Zd)&&(Zd=null),null!==eh&&ch(eh)&&(eh=null),null!==th&&ch(th)&&(th=null),nh.forEach(uh),rh.forEach(uh)}function hh(e,t){e.blockedOn===t&&(e.blockedOn=null,Jd||(Jd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dh)))}var fh=null;function mh(e){fh!==e&&(fh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){fh===e&&(fh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Xd(r||n))continue;break}var s=Ye(n);null!==s&&(e.splice(t,3),t-=3,ua(s,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function ph(e){function t(t){return hh(t,e)}null!==Zd&&hh(Zd,e),null!==eh&&hh(eh,e),null!==th&&hh(th,e),nh.forEach(t),rh.forEach(t);for(var n=0;n<ih.length;n++){var r=ih[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ih.length&&null===(n=ih[0]).blockedOn;)lh(n),null===n.blockedOn&&ih.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[Ve]||null;if("function"===typeof s)a||mh(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[Ve]||null)o=a.formAction;else if(null!==Xd(i))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),mh(n)}}}function gh(e){this._internalRoot=e}function vh(e){this._internalRoot=e}vh.prototype.render=gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Ud(t.current,Ac(),e,t,null,null)},vh.prototype.unmount=gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&tu(),Ud(e.current,2,null,e,null,null),Fc(),t[Ue]=null}},vh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ih.length&&0!==t&&t<ih[n].priority;n++);ih.splice(n,0,e),0===n&&lh(e)}};var yh=i.version;if("19.0.0"!==yh)throw Error(a(527,yh,"19.0.0"));B.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=M(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return V(i),e;if(s===r)return V(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?U(e):null)?null:e.stateNode};var bh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Ke,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{ve=xh.inject(bh),ye=xh}catch(Sh){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",i=Ra,s=La,l=Oa;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Fd(e,1,!1,null,0,n,r,i,s,l,0,null),e[Ue]=t.current,Pu(8===e.nodeType?e.parentNode:e),new gh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,i="",s=Ra,l=La,c=Oa,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Fd(e,1,!0,t,0,r,i,s,l,c,0,u)).context=Vd(null),n=t.current,(i=Io(r=Ac())).callback=null,Po(n,i,r),t.current.lanes=r,Pe(t,r),pu(t),e[Ue]=t.current,Pu(e),new vh(t)},t.version="19.0.0"},672:(e,t,n)=>{"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,p(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function N(e,t,r,i,s,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(){}function C(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return C((u=e._init)(e._payload),t,i,s,a)}}if(u)return a=a(e),u=""===s?"."+j(e,0):s,w(a)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),C(a,t,i,"",(function(e){return e}))):null!=a&&(E(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+u,a=N(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,m=""===s?".":s+":";if(w(e))for(var p=0;p<e.length;p++)u+=C(s=e[p],t,i,o=m+j(s,p),a);else if("function"===typeof(p=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=p.call(e),p=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,o=m+j(s,p++),a);else if("object"===o){if("function"===typeof e.then)return C(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(_,_):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function D(){}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=p({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!k.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return N(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return N(e,s,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(D,P)}catch(s){P(s)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.H.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.0.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},579:(e,t,n)=>{"use strict";e.exports=n(799)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!p)if(null!==r(c))p=!0,I();else{var t=r(u);null!==t&&P(w,t.startTime-e)}}var S,k=!1,N=-1,E=5,T=-1;function j(){return!(t.unstable_now()-T<E)}function _(){if(k){var e=t.unstable_now();T=e;var n=!0;try{e:{p=!1,g&&(g=!1,y(N),N=-1),m=!0;var s=f;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&j());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,x(e),n=!0;break t}h===r(c)&&i(c),x(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&P(w,l.startTime-e),n=!1}}break e}finally{h=null,f=s,m=!1}n=void 0}}finally{n?S():k=!1}}}if("function"===typeof b)S=function(){b(_)};else if("undefined"!==typeof MessageChannel){var C=new MessageChannel,A=C.port2;C.port1.onmessage=_,S=function(){A.postMessage(null)}}else S=function(){v(_,0)};function I(){k||(k=!0,S())}function P(e,n){N=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,I())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(N),N=-1):g=!0,P(w,s-a))):(e.sortIndex=o,n(c,e),p||m||(p=!0,I())),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(896)},368:e=>{"use strict";var t=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!(t instanceof Node))throw"Can't initialize VanillaTilt because "+t+" is not a Node.";this.width=null,this.height=null,this.clientWidth=null,this.clientHeight=null,this.left=null,this.top=null,this.gammazero=null,this.betazero=null,this.lastgammazero=null,this.lastbetazero=null,this.transitionTimeout=null,this.updateCall=null,this.event=null,this.updateBind=this.update.bind(this),this.resetBind=this.reset.bind(this),this.element=t,this.settings=this.extendSettings(n),this.reverse=this.settings.reverse?-1:1,this.resetToStart=e.isSettingTrue(this.settings["reset-to-start"]),this.glare=e.isSettingTrue(this.settings.glare),this.glarePrerender=e.isSettingTrue(this.settings["glare-prerender"]),this.fullPageListening=e.isSettingTrue(this.settings["full-page-listening"]),this.gyroscope=e.isSettingTrue(this.settings.gyroscope),this.gyroscopeSamples=this.settings.gyroscopeSamples,this.elementListener=this.getElementListener(),this.glare&&this.prepareGlare(),this.fullPageListening&&this.updateClientSize(),this.addEventListeners(),this.reset(),!1===this.resetToStart&&(this.settings.startX=0,this.settings.startY=0)}return e.isSettingTrue=function(e){return""===e||!0===e||1===e},e.prototype.getElementListener=function(){if(this.fullPageListening)return window.document;if("string"===typeof this.settings["mouse-event-element"]){var e=document.querySelector(this.settings["mouse-event-element"]);if(e)return e}return this.settings["mouse-event-element"]instanceof Node?this.settings["mouse-event-element"]:this.element},e.prototype.addEventListeners=function(){this.onMouseEnterBind=this.onMouseEnter.bind(this),this.onMouseMoveBind=this.onMouseMove.bind(this),this.onMouseLeaveBind=this.onMouseLeave.bind(this),this.onWindowResizeBind=this.onWindowResize.bind(this),this.onDeviceOrientationBind=this.onDeviceOrientation.bind(this),this.elementListener.addEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.addEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.addEventListener("mousemove",this.onMouseMoveBind),(this.glare||this.fullPageListening)&&window.addEventListener("resize",this.onWindowResizeBind),this.gyroscope&&window.addEventListener("deviceorientation",this.onDeviceOrientationBind)},e.prototype.removeEventListeners=function(){this.elementListener.removeEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.removeEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.removeEventListener("mousemove",this.onMouseMoveBind),this.gyroscope&&window.removeEventListener("deviceorientation",this.onDeviceOrientationBind),(this.glare||this.fullPageListening)&&window.removeEventListener("resize",this.onWindowResizeBind)},e.prototype.destroy=function(){clearTimeout(this.transitionTimeout),null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.element.style.willChange="",this.element.style.transition="",this.element.style.transform="",this.resetGlare(),this.removeEventListeners(),this.element.vanillaTilt=null,delete this.element.vanillaTilt,this.element=null},e.prototype.onDeviceOrientation=function(e){if(null!==e.gamma&&null!==e.beta){this.updateElementPosition(),this.gyroscopeSamples>0&&(this.lastgammazero=this.gammazero,this.lastbetazero=this.betazero,null===this.gammazero?(this.gammazero=e.gamma,this.betazero=e.beta):(this.gammazero=(e.gamma+this.lastgammazero)/2,this.betazero=(e.beta+this.lastbetazero)/2),this.gyroscopeSamples-=1);var t=this.settings.gyroscopeMaxAngleX-this.settings.gyroscopeMinAngleX,n=this.settings.gyroscopeMaxAngleY-this.settings.gyroscopeMinAngleY,r=t/this.width,i=n/this.height,s=(e.gamma-(this.settings.gyroscopeMinAngleX+this.gammazero))/r,a=(e.beta-(this.settings.gyroscopeMinAngleY+this.betazero))/i;null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event={clientX:s+this.left,clientY:a+this.top},this.updateCall=requestAnimationFrame(this.updateBind)}},e.prototype.onMouseEnter=function(){this.updateElementPosition(),this.element.style.willChange="transform",this.setTransition()},e.prototype.onMouseMove=function(e){null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.updateBind)},e.prototype.onMouseLeave=function(){this.setTransition(),this.settings.reset&&requestAnimationFrame(this.resetBind)},e.prototype.reset=function(){this.onMouseEnter(),this.fullPageListening?this.event={clientX:(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.clientWidth,clientY:(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.clientHeight}:this.event={clientX:this.left+(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.width,clientY:this.top+(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.height};var e=this.settings.scale;this.settings.scale=1,this.update(),this.settings.scale=e,this.resetGlare()},e.prototype.resetGlare=function(){this.glare&&(this.glareElement.style.transform="rotate(180deg) translate(-50%, -50%)",this.glareElement.style.opacity="0")},e.prototype.getValues=function(){var e=void 0,t=void 0;return this.fullPageListening?(e=this.event.clientX/this.clientWidth,t=this.event.clientY/this.clientHeight):(e=(this.event.clientX-this.left)/this.width,t=(this.event.clientY-this.top)/this.height),e=Math.min(Math.max(e,0),1),t=Math.min(Math.max(t,0),1),{tiltX:(this.reverse*(this.settings.max-e*this.settings.max*2)).toFixed(2),tiltY:(this.reverse*(t*this.settings.max*2-this.settings.max)).toFixed(2),percentageX:100*e,percentageY:100*t,angle:Math.atan2(this.event.clientX-(this.left+this.width/2),-(this.event.clientY-(this.top+this.height/2)))*(180/Math.PI)}},e.prototype.updateElementPosition=function(){var e=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=e.left,this.top=e.top},e.prototype.update=function(){var e=this.getValues();this.element.style.transform="perspective("+this.settings.perspective+"px) rotateX("+("x"===this.settings.axis?0:e.tiltY)+"deg) rotateY("+("y"===this.settings.axis?0:e.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")",this.glare&&(this.glareElement.style.transform="rotate("+e.angle+"deg) translate(-50%, -50%)",this.glareElement.style.opacity=""+e.percentageY*this.settings["max-glare"]/100),this.element.dispatchEvent(new CustomEvent("tiltChange",{detail:e})),this.updateCall=null},e.prototype.prepareGlare=function(){if(!this.glarePrerender){var e=document.createElement("div");e.classList.add("js-tilt-glare");var t=document.createElement("div");t.classList.add("js-tilt-glare-inner"),e.appendChild(t),this.element.appendChild(e)}this.glareElementWrapper=this.element.querySelector(".js-tilt-glare"),this.glareElement=this.element.querySelector(".js-tilt-glare-inner"),this.glarePrerender||(Object.assign(this.glareElementWrapper.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden","pointer-events":"none","border-radius":"inherit"}),Object.assign(this.glareElement.style,{position:"absolute",top:"50%",left:"50%","pointer-events":"none","background-image":"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"}),this.updateGlareSize())},e.prototype.updateGlareSize=function(){if(this.glare){var e=2*(this.element.offsetWidth>this.element.offsetHeight?this.element.offsetWidth:this.element.offsetHeight);Object.assign(this.glareElement.style,{width:e+"px",height:e+"px"})}},e.prototype.updateClientSize=function(){this.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},e.prototype.onWindowResize=function(){this.updateGlareSize(),this.updateClientSize()},e.prototype.setTransition=function(){var e=this;clearTimeout(this.transitionTimeout),this.element.style.transition=this.settings.speed+"ms "+this.settings.easing,this.glare&&(this.glareElement.style.transition="opacity "+this.settings.speed+"ms "+this.settings.easing),this.transitionTimeout=setTimeout((function(){e.element.style.transition="",e.glare&&(e.glareElement.style.transition="")}),this.settings.speed)},e.prototype.extendSettings=function(e){var t={reverse:!1,max:15,startX:0,startY:0,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:1,speed:300,transition:!0,axis:null,glare:!1,"max-glare":1,"glare-prerender":!1,"full-page-listening":!1,"mouse-event-element":null,reset:!0,"reset-to-start":!0,gyroscope:!0,gyroscopeMinAngleX:-45,gyroscopeMaxAngleX:45,gyroscopeMinAngleY:-45,gyroscopeMaxAngleY:45,gyroscopeSamples:10},n={};for(var r in t)if(r in e)n[r]=e[r];else if(this.element.hasAttribute("data-tilt-"+r)){var i=this.element.getAttribute("data-tilt-"+r);try{n[r]=JSON.parse(i)}catch(s){n[r]=i}}else n[r]=t[r];return n},e.init=function(t,n){t instanceof Node&&(t=[t]),t instanceof NodeList&&(t=[].slice.call(t)),t instanceof Array&&t.forEach((function(t){"vanillaTilt"in t||(t.vanillaTilt=new e(t,n))}))},e}();"undefined"!==typeof document&&(window.VanillaTilt=t,t.init(document.querySelectorAll("[data-tilt]"))),e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e,t=n(43),r=n.t(t,2),i=n(391),s=n(950),a=n.t(s,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(t,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,m=e.Pop,p=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){m=e.Pop;let t=v(),n=null==t?null:t-g;g=t,p&&p({action:m,location:x.location,delta:n})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let x={get action(){return m},get location(){return t(s,u)},listen(e){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),p=e,()=>{s.removeEventListener(l,y),p=null}},createHref:e=>n(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){m=e.Push;let i=h(x.location,t,n);r&&r(i,t),g=v()+1;let o=d(i,g),l=x.createHref(i);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}a&&p&&p({action:m,location:x.location,delta:1})},replace:function(t,n){m=e.Replace;let i=h(x.location,t,n);r&&r(i,t),g=v();let s=d(i,g),o=x.createHref(i);u.replaceState(s,"",o),a&&p&&p({action:m,location:x.location,delta:0})},go:e=>u.go(e)};return x}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let i=P(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let s=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=I(i);a=C(s[o],e,r)}return a}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=M([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:_(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of x(e.path))i(e,t,r);else i(e,t)})),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=x(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:[\w-]+$/,S=3,k=2,N=1,E=10,T=-2,j=e=>"*"===e;function _(e,t){let n=e.split("/"),r=n.length;return n.some(j)&&(r+=T),t&&(r+=k),n.filter((e=>!j(e))).reduce(((e,t)=>e+(w.test(t)?S:""===t?N:E)),r)}function C(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:M([s,u.pathname]),pathnameBase:F(M([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=M([s,u.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:a,pattern:e}}function I(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e,t){let n=R(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function O(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=o({},e),c(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let s,a=""===e||""===i.pathname,l=a?"/":i.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:V(r),hash:U(i)}}(i,s),d=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],q=(new Set(B),["get",...B]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const H=t.createContext(null);const G=t.createContext(null);const K=t.createContext(null);const Y=t.createContext(null);const Q=t.createContext({outlet:null,matches:[],isDataRoute:!1});const X=t.createContext(null);function $(){return null!=t.useContext(Y)}function J(){return $()||c(!1),t.useContext(Y).location}function Z(e){t.useContext(K).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(Q);return e?function(){let{router:e}=ue(le.UseNavigateStable),n=he(ce.UseNavigateStable),r=t.useRef(!1);Z((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,W({fromRouteId:n},i)))}),[e,n]);return i}():function(){$()||c(!1);let e=t.useContext(H),{basename:n,future:r,navigator:i}=t.useContext(K),{matches:s}=t.useContext(Q),{pathname:a}=J(),o=JSON.stringify(L(s,r.v7_relativeSplatPath)),l=t.useRef(!1);return Z((()=>{l.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let s=O(t,JSON.parse(o),a,"path"===r.relative);null==e&&"/"!==n&&(s.pathname="/"===s.pathname?n:M([n,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[n,i,o,a,e])}()}function te(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(K),{matches:s}=t.useContext(Q),{pathname:a}=J(),o=JSON.stringify(L(s,i.v7_relativeSplatPath));return t.useMemo((()=>O(e,JSON.parse(o),a,"path"===r)),[e,o,a,r])}function ne(n,r,i,s){$()||c(!1);let{navigator:a}=t.useContext(K),{matches:o}=t.useContext(Q),l=o[o.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=J();if(r){var p;let e="string"===typeof r?m(r):r;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||c(!1),h=e}else h=f;let g=h.pathname||"/",y=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(n,{pathname:y});let x=oe(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:M([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,i,s);return r&&x?t.createElement(Y.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},x):x}function re(){let e=function(){var e;let n=t.useContext(X),r=de(ce.UseRouteError),i=he(ce.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,null)}const ie=t.createElement(re,null);class se extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Q.Provider,{value:this.props.routeContext},t.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(H);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Q.Provider,{value:n},i)}function oe(e,n,r,i){var s;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var a;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,d=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<o.length;t++){let e=o[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){u=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight(((e,i,s)=>{let a,c=!1,h=null,f=null;var m;r&&(a=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||ie,u&&(d<0&&0===s?(m="route-fallback",!1||fe[m]||(fe[m]=!0),c=!0,f=null):d===s&&(c=!0,f=i.route.hydrateFallbackElement||null)));let p=n.concat(o.slice(0,s+1)),g=()=>{let n;return n=a?h:c?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(ae,{match:i,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?t.createElement(se,{location:r.location,revalidation:r.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let n=t.useContext(H);return n||c(!1),n}function de(e){let n=t.useContext(G);return n||c(!1),n}function he(e){let n=function(){let e=t.useContext(Q);return e||c(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||c(!1),r.route.id}const fe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function pe(e){let{to:n,replace:r,state:i,relative:s}=e;$()||c(!1);let{future:a,static:o}=t.useContext(K),{matches:l}=t.useContext(Q),{pathname:u}=J(),d=ee(),h=O(n,L(l,a.v7_relativeSplatPath),u,"path"===s),f=JSON.stringify(h);return t.useEffect((()=>d(JSON.parse(f),{replace:r,state:i,relative:s})),[d,f,s,r,i]),null}function ge(e){c(!1)}function ve(n){let{basename:r="/",children:i=null,location:s,navigationType:a=e.Pop,navigator:o,static:l=!1,future:u}=n;$()&&c(!1);let d=r.replace(/^\/*/,"/"),h=t.useMemo((()=>({basename:d,navigator:o,static:l,future:W({v7_relativeSplatPath:!1},u)})),[d,u,o,l]);"string"===typeof s&&(s=m(s));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=s,b=t.useMemo((()=>{let e=P(f,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:y},navigationType:a}}),[d,f,p,g,v,y,a]);return null==b?null:t.createElement(K.Provider,{value:h},t.createElement(Y.Provider,{children:i,value:b}))}function ye(e){let{children:t,location:n}=e;return ne(be(t),n)}new Promise((()=>{}));t.Component;function be(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,be(e.props.children,s));e.type!==ge&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=be(e.props.children,s)),r.push(a)})),r}function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function we(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(uN){}new Map;const ke=r.startTransition;a.flushSync,r.useId;function Ne(e){let{basename:n,children:r,future:i,window:s}=e,a=t.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),p((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=m(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:f(t))}),(function(e,t){u("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),o)));let l=a.current,[c,d]=t.useState({action:l.action,location:l.location}),{v7_startTransition:g}=i||{},v=t.useCallback((e=>{g&&ke?ke((()=>d(e))):d(e)}),[d,g]);return t.useLayoutEffect((()=>l.listen(v)),[l,v]),t.useEffect((()=>me(i)),[i]),t.createElement(ve,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}const Ee="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,je=t.forwardRef((function(e,n){let r,{onClick:i,relative:s,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:m}=e,p=we(e,Se),{basename:g}=t.useContext(K),v=!1;if("string"===typeof d&&Te.test(d)&&(r=d,Ee))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=P(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(uN){}let y=function(e,n){let{relative:r}=void 0===n?{}:n;$()||c(!1);let{basename:i,navigator:s}=t.useContext(K),{hash:a,pathname:o,search:l}=te(e,{relative:r}),u=o;return"/"!==i&&(u="/"===o?i:M([i,o])),s.createHref({pathname:u,search:l,hash:a})}(d,{relative:s}),b=function(e,n){let{target:r,replace:i,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===n?{}:n,c=ee(),u=J(),d=te(e,{relative:o});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:f(u)===f(d);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}}),[u,c,d,i,s,r,e,a,o,l])}(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:s,viewTransition:m});return t.createElement("a",xe({},p,{href:r||y,onClick:v||a?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:u}))}));var _e,Ce;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_e||(_e={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ce||(Ce={}));function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function Ie(e){var t=function(e,t){if("object"!=Ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ae(t)?t:t+""}function Pe(e,t,n){return(t=Ie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le=n(115),Oe=n.n(Le),Me=n(368),Fe=n.n(Me);const Ve=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ve(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new ze;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ze extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Be=function(e){return function(e){const t=Ve(e);return Ue.encodeByteArray(t,!0)}(e).replace(/\./g,"")},qe=function(e){try{return Ue.decodeString(e,!0)}catch(uN){console.error("base64Decode failed: ",uN)}return null};const We=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,He=()=>{try{return We()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DEBUG:"true",REACT_APP_EMAILJS_PUBLIC_KEY:"tllLeT-cxLD_9cOqE",REACT_APP_EMAILJS_SERVICE_ID:"amcfoss_event",REACT_APP_EMAILJS_TEMPLATE_ID:"template_9hrd231",REACT_APP_FIREBASE_API_KEY:"AIzaSyDhCJENFE7G7y_zIK7hb_Y2ZZFp_nxGsrI",REACT_APP_FIREBASE_APP_ID:"1:773142678351:web:14f8adaccea7a51d10133a",REACT_APP_FIREBASE_AUTH_DOMAIN:"amcfossclub.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"773142678351",REACT_APP_FIREBASE_PROJECT_ID:"amcfossclub",REACT_APP_FIREBASE_STORAGE_BUCKET:"amcfossclub.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(uN){return}const t=e&&qe(e[1]);return t&&JSON.parse(t)})()}catch(uN){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(uN))}},Ge=e=>{var t,n;return null===(n=null===(t=He())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ke=()=>{var e;return null===(e=He())||void 0===e?void 0:e.config},Ye=e=>{var t;return null===(t=He())||void 0===t?void 0:t["_".concat(e)]};class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Xe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function $e(){return!function(){var e;const t=null===(e=He())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(uN){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Je(){try{return"object"===typeof indexedDB}catch(uN){return!1}}class Ze extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,et.prototype.create)}}class et{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(tt,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ze(n,s,t)}}const tt=/\{\$([^}]+)}/g;function nt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(rt(n)&&rt(s)){if(!nt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rt(e){return null!==e&&"object"===typeof e}function it(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function st(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function at(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ot{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=lt),void 0===r.error&&(r.error=lt),void 0===r.complete&&(r.complete=lt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(uN){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(uN){"undefined"!==typeof console&&console.error&&console.error(uN)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function lt(){}function ct(e){return e&&e._delegate?e._delegate:e}class ut{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const dt="[DEFAULT]";class ht{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Qe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(uN){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(uN){if(r)return null;throw uN}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:dt})}catch(uN){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(uN){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===dt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt;return this.component?this.component.multipleInstances?e:dt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ft{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ht(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const mt=[];var pt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(pt||(pt={}));const gt={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},vt=pt.INFO,yt={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},bt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=yt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class xt{constructor(e){this.name=e,this._logLevel=vt,this._logHandler=bt,this._userLogHandler=null,mt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?gt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...t),this._logHandler(this,pt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...t),this._logHandler(this,pt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.INFO,...t),this._logHandler(this,pt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.WARN,...t),this._logHandler(this,pt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...t),this._logHandler(this,pt.ERROR,...t)}}let wt,St;const kt=new WeakMap,Nt=new WeakMap,Et=new WeakMap,Tt=new WeakMap,jt=new WeakMap;let _t={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Nt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Et.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return It(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ct(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(St||(St=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Pt(this),n),It(kt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return It(e.apply(Pt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Pt(this),t,...r);return Et.set(s,t.sort?t.sort():[t]),It(s)}}function At(e){return"function"===typeof e?Ct(e):(e instanceof IDBTransaction&&function(e){if(Nt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Nt.set(e,t)}(e),t=e,(wt||(wt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,_t):e);var t}function It(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(It(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&kt.set(t,e)})).catch((()=>{})),jt.set(t,e),t}(e);if(Tt.has(e))return Tt.get(e);const t=At(e);return t!==e&&(Tt.set(e,t),jt.set(t,e)),t}const Pt=e=>jt.get(e);const Dt=["get","getKey","getAll","getAllKeys","count"],Rt=["put","add","delete","clear"],Lt=new Map;function Ot(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Lt.get(t))return Lt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Rt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Dt.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Lt.set(t,s),s}_t=(e=>Re(Re({},e),{},{get:(t,n,r)=>Ot(t,n)||e.get(t,n,r),has:(t,n)=>!!Ot(t,n)||e.has(t,n)}))(_t);class Mt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Ft="@firebase/app",Vt="0.10.13",Ut=new xt("@firebase/app"),zt="@firebase/app-compat",Bt="@firebase/analytics-compat",qt="@firebase/analytics",Wt="@firebase/app-check-compat",Ht="@firebase/app-check",Gt="@firebase/auth",Kt="@firebase/auth-compat",Yt="@firebase/database",Qt="@firebase/data-connect",Xt="@firebase/database-compat",$t="@firebase/functions",Jt="@firebase/functions-compat",Zt="@firebase/installations",en="@firebase/installations-compat",tn="@firebase/messaging",nn="@firebase/messaging-compat",rn="@firebase/performance",sn="@firebase/performance-compat",an="@firebase/remote-config",on="@firebase/remote-config-compat",ln="@firebase/storage",cn="@firebase/storage-compat",un="@firebase/firestore",dn="@firebase/vertexai-preview",hn="@firebase/firestore-compat",fn="firebase",mn="[DEFAULT]",pn={[Ft]:"fire-core",[zt]:"fire-core-compat",[qt]:"fire-analytics",[Bt]:"fire-analytics-compat",[Ht]:"fire-app-check",[Wt]:"fire-app-check-compat",[Gt]:"fire-auth",[Kt]:"fire-auth-compat",[Yt]:"fire-rtdb",[Qt]:"fire-data-connect",[Xt]:"fire-rtdb-compat",[$t]:"fire-fn",[Jt]:"fire-fn-compat",[Zt]:"fire-iid",[en]:"fire-iid-compat",[tn]:"fire-fcm",[nn]:"fire-fcm-compat",[rn]:"fire-perf",[sn]:"fire-perf-compat",[an]:"fire-rc",[on]:"fire-rc-compat",[ln]:"fire-gcs",[cn]:"fire-gcs-compat",[un]:"fire-fst",[hn]:"fire-fst-compat",[dn]:"fire-vertex","fire-js":"fire-js",[fn]:"fire-js-all"},gn=new Map,vn=new Map,yn=new Map;function bn(e,t){try{e.container.addComponent(t)}catch(uN){Ut.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),uN)}}function xn(e){const t=e.name;if(yn.has(t))return Ut.debug("There were multiple attempts to register component ".concat(t,".")),!1;yn.set(t,e);for(const n of gn.values())bn(n,e);for(const n of vn.values())bn(n,e);return!0}function wn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Sn(e){return void 0!==e.settings}const kn=new et("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Nn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ut("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}}const En="10.14.1";function Tn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:mn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw kn.create("bad-app-name",{appName:String(i)});if(n||(n=Ke()),!n)throw kn.create("no-options");const s=gn.get(i);if(s){if(nt(n,s.options)&&nt(r,s.config))return s;throw kn.create("duplicate-app",{appName:i})}const a=new ft(i);for(const l of yn.values())a.addComponent(l);const o=new Nn(n,r,a);return gn.set(i,o),o}function jn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn;const t=gn.get(e);if(!t&&e===mn&&Ke())return Tn();if(!t)throw kn.create("no-app",{appName:e});return t}function _n(e,t,n){var r;let i=null!==(r=pn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ut.warn(e.join(" "))}xn(new ut("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const Cn="firebase-heartbeat-store";let An=null;function In(){return An||(An=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=It(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(It(a.result),e.oldVersion,e.newVersion,It(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Cn)}catch(uN){console.warn(uN)}}}).catch((e=>{throw kn.create("idb-open",{originalErrorMessage:e.message})}))),An}async function Pn(e,t){try{const n=(await In()).transaction(Cn,"readwrite"),r=n.objectStore(Cn);await r.put(t,Dn(e)),await n.done}catch(uN){if(uN instanceof Ze)Ut.warn(uN.message);else{const t=kn.create("idb-set",{originalErrorMessage:null===uN||void 0===uN?void 0:uN.message});Ut.warn(t.message)}}}function Dn(e){return"".concat(e.name,"!").concat(e.options.appId)}class Rn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new On(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ln();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(uN){Ut.warn(uN)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ln(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Mn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Mn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Be(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(uN){return Ut.warn(uN),""}}}function Ln(){return(new Date).toISOString().substring(0,10)}class On{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Je()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await In()).transaction(Cn),n=await t.objectStore(Cn).get(Dn(e));return await t.done,n}catch(uN){if(uN instanceof Ze)Ut.warn(uN.message);else{const t=kn.create("idb-get",{originalErrorMessage:null===uN||void 0===uN?void 0:uN.message});Ut.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Pn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Pn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Mn(e){return Be(JSON.stringify({version:2,heartbeats:e})).length}var Fn;Fn="",xn(new ut("platform-logger",(e=>new Mt(e)),"PRIVATE")),xn(new ut("heartbeat",(e=>new Rn(e)),"PRIVATE")),_n(Ft,Vt,Fn),_n(Ft,Vt,"esm2017"),_n("fire-js","");var Vn,Un,zn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Bn={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(o,o);if(d(e))return t=g(h(e),t),new p(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new p(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new p(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new p(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),p=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,m(n,2*i+2*s),n[2*i+2*s+1]+=l*g,m(n,2*i+2*s+1),n[2*i+2*s+1]+=f*p,m(n,2*i+2*s+1),n[2*i+2*s+2]+=l*p,m(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Un=Bn.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Vn=Bn.Integer=r}).apply("undefined"!==typeof zn?zn:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var qn,Wn,Hn,Gn,Kn,Yn,Qn,Xn,$n="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Jn={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof $n&&$n];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function m(e){return/^[\s\xa0]*$/.test(e)}function p(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=p().indexOf("Gecko")&&!(-1!=p().toLowerCase().indexOf("webkit")&&-1==p().indexOf("Edge"))&&!(-1!=p().indexOf("Trident")||-1!=p().indexOf("MSIE"))&&-1==p().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){i.setTimeout((()=>{throw e}),0)}function N(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let j,_=!1,C=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=i.Promise.resolve(void 0);j=()=>{e.then(I)}};var I=()=>{for(var e;e=N();){try{e.h.call(e.g)}catch(n){k(n)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_=!1};function P(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:O[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}d(L,D);var O={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function V(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=q(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new V(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),H={};function G(e,t,n,r,i){if(r&&r.once)return Y(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[W]=l=new z(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Y(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(s=e.g[t],n,r,i))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[W]=null)):U(e)}}}function $(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[W])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var i=t;w(t=new D(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function me(){}function pe(e){return e.h||(e.h=e.i())}function ge(){}me.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){D.call(this,"d")}function be(){D.call(this,"c")}d(ye,D),d(be,D);var xe={},we=null;function Se(){return we=we||new ne}function ke(e){D.call(this,xe.La,e)}function Ne(e){const t=Se();re(t,new ke(t))}function Ee(e,t){D.call(this,xe.STAT_EVENT,e),this.stat=t}function Te(e){const t=Se();re(t,new Ee(t,e))}function je(e,t){D.call(this,xe.Ma,e),this.size=t}function _e(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ce(){this.g=!0}function Ae(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}xe.La="serverreachability",d(ke,D),xe.STAT_EVENT="statevent",d(Ee,D),xe.Ma="timingevent",d(je,D),Ce.prototype.xa=function(){this.g=!1},Ce.prototype.info=function(){};var Ie,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},De={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}d(Re,me),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Ie=new Re;var Me={},Fe={};function Ve(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),qe(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Oe,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=G(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ne(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_e(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ye(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Xt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=_e(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!m(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(He(o),qe(o)),r.g=a}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ne()}catch(u){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Gt(this.g)))){this.J||4!=h||7==t||Ne(),He(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Gt(this.g);e="";var s=r.length,a=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),Ge(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ke(this),Ge(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ye(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Fe){4==h&&(this.s=4,Te(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Te(15),Ae(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),Ye(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(d),d.M=!0,Te(11))}}else Ae(this.i,this.l,o,"[Invalid Chunked Response]"),Ke(this),Ge(this)}else Ae(this.i,this.l,o,null),Ye(this,o);4==h&&Ke(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(m(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ke(this),Ge(this)}}}catch(Zn){}},Le.prototype.cancel=function(){this.J=!0,Ke(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ne(),Te(17)),Ke(this),this.s=2,Ge(this)):We(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),Et(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,xt)),e.join("")};var pt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,xt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function kt(e,t){St(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Nt(e,t){return St(e),t=Tt(e,t),e.g.has(t)}function Et(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),h(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function jt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function _t(){this.g=new fe}function Ct(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(uN){throw t.push(r+"type="+encodeURIComponent("_badmap")),uN}}function At(e){this.l=e.Ub||null,this.j=e.eb||!1}function It(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Dt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ot(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){St(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)Nt(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,Nt(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(At,me),At.prototype.g=function(){return new It(this.l,this.j)},At.prototype.i=(pt={},function(){return pt}),d(It,ne),(e=It.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dt(this):Rt(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Dt(this))},e.Qa=function(e){this.g&&(this.response=e,Dt(this))},e.ga=function(){this.g&&Dt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(It.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ft=/^https?$/i,Vt=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),qt(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Ft.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Ht(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){Wt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(uN){}}}function Wt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Gt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(nr){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Yt(e){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new _t,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if($t(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}dn(e)}function Xt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function $t(e){Xt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;j||A(),_||(j(),_=!0),C.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Ot(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ve(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Ct(o,e,"req"+n+"_")}catch(Zn){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;j||A(),_||(j(),_=!0),C.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=_e(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Ot(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ue(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new je(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=_e(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new Ce;if(i.Image){const r=new Image;r.onload=u(jt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(jt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(jt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(jt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ce;const n=new AbortController,r=setTimeout((()=>{n.abort(),jt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?jt(0,0,!0,t):jt(0,0,!1,t)})).catch((()=>{clearTimeout(r),jt(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),dn(e),$t(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new At({eb:n})):new Mt(e.pa)).Ha(e.J),t}function mn(){}function pn(){}function gn(e,t){ne.call(this),this.g=new Yt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?pe(this.o):pe(Ie),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ut(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Vt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Ut(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(pt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(pt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Yt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Lt(s)))+"&"+t:this.m&&Ot(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ve(i,n,null)):Ve(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||$e(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=_e(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Xt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Xt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=mn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,be),d(bn,mn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Xn=Jn.createWebChannelTransport=function(){return new pn},Qn=Jn.getStatEventTarget=function(){return Se()},Yn=Jn.Event=xe,Kn=Jn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,Gn=Jn.ErrorCode=Pe,De.COMPLETE="complete",Hn=Jn.EventType=De,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Wn=Jn.WebChannel=ge,Jn.FetchXmlHttpFactory=At,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,qn=Jn.XhrIo=Mt}).apply("undefined"!==typeof $n?$n:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Zn="@firebase/firestore";class er{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}er.UNAUTHENTICATED=new er(null),er.GOOGLE_CREDENTIALS=new er("google-credentials-uid"),er.FIRST_PARTY=new er("first-party-uid"),er.MOCK_USER=new er("mock-user");let tr="10.14.0";const nr=new xt("@firebase/firestore");function rr(){return nr.logLevel}function ir(e){if(nr.logLevel<=pt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(or);nr.debug("Firestore (".concat(tr,"): ").concat(e),...i)}}function sr(e){if(nr.logLevel<=pt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(or);nr.error("Firestore (".concat(tr,"): ").concat(e),...i)}}function ar(e){if(nr.logLevel<=pt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(or);nr.warn("Firestore (".concat(tr,"): ").concat(e),...i)}}function or(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function lr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(tr,") INTERNAL ASSERTION FAILED: ")+e;throw sr(t),new Error(t)}function cr(e,t){e||lr()}function ur(e,t){return e}const dr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class hr extends Ze{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class fr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class mr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class pr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(er.UNAUTHENTICATED)))}shutdown(){}}class gr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class vr{constructor(e){this.t=e,this.currentUser=er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){cr(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new fr,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{ir("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(ir("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new fr)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ir("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(cr("string"==typeof t.accessToken),new mr(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return cr(null===e||"string"==typeof e),new er(e)}}class yr{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=er.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class br{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new yr(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(er.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wr{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){cr(void 0===this.o);const n=e=>{null!=e.error&&ir("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,ir("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ir("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):ir("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(cr("string"==typeof e.token),this.R=e.token,new xr(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Sr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class kr{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Sr(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Nr(e,t){return e<t?-1:e>t?1:0}function Er(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Tr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new hr(dr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new hr(dr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new hr(dr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new hr(dr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tr.fromMillis(Date.now())}static fromDate(e){return Tr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Tr(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nr(this.nanoseconds,e.nanoseconds):Nr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new jr(e)}static min(){return new jr(new Tr(0,0))}static max(){return new jr(new Tr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _r{constructor(e,t,n){void 0===t?t=0:t>e.length&&lr(),void 0===n?n=e.length-t:n>e.length-t&&lr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===_r.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Cr extends _r{construct(e,t,n){return new Cr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new hr(dr.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Cr(e)}static emptyPath(){return new Cr([])}}const Ar=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ir extends _r{construct(e,t,n){return new Ir(e,t,n)}static isValidIdentifier(e){return Ar.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ir.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ir(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new hr(dr.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new hr(dr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new hr(dr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new hr(dr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ir(t)}static emptyPath(){return new Ir([])}}class Pr{constructor(e){this.path=e}static fromPath(e){return new Pr(Cr.fromString(e))}static fromName(e){return new Pr(Cr.fromString(e).popFirst(5))}static empty(){return new Pr(Cr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Cr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Cr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pr(new Cr(e.slice()))}}class Dr{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Dr.UNKNOWN_ID=-1;function Rr(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=jr.fromTimestamp(1e9===r?new Tr(n+1,0):new Tr(n,r));return new Or(i,Pr.empty(),t)}function Lr(e){return new Or(e.readTime,e.key,-1)}class Or{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Or(jr.min(),Pr.empty(),-1)}static max(){return new Or(jr.max(),Pr.empty(),-1)}}function Mr(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Pr.comparator(e.documentKey,t.documentKey),0!==n?n:Nr(e.largestBatchId,t.largestBatchId))}const Fr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ur(e){if(e.code!==dr.FAILED_PRECONDITION||e.message!==Fr)throw e;ir("LocalStore","Unexpectedly lost primary lease")}class zr{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&lr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new zr(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof zr?t:zr.resolve(t)}catch(e){return zr.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):zr.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):zr.reject(t)}static resolve(e){return new zr(((t,n)=>{t(e)}))}static reject(e){return new zr(((t,n)=>{n(e)}))}static waitFor(e){return new zr(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=zr.resolve(!1);for(const n of e)t=t.next((e=>e?zr.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new zr(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new zr(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Br(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qr(e){return"IndexedDbTransactionError"===e.name}class Wr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Hr(e){return null==e}function Gr(e){return 0===e&&1/e==-1/0}function Kr(e){return"number"==typeof e&&Number.isInteger(e)&&!Gr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Wr.oe=-1;const Yr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Qr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Xr=Qr,$r=[...Xr,"indexConfiguration","indexState","indexEntries"];function Jr(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ei(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ti{constructor(e,t){this.comparator=e,this.root=t||ri.EMPTY}insert(e,t){return new ti(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ri.BLACK,null,null))}remove(e){return new ti(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ri.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ni(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ni(this.root,e,this.comparator,!1)}getReverseIterator(){return new ni(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ni(this.root,e,this.comparator,!0)}}class ni{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ri{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ri.RED,this.left=null!=r?r:ri.EMPTY,this.right=null!=i?i:ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ri(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ri.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw lr();if(this.right.isRed())throw lr();const e=this.left.check();if(e!==this.right.check())throw lr();return e+(this.isRed()?0:1)}}ri.EMPTY=null,ri.RED=!0,ri.BLACK=!1,ri.EMPTY=new class{constructor(){this.size=0}get key(){throw lr()}get value(){throw lr()}get color(){throw lr()}get left(){throw lr()}get right(){throw lr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ri(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ii{constructor(e){this.comparator=e,this.data=new ti(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new si(this.data.getIterator())}getIteratorFrom(e){return new si(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ii))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ii(this.comparator);return t.data=e,t}}class si{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ai{constructor(e){this.fields=e,e.sort(Ir.comparator)}static empty(){return new ai([])}unionWith(e){let t=new ii(Ir.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ai(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Er(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class oi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class li{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new oi("Invalid base64 string: "+e):e}}(e);return new li(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new li(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}li.EMPTY_BYTE_STRING=new li("");const ci=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(e){if(cr(!!e),"string"==typeof e){let t=0;const n=ci.exec(e);if(cr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:di(e.seconds),nanos:di(e.nanos)}}function di(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function hi(e){return"string"==typeof e?li.fromBase64String(e):li.fromUint8Array(e)}function fi(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function mi(e){const t=e.mapValue.fields.__previous_value__;return fi(t)?mi(t):t}function pi(e){const t=ui(e.mapValue.fields.__local_write_time__.timestampValue);return new Tr(t.seconds,t.nanos)}class gi{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class vi{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vi&&e.projectId===this.projectId&&e.database===this.database}}const yi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fi(e)?4:Li(e)?9007199254740991:Di(e)?10:11:lr()}function xi(e,t){if(e===t)return!0;const n=bi(e);if(n!==bi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return pi(e).isEqual(pi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ui(e.timestampValue),r=ui(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return hi(e.bytesValue).isEqual(hi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return di(e.geoPointValue.latitude)===di(t.geoPointValue.latitude)&&di(e.geoPointValue.longitude)===di(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return di(e.integerValue)===di(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=di(e.doubleValue),r=di(t.doubleValue);return n===r?Gr(n)===Gr(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Er(e.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Jr(n)!==Jr(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xi(n[i],r[i])))return!1;return!0}(e,t);default:return lr()}}function wi(e,t){return void 0!==(e.values||[]).find((e=>xi(e,t)))}function Si(e,t){if(e===t)return 0;const n=bi(e),r=bi(t);if(n!==r)return Nr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=di(e.integerValue||e.doubleValue),r=di(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ki(e.timestampValue,t.timestampValue);case 4:return ki(pi(e),pi(t));case 5:return Nr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=hi(e),r=hi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Nr(n[i],r[i]);if(0!==e)return e}return Nr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Nr(di(e.latitude),di(t.latitude));return 0!==n?n:Nr(di(e.longitude),di(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ni(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=Nr((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Ni(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===yi.mapValue&&t===yi.mapValue)return 0;if(e===yi.mapValue)return 1;if(t===yi.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Nr(r[a],s[a]);if(0!==e)return e;const t=Si(n[r[a]],i[s[a]]);if(0!==t)return t}return Nr(r.length,s.length)}(e.mapValue,t.mapValue);default:throw lr()}}function ki(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Nr(e,t);const n=ui(e),r=ui(t),i=Nr(n.seconds,r.seconds);return 0!==i?i:Nr(n.nanos,r.nanos)}function Ni(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Si(n[i],r[i]);if(e)return e}return Nr(n.length,r.length)}function Ei(e){return Ti(e)}function Ti(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ui(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return hi(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Pr.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ti(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Ti(e.fields[i]));return n+"}"}(e.mapValue):lr()}function ji(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function _i(e){return!!e&&"integerValue"in e}function Ci(e){return!!e&&"arrayValue"in e}function Ai(e){return!!e&&"nullValue"in e}function Ii(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Pi(e){return!!e&&"mapValue"in e}function Di(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ri(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Zr(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Ri(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ri(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Li(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Oi{constructor(e){this.value=e}static empty(){return new Oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Pi(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ri(t)}setAll(e){let t=Ir.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ri(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Pi(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Pi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Zr(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Oi(Ri(this.value))}}function Mi(e){const t=[];return Zr(e.fields,((e,n)=>{const r=new Ir([e]);if(Pi(n)){const e=Mi(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new ai(t)}class Fi{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Fi(e,0,jr.min(),jr.min(),jr.min(),Oi.empty(),0)}static newFoundDocument(e,t,n,r){return new Fi(e,1,t,jr.min(),n,r,0)}static newNoDocument(e,t){return new Fi(e,2,t,jr.min(),jr.min(),Oi.empty(),0)}static newUnknownDocument(e,t){return new Fi(e,3,t,jr.min(),jr.min(),Oi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(jr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Vi{constructor(e,t){this.position=e,this.inclusive=t}}function Ui(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Pr.comparator(Pr.fromName(a.referenceValue),n.key):Si(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function zi(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!xi(e.position[n],t.position[n]))return!1;return!0}class Bi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function qi(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Wi{}class Hi extends Wi{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Zi(e,t,n):"array-contains"===t?new rs(e,n):"in"===t?new is(e,n):"not-in"===t?new ss(e,n):"array-contains-any"===t?new as(e,n):new Hi(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new es(e,n):new ts(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Si(t,this.value)):null!==t&&bi(this.value)===bi(t)&&this.matchesComparison(Si(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends Wi{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Gi(e,t)}matches(e){return Ki(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ki(e){return"and"===e.op}function Yi(e){return Qi(e)&&Ki(e)}function Qi(e){for(const t of e.filters)if(t instanceof Gi)return!1;return!0}function Xi(e){if(e instanceof Hi)return e.field.canonicalString()+e.op.toString()+Ei(e.value);if(Yi(e))return e.filters.map((e=>Xi(e))).join(",");{const t=e.filters.map((e=>Xi(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function $i(e,t){return e instanceof Hi?function(e,t){return t instanceof Hi&&e.op===t.op&&e.field.isEqual(t.field)&&xi(e.value,t.value)}(e,t):e instanceof Gi?function(e,t){return t instanceof Gi&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&$i(n,t.filters[r])),!0)}(e,t):void lr()}function Ji(e){return e instanceof Hi?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ei(e.value))}(e):e instanceof Gi?function(e){return e.op.toString()+" {"+e.getFilters().map(Ji).join(" ,")+"}"}(e):"Filter"}class Zi extends Hi{constructor(e,t,n){super(e,t,n),this.key=Pr.fromName(n.referenceValue)}matches(e){const t=Pr.comparator(e.key,this.key);return this.matchesComparison(t)}}class es extends Hi{constructor(e,t){super(e,"in",t),this.keys=ns("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ts extends Hi{constructor(e,t){super(e,"not-in",t),this.keys=ns("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ns(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Pr.fromName(e.referenceValue)))}class rs extends Hi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ci(t)&&wi(t.arrayValue,this.value)}}class is extends Hi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wi(this.value.arrayValue,t)}}class ss extends Hi{constructor(e,t){super(e,"not-in",t)}matches(e){if(wi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!wi(this.value.arrayValue,t)}}class as extends Hi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ci(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>wi(this.value.arrayValue,e)))}}class os{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function ls(e){return new os(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function cs(e){const t=ur(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Xi(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Hr(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ei(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ei(e))).join(",")),t.ue=e}return t.ue}function us(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!qi(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!$i(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zi(e.startAt,t.startAt)&&zi(e.endAt,t.endAt)}function ds(e){return Pr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class hs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function fs(e,t,n,r,i,s,a,o){return new hs(e,t,n,r,i,s,a,o)}function ms(e){return new hs(e)}function ps(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function gs(e){return null!==e.collectionGroup}function vs(e){const t=ur(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ii(Ir.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Bi(r,n))})),e.has(Ir.keyField().canonicalString())||t.ce.push(new Bi(Ir.keyField(),n))}return t.ce}function ys(e){const t=ur(e);return t.le||(t.le=bs(t,vs(e))),t.le}function bs(e,t){if("F"===e.limitType)return ls(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Bi(e.field,t)}));const n=e.endAt?new Vi(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Vi(e.startAt.position,e.startAt.inclusive):null;return ls(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function xs(e,t){const n=e.filters.concat([t]);return new hs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ws(e,t,n){return new hs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ss(e,t){return us(ys(e),ys(t))&&e.limitType===t.limitType}function ks(e){return"".concat(cs(ys(e)),"|lt:").concat(e.limitType)}function Ns(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Ji(e))).join(", "),"]")),Hr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ei(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ei(e))).join(",")),"Target(".concat(t,")")}(ys(e)),"; limitType=").concat(e.limitType,")")}function Es(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Pr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of vs(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ui(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,vs(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ui(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,vs(e),t))}(e,t)}function Ts(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function js(e){return(t,n)=>{let r=!1;for(const i of vs(e)){const e=_s(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function _s(e,t,n){const r=e.field.isKeyField()?Pr.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Si(r,i):lr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return lr()}}class Cs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return ei(this.inner)}size(){return this.innerSize}}const As=new ti(Pr.comparator);function Is(){return As}const Ps=new ti(Pr.comparator);function Ds(){let e=Ps;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Rs(e){let t=Ps;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Ls(){return Ms()}function Os(){return Ms()}function Ms(){return new Cs((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Fs=new ti(Pr.comparator),Vs=new ii(Pr.comparator);function Us(){let e=Vs;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const zs=new ii(Nr);function Bs(){return zs}function qs(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gr(t)?"-0":t}}function Ws(e){return{integerValue:""+e}}function Hs(e,t){return Kr(t)?Ws(t):qs(e,t)}class Gs{constructor(){this._=void 0}}function Ks(e,t,n){return e instanceof Xs?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&fi(t)&&(t=mi(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof $s?Js(e,t):e instanceof Zs?ea(e,t):function(e,t){const n=Qs(e,t),r=na(n)+na(e.Pe);return _i(n)&&_i(e.Pe)?Ws(r):qs(e.serializer,r)}(e,t)}function Ys(e,t,n){return e instanceof $s?Js(e,t):e instanceof Zs?ea(e,t):n}function Qs(e,t){return e instanceof ta?function(e){return _i(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Xs extends Gs{}class $s extends Gs{constructor(e){super(),this.elements=e}}function Js(e,t){const n=ra(t);for(const r of e.elements)n.some((e=>xi(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Zs extends Gs{constructor(e){super(),this.elements=e}}function ea(e,t){let n=ra(t);for(const r of e.elements)n=n.filter((e=>!xi(e,r)));return{arrayValue:{values:n}}}class ta extends Gs{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function na(e){return di(e.integerValue||e.doubleValue)}function ra(e){return Ci(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ia{constructor(e,t){this.field=e,this.transform=t}}class sa{constructor(e,t){this.version=e,this.transformResults=t}}class aa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new aa}static exists(e){return new aa(void 0,e)}static updateTime(e){return new aa(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oa(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class la{}function ca(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ba(e.key,aa.none()):new ma(e.key,e.data,aa.none());{const n=e.data,r=Oi.empty();let i=new ii(Ir.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new pa(e.key,r,new ai(i.toArray()),aa.none())}}function ua(e,t,n){e instanceof ma?function(e,t,n){const r=e.value.clone(),i=va(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof pa?function(e,t,n){if(!oa(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=va(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ga(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function da(e,t,n,r){return e instanceof ma?function(e,t,n,r){if(!oa(e.precondition,t))return n;const i=e.value.clone(),s=ya(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof pa?function(e,t,n,r){if(!oa(e.precondition,t))return n;const i=ya(e.fieldTransforms,r,t),s=t.data;return s.setAll(ga(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return oa(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ha(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Qs(r.transform,e||null);null!=i&&(null===n&&(n=Oi.empty()),n.set(r.field,i))}return n||null}function fa(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Er(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof $s&&t instanceof $s||e instanceof Zs&&t instanceof Zs?Er(e.elements,t.elements,xi):e instanceof ta&&t instanceof ta?xi(e.Pe,t.Pe):e instanceof Xs&&t instanceof Xs}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ma extends la{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class pa extends la{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ga(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function va(e,t,n){const r=new Map;cr(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Ys(a,o,n[i]))}return r}function ya(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Ks(e,s,t))}return r}class ba extends la{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xa extends la{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wa{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ua(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=da(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=da(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Os();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=ca(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(jr.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Us())}isEqual(e){return this.batchId===e.batchId&&Er(this.mutations,e.mutations,((e,t)=>fa(e,t)))&&Er(this.baseMutations,e.baseMutations,((e,t)=>fa(e,t)))}}class Sa{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){cr(e.mutations.length===n.length);let r=Fs;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Sa(e,t,n,r)}}class ka{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Na{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ea,Ta;function ja(e){switch(e){default:return lr();case dr.CANCELLED:case dr.UNKNOWN:case dr.DEADLINE_EXCEEDED:case dr.RESOURCE_EXHAUSTED:case dr.INTERNAL:case dr.UNAVAILABLE:case dr.UNAUTHENTICATED:return!1;case dr.INVALID_ARGUMENT:case dr.NOT_FOUND:case dr.ALREADY_EXISTS:case dr.PERMISSION_DENIED:case dr.FAILED_PRECONDITION:case dr.ABORTED:case dr.OUT_OF_RANGE:case dr.UNIMPLEMENTED:case dr.DATA_LOSS:return!0}}function _a(e){if(void 0===e)return sr("GRPC error has no .code"),dr.UNKNOWN;switch(e){case Ea.OK:return dr.OK;case Ea.CANCELLED:return dr.CANCELLED;case Ea.UNKNOWN:return dr.UNKNOWN;case Ea.DEADLINE_EXCEEDED:return dr.DEADLINE_EXCEEDED;case Ea.RESOURCE_EXHAUSTED:return dr.RESOURCE_EXHAUSTED;case Ea.INTERNAL:return dr.INTERNAL;case Ea.UNAVAILABLE:return dr.UNAVAILABLE;case Ea.UNAUTHENTICATED:return dr.UNAUTHENTICATED;case Ea.INVALID_ARGUMENT:return dr.INVALID_ARGUMENT;case Ea.NOT_FOUND:return dr.NOT_FOUND;case Ea.ALREADY_EXISTS:return dr.ALREADY_EXISTS;case Ea.PERMISSION_DENIED:return dr.PERMISSION_DENIED;case Ea.FAILED_PRECONDITION:return dr.FAILED_PRECONDITION;case Ea.ABORTED:return dr.ABORTED;case Ea.OUT_OF_RANGE:return dr.OUT_OF_RANGE;case Ea.UNIMPLEMENTED:return dr.UNIMPLEMENTED;case Ea.DATA_LOSS:return dr.DATA_LOSS;default:return lr()}}(Ta=Ea||(Ea={}))[Ta.OK=0]="OK",Ta[Ta.CANCELLED=1]="CANCELLED",Ta[Ta.UNKNOWN=2]="UNKNOWN",Ta[Ta.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ta[Ta.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ta[Ta.NOT_FOUND=5]="NOT_FOUND",Ta[Ta.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ta[Ta.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ta[Ta.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ta[Ta.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ta[Ta.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ta[Ta.ABORTED=10]="ABORTED",Ta[Ta.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ta[Ta.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ta[Ta.INTERNAL=13]="INTERNAL",Ta[Ta.UNAVAILABLE=14]="UNAVAILABLE",Ta[Ta.DATA_LOSS=15]="DATA_LOSS";let Ca=null;function Aa(){return new TextEncoder}const Ia=new Vn([4294967295,4294967295],0);function Pa(e){const t=Aa().encode(e),n=new Un;return n.update(t),new Uint8Array(n.digest())}function Da(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Vn([n,r],0),new Vn([i,s],0)]}class Ra{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new La("Invalid padding: ".concat(t));if(n<0)throw new La("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new La("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new La("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Vn.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Vn.fromNumber(n)));return 1===r.compare(Ia)&&(r=new Vn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Pa(e),[n,r]=Da(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Ra(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=Pa(e),[n,r]=Da(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class La extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oa{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ma.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Oa(jr.min(),r,new ti(Nr),Is(),Us())}}class Ma{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ma(n,t,Us(),Us(),Us())}}class Fa{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Va{constructor(e,t){this.targetId=e,this.me=t}}class Ua{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:li.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class za{constructor(){this.fe=0,this.ge=Wa(),this.pe=li.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Us(),t=Us(),n=Us();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:lr()}})),new Ma(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Wa()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,cr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ba{constructor(e){this.Le=e,this.Be=new Map,this.ke=Is(),this.qe=qa(),this.Qe=new ti(Nr)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:lr()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(ds(i))if(0===n){const e=new Pr(i.path);this.Ue(t,e,Fi.newNoDocument(e,jr.min()))}else cr(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Ca||Ca.et(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=hi(n).toUint8Array()}catch(e){if(e instanceof oi)return ar("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Ra(s,r,i)}catch(e){return ar(e instanceof La?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&ds(i.target)){const t=new Pr(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,Fi.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=Us();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new Oa(e,t,this.Qe,this.ke,n);return this.ke=Is(),this.qe=qa(),this.Qe=new ti(Nr),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new za,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ii(Nr),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||ir("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new za),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function qa(){return new ti(Pr.comparator)}function Wa(){return new ti(Pr.comparator)}const Ha={asc:"ASCENDING",desc:"DESCENDING"},Ga={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ka={and:"AND",or:"OR"};class Ya{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qa(e,t){return e.useProto3Json||Hr(t)?t:{value:t}}function Xa(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function $a(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ja(e,t){return Xa(e,t.toTimestamp())}function Za(e){return cr(!!e),jr.fromTimestamp(function(e){const t=ui(e);return new Tr(t.seconds,t.nanos)}(e))}function eo(e,t){return to(e,t).canonicalString()}function to(e,t){const n=function(e){return new Cr(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function no(e){const t=Cr.fromString(e);return cr(ko(t)),t}function ro(e,t){return eo(e.databaseId,t.path)}function io(e,t){const n=no(t);if(n.get(1)!==e.databaseId.projectId)throw new hr(dr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new hr(dr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Pr(lo(n))}function so(e,t){return eo(e.databaseId,t)}function ao(e){const t=no(e);return 4===t.length?Cr.emptyPath():lo(t)}function oo(e){return new Cr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function lo(e){return cr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function co(e,t,n){return{name:ro(e,t),fields:n.value.mapValue.fields}}function uo(e,t){let n;if(t instanceof ma)n={update:co(e,t.key,t.value)};else if(t instanceof ba)n={delete:ro(e,t.key)};else if(t instanceof pa)n={update:co(e,t.key,t.data),updateMask:So(t.fieldMask)};else{if(!(t instanceof xa))return lr();n={verify:ro(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Xs)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof $s)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Zs)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ta)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw lr()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ja(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:lr()}(e,t.precondition)),n}function ho(e,t){return{documents:[so(e,t.path)]}}function fo(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=so(e,i);const s=function(e){if(0!==e.length)return wo(Gi.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:bo(e.field),direction:go(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Qa(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function mo(e){let t=ao(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){cr(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=po(e);return t instanceof Gi&&Yi(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Bi(xo(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Hr(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Vi(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Vi(n,t)}(n.endAt)),fs(t,i,a,s,o,"F",l,c)}function po(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=xo(e.unaryFilter.field);return Hi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=xo(e.unaryFilter.field);return Hi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=xo(e.unaryFilter.field);return Hi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=xo(e.unaryFilter.field);return Hi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return lr()}}(e):void 0!==e.fieldFilter?function(e){return Hi.create(xo(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lr()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Gi.create(e.compositeFilter.filters.map((e=>po(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return lr()}}(e.compositeFilter.op))}(e):lr()}function go(e){return Ha[e]}function vo(e){return Ga[e]}function yo(e){return Ka[e]}function bo(e){return{fieldPath:e.canonicalString()}}function xo(e){return Ir.fromServerFormat(e.fieldPath)}function wo(e){return e instanceof Hi?function(e){if("=="===e.op){if(Ii(e.value))return{unaryFilter:{field:bo(e.field),op:"IS_NAN"}};if(Ai(e.value))return{unaryFilter:{field:bo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ii(e.value))return{unaryFilter:{field:bo(e.field),op:"IS_NOT_NAN"}};if(Ai(e.value))return{unaryFilter:{field:bo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(e.field),op:vo(e.op),value:e.value}}}(e):e instanceof Gi?function(e){const t=e.getFilters().map((e=>wo(e)));return 1===t.length?t[0]:{compositeFilter:{op:yo(e.op),filters:t}}}(e):lr()}function So(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function ko(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class No{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:jr.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:jr.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:li.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new No(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Eo{constructor(e){this.ct=e}}function To(e){const t=mo({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ws(t,t.limit,"L"):t}class jo{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(di(e.integerValue));else if("doubleValue"in e){const n=di(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Gr(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=ui(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(hi(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Li(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Di(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):lr()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const s="value",a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(di(a)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),Pr.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}jo.vt=new jo;class _o{constructor(){this.un=new Co}addToCollectionParentIndex(e,t){return this.un.add(t),zr.resolve()}getCollectionParents(e,t){return zr.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return zr.resolve()}deleteFieldIndex(e,t){return zr.resolve()}deleteAllFieldIndexes(e){return zr.resolve()}createTargetIndexes(e,t){return zr.resolve()}getDocumentsMatchingTarget(e,t){return zr.resolve(null)}getIndexType(e,t){return zr.resolve(0)}getFieldIndexes(e,t){return zr.resolve([])}getNextCollectionGroupToUpdate(e){return zr.resolve(null)}getMinOffset(e,t){return zr.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,t){return zr.resolve(Or.min())}updateCollectionGroup(e,t,n){return zr.resolve()}updateIndexEntries(e,t){return zr.resolve()}}class Co{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ii(Cr.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ii(Cr.comparator)).toArray()}}new Uint8Array(0);class Ao{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ao(e,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ao.DEFAULT_COLLECTION_PERCENTILE=10,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ao.DEFAULT=new Ao(41943040,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ao.DISABLED=new Ao(-1,0,0);class Io{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Io(0)}static kn(){return new Io(-1)}}class Po{constructor(){this.changes=new Cs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?zr.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Do{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ro{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&da(n.mutation,e,ai.empty(),Tr.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Us()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Us();const r=Ls();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Ds();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Ls();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Us())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Is();const s=Ms(),a=Ms();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof pa)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),da(a.mutation,t,a.mutation.getFieldMask(),Tr.now())):s.set(t.key,ai.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Do(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Ms();let r=new ti(((e,t)=>e-t)),i=Us();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||ai.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Us()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Os();l.forEach((e=>{if(!i.has(e)){const r=ca(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return zr.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Pr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gs(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):zr.resolve(Ls());let a=-1,o=i;return s.next((t=>zr.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?zr.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Us()))).next((e=>({batchId:a,changes:Rs(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pr(t)).next((e=>{let t=Ds();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Ds();return this.indexManager.getCollectionParents(e,i).next((a=>zr.forEach(a,(a=>{const o=function(e,t){return new hs(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Fi.newInvalidDocument(r)))}));let n=Ds();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&da(s.mutation,r,ai.empty(),Tr.now()),Es(t,r)&&(n=n.insert(e,r))})),n}))}}class Lo{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return zr.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Za(e.createTime)}}(t)),zr.resolve()}getNamedQuery(e,t){return zr.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:To(e.bundledQuery),readTime:Za(e.readTime)}}(t)),zr.resolve()}}class Oo{constructor(){this.overlays=new ti(Pr.comparator),this.Ir=new Map}getOverlay(e,t){return zr.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ls();return zr.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),zr.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),zr.resolve()}getOverlaysForCollection(e,t,n){const r=Ls(),i=t.length+1,s=new Pr(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return zr.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ti(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ls(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Ls(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return zr.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ka(t,n));let i=this.Ir.get(t);void 0===i&&(i=Us(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class Mo{constructor(){this.sessionToken=li.EMPTY_BYTE_STRING}getSessionToken(e){return zr.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,zr.resolve()}}class Fo{constructor(){this.Tr=new ii(Vo.Er),this.dr=new ii(Vo.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Vo(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new Vo(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new Pr(new Cr([])),n=new Vo(t,e),r=new Vo(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Pr(new Cr([])),n=new Vo(t,e),r=new Vo(t,e+1);let i=Us();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Vo(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Vo{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Pr.comparator(e.key,t.key)||Nr(e.wr,t.wr)}static Ar(e,t){return Nr(e.wr,t.wr)||Pr.comparator(e.key,t.key)}}class Uo{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new ii(Vo.Er)}checkEmpty(e){return zr.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new wa(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.br=this.br.add(new Vo(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return zr.resolve(s)}lookupMutationBatch(e,t){return zr.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return zr.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return zr.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return zr.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Vo(t,0),r=new Vo(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),zr.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ii(Nr);return t.forEach((e=>{const t=new Vo(e,0),r=new Vo(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),zr.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Pr.isDocumentKey(i)||(i=i.child(""));const s=new Vo(new Pr(i),0);let a=new ii(Nr);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)}),s),zr.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){cr(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return zr.forEach(t.mutations,(r=>{const i=new Vo(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new Vo(t,0),r=this.br.firstAfterOrEqual(n);return zr.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,zr.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zo{constructor(e){this.Mr=e,this.docs=new ti(Pr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return zr.resolve(n?n.document.mutableCopy():Fi.newInvalidDocument(t))}getEntries(e,t){let n=Is();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Fi.newInvalidDocument(e))})),zr.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Is();const s=t.path,a=new Pr(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Mr(Lr(a),n)<=0||(r.has(a.key)||Es(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return zr.resolve(i)}getAllFromCollectionGroup(e,t,n,r){lr()}Or(e,t){return zr.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Bo(this)}getSize(e){return zr.resolve(this.size)}}class Bo extends Po{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),zr.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class qo{constructor(e){this.persistence=e,this.Nr=new Cs((e=>cs(e)),us),this.lastRemoteSnapshotVersion=jr.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Fo,this.targetCount=0,this.kr=Io.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),zr.resolve()}getLastRemoteSnapshotVersion(e){return zr.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return zr.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),zr.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),zr.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Io(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,zr.resolve()}updateTargetData(e,t){return this.Kn(t),zr.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,zr.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),zr.waitFor(i).next((()=>r))}getTargetCount(e){return zr.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return zr.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),zr.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),zr.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),zr.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return zr.resolve(n)}containsKey(e,t){return zr.resolve(this.Br.containsKey(t))}}class Wo{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Wr(0),this.Kr=!1,this.Kr=!0,this.$r=new Mo,this.referenceDelegate=e(this),this.Ur=new qo(this),this.indexManager=new _o,this.remoteDocumentCache=function(e){return new zo(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new Eo(t),this.Gr=new Lo(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Oo,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Uo(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){ir("MemoryPersistence","Starting transaction:",e);const r=new Ho(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return zr.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class Ho extends Vr{constructor(e){super(),this.currentSequenceNumber=e}}class Go{constructor(e){this.persistence=e,this.Jr=new Fo,this.Yr=null}static Zr(e){return new Go(e)}get Xr(){if(this.Yr)return this.Yr;throw lr()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),zr.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),zr.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),zr.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zr.forEach(this.Xr,(n=>{const r=Pr.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,jr.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return zr.or([()=>zr.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Ko{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=Us(),r=Us();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ko(e,t.fromCache,n,r)}}class Yo{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Qo{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=$e()?8:Br(Xe())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Yo;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(rr()<=pt.DEBUG&&ir("QueryEngine","SDK will not create cache indexes for query:",Ns(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),zr.resolve()):(rr()<=pt.DEBUG&&ir("QueryEngine","Query:",Ns(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(rr()<=pt.DEBUG&&ir("QueryEngine","The SDK decides to create cache indexes for query:",Ns(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ys(t))):zr.resolve())}Yi(e,t){if(ps(t))return zr.resolve(null);let n=ys(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=ws(t,null,"F"),n=ys(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Us(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,ws(t,null,"F")):this.rs(e,s,t,n)}))))})))))}Zi(e,t,n,r){return ps(t)||r.isEqual(jr.min())?zr.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?zr.resolve(null):(rr()<=pt.DEBUG&&ir("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ns(t)),this.rs(e,s,t,Rr(r,-1)).next((e=>e)))}))}ts(e,t){let n=new ii(js(e));return t.forEach(((t,r)=>{Es(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return rr()<=pt.DEBUG&&ir("QueryEngine","Using full collection scan to execute query:",Ns(t)),this.Ji.getDocumentsMatchingQuery(e,t,Or.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Xo{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new ti(Nr),this._s=new Cs((e=>cs(e)),us),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ro(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function $o(e,t,n,r){return new Xo(e,t,n,r)}async function Jo(e,t){const n=ur(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Us();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Zo(e){const t=ur(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function el(e,t,n){let r=Us(),i=Us();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Is();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(jr.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):ir("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{Ps:r,Is:i}}))}function tl(e,t){const n=ur(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function nl(e,t){const n=ur(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,zr.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new No(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function rl(e,t,n){const r=ur(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!qr(e))throw e;ir("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(i.target)}function il(e,t,n){const r=ur(e);let i=jr.min(),s=Us();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=ur(e),i=r._s.get(n);return void 0!==i?zr.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,ys(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:jr.min(),n?s:Us()))).next((e=>(sl(r,Ts(t),e),{documents:e,Ts:s})))))}function sl(e,t,n){let r=e.us.get(t)||jr.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}class al{constructor(){this.activeTargetIds=Bs()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ol{constructor(){this.so=new al,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new al,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ll{_o(e){}shutdown(){}}class cl{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ir("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ir("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ul=null;function dl(){return null===ul?ul=268435456+Math.round(2147483648*Math.random()):ul++,"0x"+ul.toString(16)}const hl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fl{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const ml="WebChannelConnection";class pl extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,i){const s=dl(),a=this.xo(e,t.toUriEncodedString());ir("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,r,i),this.No(e,a,o,n).then((t=>(ir("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw ar("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t}))}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+tr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=hl[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=dl();return new Promise(((s,a)=>{const o=new qn;o.setWithCredentials(!0),o.listenOnce(Hn.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Gn.NO_ERROR:const t=o.getResponseJson();ir(ml,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Gn.TIMEOUT:ir(ml,"RPC '".concat(e,"' ").concat(i," timed out")),a(new hr(dr.DEADLINE_EXCEEDED,"Request time out"));break;case Gn.HTTP_ERROR:const n=o.getStatus();if(ir(ml,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(dr).indexOf(t)>=0?t:dr.UNKNOWN}(t.status);a(new hr(e,t.message))}else a(new hr(dr.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new hr(dr.UNAVAILABLE,"Connection failed."));break;default:lr()}}finally{ir(ml,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);ir(ml,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=dl(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Xn(),a=Qn(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");ir(ml,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new fl({Io:t=>{h?ir(ml,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(ir(ml,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),ir(ml,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,Wn.EventType.OPEN,(()=>{h||(ir(ml,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.yo())})),m(u,Wn.EventType.CLOSE,(()=>{h||(h=!0,ir(ml,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.So())})),m(u,Wn.EventType.ERROR,(t=>{h||(h=!0,ar(ml,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.So(new hr(dr.UNAVAILABLE,"The operation could not be completed")))})),m(u,Wn.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];cr(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){ir(ml,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Ea[e];if(void 0!==t)return _a(t)}(t),i=a.message;void 0===n&&(n=dr.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new hr(n,i)),u.close()}else ir(ml,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.bo(i)}})),m(a,Yn.STAT_EVENT,(t=>{t.stat===Kn.PROXY?ir(ml,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Kn.NOPROXY&&ir(ml,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.wo()}),0),f}}function gl(){return"undefined"!=typeof document?document:null}function vl(e){return new Ya(e,!0)}class yl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&ir("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class bl{constructor(e,t,n,r,i,s,a,o){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new yl(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===dr.RESOURCE_EXHAUSTED?(sr(t.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===dr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new hr(dr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ir("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(ir("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xl extends bl{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:lr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(cr(void 0===t||"string"==typeof t),li.fromBase64String(t||"")):(cr(void 0===t||t instanceof Buffer||t instanceof Uint8Array),li.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?dr.UNKNOWN:_a(e.code);return new hr(t,e.message||"")}(a);n=new Ua(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=io(e,r.document.name),s=Za(r.document.updateTime),a=r.document.createTime?Za(r.document.createTime):jr.min(),o=new Oi({mapValue:{fields:r.document.fields}}),l=Fi.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Fa(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=io(e,r.document),s=r.readTime?Za(r.readTime):jr.min(),a=Fi.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Fa([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=io(e,r.document),s=r.removedTargetIds||[];n=new Fa([],s,i,null)}else{if(!("filter"in t))return lr();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Na(r,i),a=e.targetId;n=new Va(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return jr.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?jr.min():t.readTime?Za(t.readTime):jr.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=oo(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ds(r)?{documents:ho(e,r)}:{query:fo(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=$a(e,t.resumeToken);const r=Qa(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(jr.min())>0){n.readTime=Xa(e,t.snapshotVersion.toTimestamp());const r=Qa(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lr()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=oo(this.serializer),t.removeTarget=e,this.a_(t)}}class wl extends bl{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return cr(!!e.streamToken),this.lastStreamToken=e.streamToken,cr(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){cr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(cr(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Za(e.updateTime):Za(t);return n.isEqual(jr.min())&&(n=Za(t)),new sa(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Za(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=oo(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>uo(this.serializer,e)))};this.a_(t)}}class Sl extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new hr(dr.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.Mo(e,to(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===dr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new hr(dr.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.Lo(e,to(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===dr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new hr(dr.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class kl{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(sr(t),this.D_=!1):ir("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Nl{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{Dl(this)&&(ir("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=ur(e);t.L_.add(4),await Tl(t),t.q_.set("Unknown"),t.L_.delete(4),await El(t)}(this))}))})),this.q_=new kl(n,r)}}async function El(e){if(Dl(e))for(const t of e.B_)await t(!0)}async function Tl(e){for(const t of e.B_)await t(!1)}function jl(e,t){const n=ur(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Pl(n)?Il(n):Jl(n).r_()&&Cl(n,t))}function _l(e,t){const n=ur(e),r=Jl(n);n.N_.delete(t),r.r_()&&Al(n,t),0===n.N_.size&&(r.r_()?r.o_():Dl(n)&&n.q_.set("Unknown"))}function Cl(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(jr.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Jl(e).A_(t)}function Al(e,t){e.Q_.xe(t),Jl(e).R_(t)}function Il(e){e.Q_=new Ba({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Jl(e).start(),e.q_.v_()}function Pl(e){return Dl(e)&&!Jl(e).n_()&&e.N_.size>0}function Dl(e){return 0===ur(e).L_.size}function Rl(e){e.Q_=void 0}async function Ll(e){e.q_.set("Online")}async function Ol(e){e.N_.forEach(((t,n)=>{Cl(e,t)}))}async function Ml(e,t){Rl(e),Pl(e)?(e.q_.M_(t),Il(e)):e.q_.set("Unknown")}async function Fl(e,t,n){if(e.q_.set("Online"),t instanceof Ua&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){ir("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Vl(e,n)}else if(t instanceof Fa?e.Q_.Ke(t):t instanceof Va?e.Q_.He(t):e.Q_.We(t),!n.isEqual(jr.min()))try{const t=await Zo(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(li.EMPTY_BYTE_STRING,r.snapshotVersion)),Al(e,t);const i=new No(r.target,t,n,r.sequenceNumber);Cl(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ir("RemoteStore","Failed to raise snapshot:",t),await Vl(e,t)}}async function Vl(e,t,n){if(!qr(t))throw t;e.L_.add(1),await Tl(e),e.q_.set("Offline"),n||(n=()=>Zo(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ir("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await El(e)}))}function Ul(e,t){return t().catch((n=>Vl(e,n,t)))}async function zl(e){const t=ur(e),n=Zl(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Bl(t);)try{const e=await tl(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,ql(t,e)}catch(e){await Vl(t,e)}Wl(t)&&Hl(t)}function Bl(e){return Dl(e)&&e.O_.length<10}function ql(e,t){e.O_.push(t);const n=Zl(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Wl(e){return Dl(e)&&!Zl(e).n_()&&e.O_.length>0}function Hl(e){Zl(e).start()}async function Gl(e){Zl(e).p_()}async function Kl(e){const t=Zl(e);for(const n of e.O_)t.m_(n.mutations)}async function Yl(e,t,n){const r=e.O_.shift(),i=Sa.from(r,t,n);await Ul(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await zl(e)}async function Ql(e,t){t&&Zl(e).V_&&await async function(e,t){if(function(e){return ja(e)&&e!==dr.ABORTED}(t.code)){const n=e.O_.shift();Zl(e).s_(),await Ul(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await zl(e)}}(e,t),Wl(e)&&Hl(e)}async function Xl(e,t){const n=ur(e);n.asyncQueue.verifyOperationInProgress(),ir("RemoteStore","RemoteStore received new credentials");const r=Dl(n);n.L_.add(3),await Tl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await El(n)}async function $l(e,t){const n=ur(e);t?(n.L_.delete(2),await El(n)):t||(n.L_.add(2),await Tl(n),n.q_.set("Unknown"))}function Jl(e){return e.K_||(e.K_=function(e,t,n){const r=ur(e);return r.w_(),new xl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:Ll.bind(null,e),Ro:Ol.bind(null,e),mo:Ml.bind(null,e),d_:Fl.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),Pl(e)?Il(e):e.q_.set("Unknown")):(await e.K_.stop(),Rl(e))}))),e.K_}function Zl(e){return e.U_||(e.U_=function(e,t,n){const r=ur(e);return r.w_(),new wl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Gl.bind(null,e),mo:Ql.bind(null,e),f_:Kl.bind(null,e),g_:Yl.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await zl(e)):(await e.U_.stop(),e.O_.length>0&&(ir("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))}))),e.U_}class ec{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new ec(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new hr(dr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tc(e,t){if(sr("AsyncQueue","".concat(t,": ").concat(e)),qr(e))return new hr(dr.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class nc{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Pr.comparator(t.key,n.key):(e,t)=>Pr.comparator(e.key,t.key),this.keyedMap=Ds(),this.sortedSet=new ti(this.comparator)}static emptySet(e){return new nc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nc))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new nc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class rc{constructor(){this.W_=new ti(Pr.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):lr():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class ic{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new ic(e,t,nc.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ss(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class sc{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class ac{constructor(){this.queries=oc(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=ur(e),r=n.queries;n.queries=oc(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new hr(dr.ABORTED,"Firestore shutting down"))}}function oc(){return new Cs((e=>ks(e)),Ss)}async function lc(e,t){const n=ur(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new sc,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=tc(e,"Initialization of query '".concat(Ns(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&hc(n)}async function cc(e,t){const n=ur(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uc(e,t){const n=ur(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&hc(n)}function dc(e,t,n){const r=ur(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function hc(e){e.Y_.forEach((e=>{e.next()}))}var fc,mc;(mc=fc||(fc={})).ea="default",mc.Cache="cache";class pc{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ic(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==fc.Cache}}class gc{constructor(e){this.key=e}}class vc{constructor(e){this.key=e}}class yc{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Us(),this.mutatedKeys=Us(),this.Aa=js(e),this.Ra=new nc(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new rc,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Es(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Aa(u,o)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lr()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],o=0===this.da.size&&this.current&&!r?1:0,l=o!==this.Ea;return this.Ea=o,0!==s.length||l?{snapshot:new ic(this.query,e.Ra,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new rc,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Us(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new vc(e))})),this.da.forEach((n=>{e.has(n)||t.push(new gc(n))})),t}ba(e){this.Ta=e.Ts,this.da=Us();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return ic.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class bc{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class xc{constructor(e){this.key=e,this.va=!1}}class wc{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Cs((e=>ks(e)),Ss),this.Ma=new Map,this.xa=new Set,this.Oa=new ti(Pr.comparator),this.Na=new Map,this.La=new Fo,this.Ba={},this.ka=new Map,this.qa=Io.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Sc(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=qc(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Nc(r,t,n,!0),i}async function kc(e,t){const n=qc(e);await Nc(n,t,!0,!1)}async function Nc(e,t,n,r){const i=await nl(e.localStore,ys(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Ec(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&jl(e.remoteStore,i),o}async function Ec(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await il(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Mc(e,t.targetId,o.wa),o.snapshot}(e,t,n,r);const s=await il(e.localStore,t,!0),a=new yc(t,s.Ts),o=a.ma(s.documents),l=Ma.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Mc(e,n,c.wa);const u=new bc(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function Tc(e,t,n){const r=ur(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter((e=>!Ss(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rl(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_l(r.remoteStore,i.targetId),Lc(r,i.targetId)})).catch(Ur)):(Lc(r,i.targetId),await rl(r.localStore,i.targetId,!0))}async function jc(e,t){const n=ur(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_l(n.remoteStore,r.targetId))}async function _c(e,t){const n=ur(e);try{const e=await function(e,t){const n=ur(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Ur.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(li.EMPTY_BYTE_STRING,jr.min()).withLastLimboFreeSnapshotVersion(jr.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Ur.updateTargetData(e,c))}));let o=Is(),l=Us();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(el(e,s,t.documentUpdates).next((e=>{o=e.Ps,l=e.Is}))),!r.isEqual(jr.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return zr.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.os=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(cr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?cr(r.va):e.removedDocuments.size>0&&(cr(r.va),r.va=!1))})),await Uc(n,e,t)}catch(e){await Ur(e)}}function Cc(e,t,n){const r=ur(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=ur(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&hc(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ac(e,t,n){const r=ur(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new ti(Pr.comparator);e=e.insert(s,Fi.newNoDocument(s,jr.min()));const n=Us().add(s),i=new Oa(jr.min(),new Map,new ti(Nr),e,n);await _c(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),Vc(r)}else await rl(r.localStore,t,!1).then((()=>Lc(r,t,n))).catch(Ur)}async function Ic(e,t){const n=ur(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ur(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=zr.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);cr(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Us();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Rc(n,r,null),Dc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uc(n,e)}catch(e){await Ur(e)}}async function Pc(e,t,n){const r=ur(e);try{const e=await function(e,t){const n=ur(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(cr(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Rc(r,t,n),Dc(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Uc(r,e)}catch(n){await Ur(n)}}function Dc(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function Rc(e,t,n){const r=ur(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function Lc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||Oc(e,t)}))}function Oc(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(_l(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Vc(e))}function Mc(e,t,n){for(const r of n)r instanceof gc?(e.La.addReference(r.key,t),Fc(e,r)):r instanceof vc?(ir("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||Oc(e,r.key)):lr()}function Fc(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(ir("SyncEngine","New document in limbo: "+n),e.xa.add(r),Vc(e))}function Vc(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new Pr(Cr.fromString(t)),r=e.qa.next();e.Na.set(r,new xc(n)),e.Oa=e.Oa.insert(n,r),jl(e.remoteStore,new No(ys(ms(n.path)),r,"TargetPurposeLimboResolution",Wr.oe))}}async function Uc(e,t,n){const r=ur(e),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,o)=>{a.push(r.Ka(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Ko.Wi(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=ur(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>zr.forEach(t,(t=>zr.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>zr.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!qr(e))throw e;ir("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function zc(e,t){const n=ur(e);if(!n.currentUser.isEqual(t)){ir("SyncEngine","User change. New user:",t.toKey());const e=await Jo(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new hr(dr.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Uc(n,e.hs)}}function Bc(e,t){const n=ur(e),r=n.Na.get(t);if(r&&r.va)return Us().add(r.key);{let e=Us();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function qc(e){const t=ur(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_c.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ac.bind(null,t),t.Ca.d_=uc.bind(null,t.eventManager),t.Ca.$a=dc.bind(null,t.eventManager),t}function Wc(e){const t=ur(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ic.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Pc.bind(null,t),t}class Hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vl(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return $o(this.persistence,new Qo,e.initialUser,this.serializer)}Ga(e){return new Wo(Go.Zr,this.serializer)}Wa(e){return new ol}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hc.provider={build:()=>new Hc};class Gc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Cc(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=zc.bind(null,this.syncEngine),await $l(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ac}createDatastore(e){const t=vl(e.databaseInfo.databaseId),n=function(e){return new pl(e)}(e.databaseInfo);return function(e,t,n,r){return new Sl(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Nl(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Cc(this.syncEngine,e,0)),cl.D()?new cl:new ll)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new wc(e,t,n,r,i,s);return a&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=ur(e);ir("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Tl(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Gc.provider={build:()=>new Gc};class Kc{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class Yc{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new hr(dr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=ur(e),r={documents:t.map((e=>ro(n.serializer,e)))},i=await n.Lo("BatchGetDocuments",n.serializer.databaseId,Cr.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){cr(!!t.found),t.found.name,t.found.updateTime;const n=io(e,t.found.name),r=Za(t.found.updateTime),i=t.found.createTime?Za(t.found.createTime):jr.min(),s=new Oi({mapValue:{fields:t.found.fields}});return Fi.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){cr(!!t.missing),cr(!!t.readTime);const n=io(e,t.missing),r=Za(t.readTime);return Fi.newNoDocument(n,r)}(e,t):lr()}(n.serializer,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());cr(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new ba(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Pr.fromPath(t);this.mutations.push(new xa(n,this.precondition(n)))})),await async function(e,t){const n=ur(e),r={writes:t.map((e=>uo(n.serializer,e)))};await n.Mo("Commit",n.serializer.databaseId,Cr.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw lr();t=jr.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new hr(dr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(jr.min())?aa.exists(!1):aa.updateTime(t):aa.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(jr.min()))throw new hr(dr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return aa.updateTime(t)}return aa.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Qc{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this._u=n.maxAttempts,this.t_=new yl(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go((async()=>{const e=new Yc(this.datastore),t=this.cu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.lu(e)}))))})).catch((e=>{this.lu(e)}))}))}cu(e){try{const t=this.updateFunction(e);return!Hr(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget((()=>(this.uu(),Promise.resolve())))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ja(t)}return!1}}class Xc{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=er.UNAUTHENTICATED,this.clientId=kr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{ir("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ir("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=tc(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function $c(e,t){e.asyncQueue.verifyOperationInProgress(),ir("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Jo(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Jc(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Zc(e);ir("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Xl(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Xl(t.remoteStore,n))),e._onlineComponents=t}async function Zc(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ir("FirestoreClient","Using user provided OfflineComponentProvider");try{await $c(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===dr.FAILED_PRECONDITION||e.code===dr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;ar("Error using user provided cache. Falling back to memory cache: "+n),await $c(e,new Hc)}}else ir("FirestoreClient","Using default OfflineComponentProvider"),await $c(e,new Hc);return e._offlineComponents}async function eu(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ir("FirestoreClient","Using user provided OnlineComponentProvider"),await Jc(e,e._uninitializedComponentsProvider._online)):(ir("FirestoreClient","Using default OnlineComponentProvider"),await Jc(e,new Gc))),e._onlineComponents}function tu(e){return eu(e).then((e=>e.syncEngine))}function nu(e){return eu(e).then((e=>e.datastore))}async function ru(e){const t=await eu(e),n=t.eventManager;return n.onListen=Sc.bind(null,t.syncEngine),n.onUnlisten=Tc.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=kc.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=jc.bind(null,t.syncEngine),n}function iu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new fr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Kc({next:o=>{s.Za(),t.enqueueAndForget((()=>cc(e,a)));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new hr(dr.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new hr(dr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new pc(ms(n.path),s,{includeMetadataChanges:!0,_a:!0});return lc(e,a)}(await ru(e),e.asyncQueue,t,n,r))),r.promise}function su(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new fr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Kc({next:n=>{s.Za(),t.enqueueAndForget((()=>cc(e,a))),n.fromCache&&"server"===r.source?i.reject(new hr(dr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new pc(n,s,{includeMetadataChanges:!0,_a:!0});return lc(e,a)}(await ru(e),e.asyncQueue,t,n,r))),r.promise}function au(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const ou=new Map;function lu(e,t,n){if(!n)throw new hr(dr.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function cu(e){if(!Pr.isDocumentKey(e))throw new hr(dr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function uu(e){if(Pr.isDocumentKey(e))throw new hr(dr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function du(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":lr()}function hu(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new hr(dr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=du(e);throw new hr(dr.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function fu(e,t){if(t<=0)throw new hr(dr.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class mu{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new hr(dr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new hr(dr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new hr(dr.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=au(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new hr(dr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new hr(dr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new hr(dr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pu{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mu({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new hr(dr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new hr(dr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mu(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new pr;switch(e.type){case"firstParty":return new br(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new hr(dr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ou.get(e);t&&(ir("ComponentProvider","Removing Datastore"),ou.delete(e),t.terminate())}(this),Promise.resolve()}}function gu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=hu(e,pu))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&ar("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=er.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Be(JSON.stringify({alg:"none",type:"JWT"})),Be(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new hr(dr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new er(s)}e._authCredentials=new gr(new mr(t,n))}}class vu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new vu(this.firestore,e,this._query)}}class yu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yu(this.firestore,e,this._key)}}class bu extends vu{constructor(e,t,n){super(e,t,ms(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yu(this.firestore,null,new Pr(e))}withConverter(e){return new bu(this.firestore,e,this._path)}}function xu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ct(e),lu("collection","path",t),e instanceof pu){const n=Cr.fromString(t,...r);return uu(n),new bu(e,null,n)}{if(!(e instanceof yu||e instanceof bu))throw new hr(dr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Cr.fromString(t,...r));return uu(n),new bu(e.firestore,null,n)}}function wu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ct(e),1===arguments.length&&(t=kr.newId()),lu("doc","path",t),e instanceof pu){const n=Cr.fromString(t,...r);return cu(n),new yu(e,null,new Pr(n))}{if(!(e instanceof yu||e instanceof bu))throw new hr(dr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Cr.fromString(t,...r));return cu(n),new yu(e.firestore,e instanceof bu?e.converter:null,new Pr(n))}}class Su{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new yl(this,"async_queue_retry"),this.Vu=()=>{const e=gl();e&&ir("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=gl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=gl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new fr;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(uN){if(!qr(uN))throw uN;ir("AsyncQueue","Operation failed with retryable error: "+uN)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw sr("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=ec.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&lr()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class ku extends pu{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Su,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Su(e),this._firestoreClient=void 0,await e}}}function Nu(e){if(e._terminated)throw new hr(dr.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Eu(e),e._firestoreClient}function Eu(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new gi(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,au(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Xc(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Tu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tu(li.fromBase64String(e))}catch(e){throw new hr(dr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Tu(li.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ju{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new hr(dr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ir(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _u{constructor(e){this._methodName=e}}class Cu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new hr(dr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new hr(dr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nr(this._lat,e._lat)||Nr(this._long,e._long)}}class Au{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Iu=/^__.*__$/;class Pu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new pa(e,this.data,this.fieldMask,t,this.fieldTransforms):new ma(e,this.data,t,this.fieldTransforms)}}class Du{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new pa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ru(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lr()}}class Lu{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Lu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return $u(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Ru(this.Cu)&&Iu.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Ou{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||vl(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Lu({Cu:e,methodName:t,qu:n,path:Ir.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mu(e){const t=e._freezeSettings(),n=vl(e._databaseId);return new Ou(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Fu(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);Ku("Data must be an object, but it was:",a,r);const o=Hu(r,a);let l,c;if(s.merge)l=new ai(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Yu(t,r,n);if(!a.contains(i))throw new hr(dr.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Ju(e,i)||e.push(i)}l=new ai(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Pu(new Oi(o),l,c)}class Vu extends _u{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Bu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vu}}class Uu extends _u{_toFieldTransform(e){return new ia(e.path,new Xs)}isEqual(e){return e instanceof Uu}}function zu(e,t,n,r){const i=e.Qu(1,t,n);Ku("Data must be an object, but it was:",i,r);const s=[],a=Oi.empty();Zr(r,((e,r)=>{const o=Xu(t,e,n);r=ct(r);const l=i.Nu(o);if(r instanceof Vu)s.push(o);else{const e=Wu(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new ai(s);return new Du(a,o,i.fieldTransforms)}function Bu(e,t,n,r,i,s){const a=e.Qu(1,t,n),o=[Yu(t,r,n)],l=[i];if(s.length%2!=0)throw new hr(dr.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)o.push(Yu(t,s[h])),l.push(s[h+1]);const c=[],u=Oi.empty();for(let h=o.length-1;h>=0;--h)if(!Ju(c,o[h])){const e=o[h];let t=l[h];t=ct(t);const n=a.Nu(e);if(t instanceof Vu)c.push(e);else{const r=Wu(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new ai(c);return new Du(u,d,a.fieldTransforms)}function qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Wu(n,e.Qu(r?4:3,t))}function Wu(e,t){if(Gu(e=ct(e)))return Ku("Unsupported field value:",t,e),Hu(e,t);if(e instanceof _u)return function(e,t){if(!Ru(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Wu(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ct(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Hs(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Tr.fromDate(e);return{timestampValue:Xa(t.serializer,n)}}if(e instanceof Tr){const n=new Tr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Xa(t.serializer,n)}}if(e instanceof Cu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Tu)return{bytesValue:$a(t.serializer,e._byteString)};if(e instanceof yu){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:eo(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Au)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return qs(t.serializer,e)}))}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(du(e)))}(e,t)}function Hu(e,t){const n={};return ei(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zr(e,((e,r)=>{const i=Wu(r,t.Mu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Gu(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Tr||e instanceof Cu||e instanceof Tu||e instanceof yu||e instanceof _u||e instanceof Au)}function Ku(e,t,n){if(!Gu(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=du(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function Yu(e,t,n){if((t=ct(t))instanceof ju)return t._internalPath;if("string"==typeof t)return Xu(e,t);throw $u("Field path arguments must be of type string or ",e,!1,void 0,n)}const Qu=new RegExp("[~\\*/\\[\\]]");function Xu(e,t,n){if(t.search(Qu)>=0)throw $u("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new ju(...t.split("."))._internalPath}catch(r){throw $u("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function $u(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new hr(dr.INVALID_ARGUMENT,o+e+l)}function Ju(e,t){return e.some((e=>e.isEqual(t)))}class Zu{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new yu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ed(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(td("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ed extends Zu{data(){return super.data()}}function td(e,t){return"string"==typeof t?Xu(e,t):t instanceof ju?t._internalPath:t._delegate._internalPath}function nd(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new hr(dr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rd{}class id extends rd{}function sd(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof rd&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof od)).length,n=e.filter((e=>e instanceof ad)).length;if(t>1||t>0&&n>0)throw new hr(dr.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class ad extends id{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new ad(e,t,n)}_apply(e){const t=this._parse(e);return md(e._query,t),new vu(e.firestore,e.converter,xs(e._query,t))}_parse(e){const t=Mu(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new hr(dr.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){fd(a,s);const t=[];for(const n of a)t.push(hd(r,e,n));o={arrayValue:{values:t}}}else o=hd(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||fd(a,s),o=qu(n,t,a,"in"===s||"not-in"===s);return Hi.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class od extends rd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new od(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Gi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)md(n,i),n=xs(n,i)}(e._query,t),new vu(e.firestore,e.converter,xs(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ld extends id{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ld(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new hr(dr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new hr(dr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bi(t,n)}(e._query,this._field,this._direction);return new vu(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new hs(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function cd(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=td("orderBy",e);return ld._create(n,t)}class ud extends id{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new ud(e,t,n)}_apply(e){return new vu(e.firestore,e.converter,ws(e._query,this._limit,this._limitType))}}function dd(e){return fu("limit",e),ud._create("limit",e,"F")}function hd(e,t,n){if("string"==typeof(n=ct(n))){if(""===n)throw new hr(dr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gs(t)&&-1!==n.indexOf("/"))throw new hr(dr.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Cr.fromString(n));if(!Pr.isDocumentKey(r))throw new hr(dr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ji(e,new Pr(r))}if(n instanceof yu)return ji(e,n._key);throw new hr(dr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(du(n),"."))}function fd(e,t){if(!Array.isArray(e)||0===e.length)throw new hr(dr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function md(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new hr(dr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new hr(dr.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class pd{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return di(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw lr()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Zr(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>di(e.doubleValue)));return new Au(i)}convertGeoPoint(e){return new Cu(di(e.latitude),di(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=mi(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(pi(e));default:return null}}convertTimestamp(e){const t=ui(e);return new Tr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Cr.fromString(e);cr(ko(n));const r=new vi(n.get(1),n.get(3)),i=new Pr(n.popFirst(5));return r.isEqual(t)||sr("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function gd(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class vd extends pd{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yu(this.firestore,null,t)}}class yd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bd extends Zu{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(td("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class xd extends bd{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class wd{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new yd(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new xd(this._firestore,this._userDataWriter,n.key,n,new yd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new hr(dr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new xd(e._firestore,e._userDataWriter,n.doc.key,n.doc,new yd(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new xd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new yd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Sd(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Sd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lr()}}function kd(e){e=hu(e,yu);const t=hu(e.firestore,ku);return iu(Nu(t),e._key).then((n=>Ad(t,e,n)))}class Nd extends pd{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yu(this.firestore,null,t)}}function Ed(e){e=hu(e,vu);const t=hu(e.firestore,ku),n=Nu(t),r=new Nd(t);return nd(e._query),su(n,e._query).then((n=>new wd(t,r,e,n)))}function Td(e,t,n){e=hu(e,yu);const r=hu(e.firestore,ku),i=gd(e.converter,t,n);return Cd(r,[Fu(Mu(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,aa.none())])}function jd(e,t,n){e=hu(e,yu);const r=hu(e.firestore,ku),i=Mu(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=ct(t))||t instanceof ju?Bu(i,"updateDoc",e._key,t,n,o):zu(i,"updateDoc",e._key,t),Cd(r,[s.toMutation(e._key,aa.exists(!0))])}function _d(e,t){const n=hu(e.firestore,ku),r=wu(e),i=gd(e.converter,t);return Cd(n,[Fu(Mu(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,aa.exists(!1))]).then((()=>r))}function Cd(e,t){return function(e,t){const n=new fr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Wc(e);try{const e=await function(e,t){const n=ur(e),r=Tr.now(),i=t.reduce(((e,t)=>e.add(t.key)),Us());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Is(),l=Us();return n.cs.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=ha(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new pa(e.key,t,Mi(t.value.mapValue),aa.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Rs(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new ti(Nr)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await Uc(r,e.changes),await zl(r.remoteStore)}catch(e){const t=tc(e,"Failed to persist write");n.reject(t)}}(await tu(e),t,n))),n.promise}(Nu(e),t)}function Ad(e,t,n){const r=n.docs.get(t._key),i=new Nd(e);return new bd(e,i,t._key,r,new yd(n.hasPendingWrites,n.fromCache),t.converter)}const Id={maxAttempts:5};function Pd(e,t){if((e=ct(e)).firestore!==t)throw new hr(dr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Dd extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Mu(e)}get(e){const t=Pd(e,this._firestore),n=new vd(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return lr();const r=e[0];if(r.isFoundDocument())return new Zu(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Zu(this._firestore,n,t._key,null,t.converter);throw lr()}))}set(e,t,n){const r=Pd(e,this._firestore),i=gd(r.converter,t,n),s=Fu(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=Pd(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=ct(t))||t instanceof ju?Bu(this._dataReader,"Transaction.update",r._key,t,n,a):zu(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Pd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Pd(e,this._firestore),n=new Nd(this._firestore);return super.get(e).then((e=>new bd(this._firestore,n,t._key,e._document,new yd(!1,!1),t.converter)))}}function Rd(){return new Uu("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){tr=e}(En),xn(new ut("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new ku(new vr(e.getProvider("auth-internal")),new wr(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new hr(dr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vi(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),_n(Zn,"4.7.3",e),_n(Zn,"4.7.3","esm2017")}();_n("firebase","10.14.1","app");function Ld(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Od(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Md=Od,Fd=new et("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Vd=new xt("@firebase/auth");function Ud(e){if(Vd.logLevel<=pt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Vd.error("Auth (".concat(En,"): ").concat(e),...n)}}function zd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Hd(e,...n)}function Bd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Hd(e,...n)}function qd(e,t,n){const r=Object.assign(Object.assign({},Md()),{[t]:n});return new et("auth","Firebase",r).create(t,{appName:e.name})}function Wd(e){return qd(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Fd.create(e,...n)}function Gd(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Hd(t,...r)}}function Kd(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ud(t),new Error(t)}function Yd(e,t){e||Kd(t)}function Qd(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Xd(){return"http:"===$d()||"https:"===$d()}function $d(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Jd(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Xd()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Zd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yd(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Jd()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function eh(e,t){Yd(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class th{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Kd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Kd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Kd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nh={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},rh=new Zd(3e4,6e4);function ih(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function sh(e,t,n,r){return ah(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=it(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),th.fetch()(lh(e,e.config.apiHost,n,a),l)}))}async function ah(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},nh),t);try{const t=new uh(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw dh(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw dh(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw dh(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw dh(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw qd(e,o,a);zd(e,o)}}catch(uN){if(uN instanceof Ze)throw uN;zd(e,"network-request-failed",{message:String(uN)})}}async function oh(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await sh(e,t,n,r,i);return"mfaPendingCredential"in s&&zd(e,"multi-factor-auth-required",{_serverResponse:s}),s}function lh(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?eh(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function ch(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uh{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Bd(this.auth,"network-request-failed"))),rh.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function dh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Bd(e,t,r);return i.customData._tokenResponse=n,i}function hh(e){return void 0!==e&&void 0!==e.enterprise}class fh{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ch(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function mh(e,t){return sh(e,"GET","/v2/recaptchaConfig",ih(e,t))}async function ph(e,t){return sh(e,"POST","/v1/accounts:lookup",t)}function gh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(uN){}}function vh(e){return 1e3*Number(e)}function yh(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ud("JWT malformed, contained fewer than 3 sections"),null;try{const e=qe(n);return e?JSON.parse(e):(Ud("Failed to decode base64 JWT payload"),null)}catch(uN){return Ud("Caught error parsing JWT payload as JSON",null===uN||void 0===uN?void 0:uN.toString()),null}}function bh(e){const t=yh(e);return Gd(t,"internal-error"),Gd("undefined"!==typeof t.exp,"internal-error"),Gd("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function xh(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(uN){throw uN instanceof Ze&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(uN)&&e.auth.currentUser===e&&await e.auth.signOut(),uN}}class wh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(uN){return void((null===uN||void 0===uN?void 0:uN.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Sh{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gh(this.lastLoginAt),this.creationTime=gh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function kh(e){var t;const n=e.auth,r=await e.getIdToken(),i=await xh(e,ph(n,{idToken:r}));Gd(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Nh(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Sh(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Nh(e){return e.map((e=>{var{providerId:t}=e,n=Ld(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Eh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Gd(e.idToken,"internal-error"),Gd("undefined"!==typeof e.idToken,"internal-error"),Gd("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):bh(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Gd(0!==e.length,"internal-error");const t=bh(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Gd(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ah(e,{},(async()=>{const n=it({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=lh(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",th.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Eh;return n&&(Gd("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Gd("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Gd("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eh,this.toJSON())}_performRefresh(){return Kd("not implemented")}}function Th(e,t){Gd("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class jh{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Ld(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Sh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await xh(this,this.stsTokenManager.getToken(this.auth,e));return Gd(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ct(e),r=await n.getIdToken(t),i=yh(r);Gd(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gh(vh(i.auth_time)),issuedAtTime:gh(vh(i.iat)),expirationTime:gh(vh(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ct(e);await kh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Gd(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new jh(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Gd(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await kh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(Wd(this.auth));const e=await this.getIdToken();return await xh(this,async function(e,t){return sh(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,p=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:S}=t;Gd(y&&S,e,"internal-error");const k=Eh.fromJSON(this.name,S);Gd("string"===typeof y,e,"internal-error"),Th(u,e.name),Th(d,e.name),Gd("boolean"===typeof b,e,"internal-error"),Gd("boolean"===typeof x,e,"internal-error"),Th(h,e.name),Th(f,e.name),Th(m,e.name),Th(p,e.name),Th(g,e.name),Th(v,e.name);const N=new jh({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:h,tenantId:m,stsTokenManager:k,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(N.providerData=w.map((e=>Object.assign({},e)))),p&&(N._redirectEventId=p),N}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Eh;r.updateFromServerResponse(t);const i=new jh({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await kh(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Gd(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Nh(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Eh;a.updateFromIdToken(n);const o=new jh({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Sh(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const _h=new Map;function Ch(e){Yd(e instanceof Function,"Expected a class definition");let t=_h.get(e);return t?(Yd(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_h.set(e,t),t)}class Ah{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ah.type="NONE";const Ih=Ah;function Ph(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Dh{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Ph(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ph("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?jh._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Dh(Ch(Ih),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Ch(Ih);const s=Ph(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=jh._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new Dh(i,e,n)):new Dh(i,e,n)}}function Rh(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fh(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Lh(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Uh(t))return"Blackberry";if(zh(t))return"Webos";if(Oh(t))return"Safari";if((t.includes("chrome/")||Mh(t))&&!t.includes("edge/"))return"Chrome";if(Vh(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Lh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/firefox\//i.test(e)}function Oh(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/crios\//i.test(e)}function Fh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/iemobile/i.test(e)}function Vh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/android/i.test(e)}function Uh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/blackberry/i.test(e)}function zh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/webos/i.test(e)}function Bh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function qh(){return function(){const e=Xe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Wh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return Bh(e)||Vh(e)||zh(e)||Uh(e)||/windows phone/i.test(e)||Fh(e)}function Hh(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Rh(Xe());break;case"Worker":t="".concat(Rh(Xe()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(En,"/").concat(r)}class Gh{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(uN){r(uN)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(uN){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===uN||void 0===uN?void 0:uN.message})}}}class Kh{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Yh{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xh(this),this.idTokenSubscription=new Xh(this),this.beforeStateQueue=new Gh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fd,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ch(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Dh.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(uN){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await ph(this,{idToken:e}),n=await jh._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Sn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(uN){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(uN)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Gd(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(uN){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await kh(e)}catch(uN){if((null===uN||void 0===uN?void 0:uN.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(Wd(this));const t=e?ct(e):null;return t&&Gd(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Gd(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Sn(this.app)?Promise.reject(Wd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(Wd(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Ch(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return sh(e,"GET","/v2/passwordPolicy",ih(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Kh(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new et("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return sh(e,"POST","/v2/accounts:revokeToken",ih(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ch(e)||this._popupRedirectResolver;Gd(t,this,"argument-error"),this.redirectPersistenceManager=await Dh.create(this,[Ch(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Gd(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Gd(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hh(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Vd.logLevel<=pt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Vd.warn("Auth (".concat(En,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Qh(e){return ct(e)}class Xh{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ot(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Gd(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Jh(e){return $h.loadJS(e)}function Zh(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ef{constructor(e){this.type="recaptcha-enterprise",this.auth=Qh(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;hh(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{mh(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new fh(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&hh(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=$h.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Jh(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function tf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new ef(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function nf(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await tf(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await tf(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function rf(e,t,n){const r=Qh(e);Gd(r._canInitEmulator,r,"emulator-config-failed"),Gd(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=sf(t),{host:a,port:o}=function(e){const t=sf(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:af(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:af(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function sf(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function af(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class of{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Kd("not implemented")}_getIdTokenResponse(e){return Kd("not implemented")}_linkToIdToken(e,t){return Kd("not implemented")}_getReauthenticationResolver(e){return Kd("not implemented")}}async function lf(e,t){return sh(e,"POST","/v1/accounts:signUp",t)}async function cf(e,t){return oh(e,"POST","/v1/accounts:signInWithPassword",ih(e,t))}class uf extends of{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new uf(e,t,"password")}static _fromEmailAndCode(e,t){return new uf(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return nf(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",cf);case"emailLink":return async function(e,t){return oh(e,"POST","/v1/accounts:signInWithEmailLink",ih(e,t))}(e,{email:this._email,oobCode:this._password});default:zd(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return nf(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lf);case"emailLink":return async function(e,t){return oh(e,"POST","/v1/accounts:signInWithEmailLink",ih(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:zd(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function df(e,t){return oh(e,"POST","/v1/accounts:signInWithIdp",ih(e,t))}class hf extends of{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new hf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zd("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Ld(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new hf(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return df(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,df(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,df(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=it(t)}return e}}const ff={USER_NOT_FOUND:"user-not-found"};class mf extends of{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new mf({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new mf({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return oh(e,"POST","/v1/accounts:signInWithPhoneNumber",ih(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await oh(e,"POST","/v1/accounts:signInWithPhoneNumber",ih(e,t));if(n.temporaryProof)throw dh(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return oh(e,"POST","/v1/accounts:signInWithPhoneNumber",ih(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ff)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new mf({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class pf{constructor(e){var t,n,r,i,s,a;const o=st(at(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Gd(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=st(at(e)).link,n=t?st(at(t)).deep_link_id:null,r=st(at(e)).deep_link_id;return(r?st(at(r)).link:null)||r||n||t||e}(e);try{return new pf(t)}catch(n){return null}}}class gf{constructor(){this.providerId=gf.PROVIDER_ID}static credential(e,t){return uf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=pf.parseLink(t);return Gd(n,"argument-error"),uf._fromEmailAndCode(e,n.code,n.tenantId)}}gf.PROVIDER_ID="password",gf.EMAIL_PASSWORD_SIGN_IN_METHOD="password",gf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class vf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yf extends vf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class bf extends yf{constructor(){super("facebook.com")}static credential(e){return hf._fromParams({providerId:bf.PROVIDER_ID,signInMethod:bf.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bf.credentialFromTaggedObject(e)}static credentialFromError(e){return bf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return bf.credential(t.oauthAccessToken)}catch(n){return null}}}bf.FACEBOOK_SIGN_IN_METHOD="facebook.com",bf.PROVIDER_ID="facebook.com";class xf extends yf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return hf._fromParams({providerId:xf.PROVIDER_ID,signInMethod:xf.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xf.credentialFromTaggedObject(e)}static credentialFromError(e){return xf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return xf.credential(n,r)}catch(i){return null}}}xf.GOOGLE_SIGN_IN_METHOD="google.com",xf.PROVIDER_ID="google.com";class wf extends yf{constructor(){super("github.com")}static credential(e){return hf._fromParams({providerId:wf.PROVIDER_ID,signInMethod:wf.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wf.credentialFromTaggedObject(e)}static credentialFromError(e){return wf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return wf.credential(t.oauthAccessToken)}catch(n){return null}}}wf.GITHUB_SIGN_IN_METHOD="github.com",wf.PROVIDER_ID="github.com";class Sf extends yf{constructor(){super("twitter.com")}static credential(e,t){return hf._fromParams({providerId:Sf.PROVIDER_ID,signInMethod:Sf.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Sf.credentialFromTaggedObject(e)}static credentialFromError(e){return Sf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Sf.credential(n,r)}catch(i){return null}}}async function kf(e,t){return oh(e,"POST","/v1/accounts:signUp",ih(e,t))}Sf.TWITTER_SIGN_IN_METHOD="twitter.com",Sf.PROVIDER_ID="twitter.com";class Nf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await jh._fromIdTokenResponse(e,n,r),s=Ef(n);return new Nf({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ef(n);return new Nf({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ef(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Tf extends Ze{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Tf.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Tf(e,t,n,r)}}function jf(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Tf._fromErrorAndOperation(e,n,t,r);throw n}))}async function _f(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await xh(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Nf._forOperation(e,"link",r)}async function Cf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Sn(r.app))return Promise.reject(Wd(r));const i="reauthenticate";try{const s=await xh(e,jf(r,i,t,e),n);Gd(s.idToken,r,"internal-error");const a=yh(s.idToken);Gd(a,r,"internal-error");const{sub:o}=a;return Gd(e.uid===o,r,"user-mismatch"),Nf._forOperation(e,i,s)}catch(uN){throw(null===uN||void 0===uN?void 0:uN.code)==="auth/".concat("user-not-found")&&zd(r,"user-mismatch"),uN}}async function Af(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Sn(e.app))return Promise.reject(Wd(e));const r="signIn",i=await jf(e,r,t),s=await Nf._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function If(e,t){return Af(Qh(e),t)}async function Pf(e){const t=Qh(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const Df="__sak";class Rf{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Df,"1"),this.storage.removeItem(Df),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Lf extends Rf{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wh(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);qh()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Lf.type="LOCAL";const Of=Lf;class Mf extends Rf{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Mf.type="SESSION";const Ff=Mf;class Vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Vf(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Uf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Vf.receivers=[];class zf{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=Uf("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Bf(){return window}function qf(){return"undefined"!==typeof Bf().WorkerGlobalScope&&"function"===typeof Bf().importScripts}const Wf="firebaseLocalStorageDb",Hf="firebaseLocalStorage",Gf="fbase_key";class Kf{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Yf(e,t){return e.transaction([Hf],t?"readwrite":"readonly").objectStore(Hf)}function Qf(){const e=indexedDB.open(Wf,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Hf,{keyPath:Gf})}catch(uN){n(uN)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Hf)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Wf);return new Kf(e).toPromise()}(),t(await Qf()))}))}))}async function Xf(e,t,n){const r=Yf(e,!0).put({[Gf]:t,value:n});return new Kf(r).toPromise()}function $f(e,t){const n=Yf(e,!0).delete(t);return new Kf(n).toPromise()}class Jf{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Qf()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(uN){if(t++>3)throw uN;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qf()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vf._getInstance(qf()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new zf(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qf();return await Xf(e,Df,"1"),await $f(e,Df),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Xf(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Yf(e,!1).get(t),r=await new Kf(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>$f(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Yf(e,!1).getAll();return new Kf(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Jf.type="LOCAL";const Zf=Jf;Zh("rcb"),new Zd(3e4,6e4);const em="recaptcha";async function tm(e,t,n){var r;const i=await n.verify();try{let s;if(Gd("string"===typeof i,e,"argument-error"),Gd(n.type===em,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Gd("enroll"===t.type,e,"internal-error");const n=await function(e,t){return sh(e,"POST","/v2/accounts/mfaEnrollment:start",ih(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Gd("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Gd(n,e,"missing-multi-factor-info");const a=await function(e,t){return sh(e,"POST","/v2/accounts/mfaSignIn:start",ih(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return sh(e,"POST","/v1/accounts:sendVerificationCode",ih(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class nm{constructor(e){this.providerId=nm.PROVIDER_ID,this.auth=Qh(e)}verifyPhoneNumber(e,t){return tm(this.auth,e,ct(t))}static credential(e,t){return mf._fromVerification(e,t)}static credentialFromResult(e){const t=e;return nm.credentialFromTaggedObject(t)}static credentialFromError(e){return nm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?mf._fromTokenResponse(n,r):null}}function rm(e,t){return t?Ch(t):(Gd(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}nm.PROVIDER_ID="phone",nm.PHONE_SIGN_IN_METHOD="phone";class im extends of{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return df(e,this._buildIdpRequest())}_linkToIdToken(e,t){return df(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return df(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sm(e){return Af(e.auth,new im(e),e.bypassAuthState)}function am(e){const{auth:t,user:n}=e;return Gd(n,t,"internal-error"),Cf(n,new im(e),e.bypassAuthState)}async function om(e){const{auth:t,user:n}=e;return Gd(n,t,"internal-error"),_f(n,new im(e),e.bypassAuthState)}class lm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(uN){this.reject(uN)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(uN){this.reject(uN)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sm;case"linkViaPopup":case"linkViaRedirect":return om;case"reauthViaPopup":case"reauthViaRedirect":return am;default:zd(this.auth,"internal-error")}}resolve(e){Yd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cm=new Zd(2e3,1e4);class um extends lm{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,um.currentPopupAction&&um.currentPopupAction.cancel(),um.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Gd(e,this.auth,"internal-error"),e}async onExecution(){Yd(1===this.filter.length,"Popup operations only handle one event");const e=Uf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Bd(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Bd(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,um.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Bd(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,cm.get())};e()}}um.currentPopupAction=null;const dm=new Map;class hm extends lm{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=dm.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=pm(t),r=mm(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(uN){e=()=>Promise.reject(uN)}dm.set(this.auth._key(),e)}return this.bypassAuthState||dm.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function fm(e,t){dm.set(e._key(),t)}function mm(e){return Ch(e._redirectPersistence)}function pm(e){return Ph("pendingRedirect",e.config.apiKey,e.name)}async function gm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Sn(e.app))return Promise.reject(Wd(e));const r=Qh(e),i=rm(r,t),s=new hm(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class vm{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bm(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!bm(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Bd(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ym(e))}saveEventToCache(e){this.cachedEventUids.add(ym(e)),this.lastProcessedEventTime=Date.now()}}function ym(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function bm(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const xm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wm=/^https?/;async function Sm(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return sh(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(km(r))return}catch(n){}zd(e,"unauthorized-domain")}function km(e){const t=Qd(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!wm.test(n))return!1;if(xm.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Nm=new Zd(3e4,6e4);function Em(){const e=Bf().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Tm(e){return new Promise(((t,n)=>{var r,i,s;function a(){Em(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Em(),n(Bd(e,"network-request-failed"))},timeout:Nm.get()})}if(null===(i=null===(r=Bf().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Bf().gapi)||void 0===s?void 0:s.load)){const t=Zh("iframefcb");return Bf()[t]=()=>{gapi.load?a():n(Bd(e,"network-request-failed"))},Jh("".concat($h.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw jm=null,e}))}let jm=null;const _m=new Zd(5e3,15e3),Cm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Am=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Im(e){const t=e.config;Gd(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?eh(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:En},i=Am.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(it(r).slice(1))}async function Pm(e){const t=await function(e){return jm=jm||Tm(e),jm}(e),n=Bf().gapi;return Gd(n,e,"internal-error"),t.open({where:document.body,url:Im(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cm,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Bd(e,"network-request-failed"),s=Bf().setTimeout((()=>{r(i)}),_m.get());function a(){Bf().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const Dm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(uN){}}}function Lm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Dm),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Xe().toLowerCase();n&&(o=Mh(c)?"_blank":n),Lh(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Bh(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Rm(null);const d=window.open(t||"",o,u);Gd(d,e,"popup-blocked");try{d.focus()}catch(uN){}return new Rm(d)}const Om="__/auth/handler",Mm="emulator/auth/handler",Fm=encodeURIComponent("fac");async function Vm(e,t,n,r,i,s){Gd(e.config.authDomain,e,"auth-domain-config-required"),Gd(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:En,eventId:i};if(t instanceof vf){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof yf){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Fm,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Om);return eh(t,Mm)}(e),"?").concat(it(o).slice(1)).concat(c)}const Um="webStorageSupport";const zm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ff,this._completeRedirectFn=gm,this._overrideRedirectResult=fm}async _openPopup(e,t,n,r){var i;Yd(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Lm(e,await Vm(e,t,n,Qd(),r),Uf())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Bf().location.href=e}(await Vm(e,t,n,Qd(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Yd(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Pm(e),n=new vm(e);return t.register("authEvent",(t=>{Gd(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Um,{type:Um},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Um];void 0!==i&&t(!!i),zd(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Sm(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Wh()||Oh()||Bh()}};var Bm="@firebase/auth",qm="1.7.9";class Wm{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Gd(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Hm=Ye("authIdTokenMaxAge")||300;let Gm=null;var Km;$h={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Bd("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Km="Browser",xn(new ut("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Gd(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Km,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hh(Km)},c=new Yh(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ch);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),xn(new ut("auth-internal",(e=>(e=>new Wm(e))(Qh(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),_n(Bm,qm,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Km)),_n(Bm,qm,"esm2017");const Ym=Tn({apiKey:"AIzaSyDhCJENFE7G7y_zIK7hb_Y2ZZFp_nxGsrI",authDomain:"amcfossclub.firebaseapp.com",projectId:"amcfossclub",storageBucket:"amcfossclub.firebasestorage.app",messagingSenderId:"773142678351",appId:"1:773142678351:web:14f8adaccea7a51d10133a"}),Qm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn();const t=wn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=wn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(nt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;zd(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:zm,persistence:[Zf,Of,Ff]}),r=Ye("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Hm)return;const r=null===t||void 0===t?void 0:t.token;Gm!==r&&(Gm=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){ct(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){ct(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=Ge("auth");return s&&rf(n,"http://".concat(s)),n}(Ym),Xm=function(e,t){const n="string"==typeof e?e:t||"(default)",r=wn("object"==typeof e?e:jn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=Ge(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&gu(r,...e)}return r}(Ym);new xf;var $m=n(579);const Jm=(0,t.createContext)(null);function Zm(){return(0,t.useContext)(Jm)}function ep(e){let{children:n}=e;const[r,i]=(0,t.useState)(null),[s,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(!0);(0,t.useEffect)((()=>{const e=function(e,t,n,r){return ct(e).onAuthStateChanged(t,n,r)}(Qm,(async e=>{if(!e)return i(null),a(null),void l(!1);i(e);try{const n=wu(Xm,"users",e.uid),r=await kd(n);var t;if(r.exists())a((null===(t=r.data())||void 0===t?void 0:t.role)||null);else a(null)}catch(n){a(null)}finally{l(!1)}}));return()=>e()}),[]);const c=async(e,t)=>{const n=await async function(e,t,n){if(Sn(e.app))return Promise.reject(Wd(e));const r=Qh(e),i=nf(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kf),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Pf(e),t})),a=await Nf._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(Qm,e,t);return n.user},u=async(e,t)=>{const n=await function(e,t,n){return Sn(e.app)?Promise.reject(Wd(e)):If(ct(e),gf.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Pf(e),t}))}(Qm,e,t);return n.user},d=async()=>{await function(e){return ct(e).signOut()}(Qm)},h=async(e,t)=>{const n=wu(Xm,"users",e);await Td(n,{role:t},{merge:!0}),a(t)},f=(0,t.useMemo)((()=>({user:r,role:s,loading:o,registerWithEmail:c,loginWithEmail:u,logout:d,saveRole:h})),[r,s,o]);return(0,$m.jsx)(Jm.Provider,{value:f,children:n})}const tp=(0,t.memo)((e=>{let{countdown1:n}=e;const[r,i]=(0,t.useState)([]),[s,a]=(0,t.useState)(!0),o=(0,t.useMemo)((()=>xu(Xm,"events")),[]);return(0,t.useEffect)((()=>{let e=!0;return(async()=>{try{a(!0);const t=await Ed(o);if(!e)return;const n=t.docs.map((e=>{const t=Re({id:e.id},e.data()),n=Array.isArray(t.registrations)?t.registrations:[],r=n.length;(new Date).getTime();let i=null;if(t.date)if(t.time){const e="".concat(t.date,"T").concat(t.time);i=new Date(e).getTime()}else{const e=new Date(t.date);e.setHours(23,59,59,999),i=e.getTime()}const s=t.participantLimit&&r>=t.participantLimit;return Re(Re({},t),{},{registrations:n,participantCount:r,isFull:s,isEnded:!1})})).sort(((e,t)=>{const n=e.date?new Date(e.date).getTime():0,r=t.date?new Date(t.date).getTime():0,i=(new Date).getTime(),s=e.isEnded||n&&i>n;return s===(t.isEnded||r&&i>r)?s?r-n:n-r:s?1:-1})).slice(0,2);e&&(i(n),a(!1))}catch(t){console.error("Failed to load events",t),e&&(i([]),a(!1))}})(),()=>{e=!1}}),[]),s?(0,$m.jsx)("div",{className:"events-grid",children:[0,1].map((e=>(0,$m.jsxs)("div",{className:"event-card skeleton-card",children:[(0,$m.jsx)("div",{className:"skeleton-date"}),(0,$m.jsxs)("div",{className:"skeleton-details",children:[(0,$m.jsx)("div",{className:"skeleton-line short"}),(0,$m.jsx)("div",{className:"skeleton-line"}),(0,$m.jsx)("div",{className:"skeleton-line"})]})]},e)))}):0===r.length?(0,$m.jsxs)("div",{className:"events-grid events-grid-empty",children:[(0,$m.jsxs)("div",{className:"event-card empty-card","data-aos":"fade-up",children:[(0,$m.jsx)("div",{className:"empty-icon",children:(0,$m.jsx)("i",{className:"fas fa-rocket"})}),(0,$m.jsx)("h3",{children:"No events just yet"}),(0,$m.jsx)("p",{children:"Our crew is working on the next release. In the meantime, explore past highlights and get notified first."}),(0,$m.jsxs)(je,{to:"/events",className:"primary-btn",style:{width:"100%"},children:["Browse Events",(0,$m.jsx)("i",{className:"fas fa-arrow-right",style:{marginLeft:"0.5rem"}})]})]}),(0,$m.jsxs)("div",{className:"event-card empty-card secondary","data-aos":"fade-up","data-aos-delay":"100",children:[(0,$m.jsx)("div",{className:"empty-icon pulse",children:(0,$m.jsx)("i",{className:"fas fa-bell"})}),(0,$m.jsx)("h3",{children:"Want to host one?"}),(0,$m.jsx)("p",{children:"Ping an office bearer or drop us a message. We\u2019ll help you launch the next club experience."}),(0,$m.jsx)("a",{href:"#contact",className:"secondary-btn",style:{width:"100%",textAlign:"center"},children:"Contact Team"})]})]}):(0,$m.jsxs)("div",{className:"events-grid",children:[r.map(((e,t)=>{const n=e.date?new Date(e.date):null;let r=n?n.getDate():"TBA",i=n?n.toLocaleDateString("en-US",{month:"short"}).toUpperCase():"TBA";return e.title&&e.title.toLowerCase().includes("fourth wing")&&(r="18",i="FEB"),(0,$m.jsxs)("div",{className:"event-card","data-aos":"fade-up","data-aos-delay":100*t,children:[(0,$m.jsxs)("div",{className:"event-date",children:[(0,$m.jsx)("span",{className:"day",children:r}),(0,$m.jsx)("span",{className:"month",children:i})]}),(0,$m.jsxs)("div",{className:"event-details",children:[(0,$m.jsx)("h3",{children:e.title}),(0,$m.jsx)("p",{children:e.description||"Join us for an amazing event!"}),(0,$m.jsxs)("div",{className:"event-actions",children:[e.title&&e.title.toLowerCase().includes("fourth wing")&&(0,$m.jsx)($m.Fragment,{children:(0,$m.jsxs)(je,{to:"/round2",className:"primary-btn",style:{marginBottom:"10px",background:"linear-gradient(135deg, #ec4899, #8b5cf6)",borderColor:"#ec4899",width:"100%",textAlign:"center",display:"block"},children:["Go to Round 2.0",(0,$m.jsx)("i",{className:"fas fa-arrow-right",style:{marginLeft:"0.5rem"}})]})}),e.isEnded?(0,$m.jsxs)("button",{className:"primary-btn event-ended-btn",disabled:!0,children:[(0,$m.jsx)("i",{className:"fas fa-calendar-check",style:{marginRight:"0.5rem"}}),"Event Began"]}):e.isFull?(0,$m.jsx)("button",{className:"primary-btn event-full-btn",disabled:!0,children:"Event Full"}):(0,$m.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",width:"100%"},children:[(0,$m.jsxs)("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[(0,$m.jsxs)(je,{to:"/events/".concat(e.id),className:"primary-btn",children:["Register Now",(0,$m.jsx)("i",{className:"fas fa-arrow-right",style:{marginLeft:"0.5rem"}})]}),e.eventLink&&(0,$m.jsxs)("a",{href:e.eventLink,target:"_blank",rel:"noopener noreferrer",className:"primary-btn join-now-btn",children:["Join Now",(0,$m.jsx)("i",{className:"fas fa-external-link-alt",style:{marginLeft:"0.5rem"}})]})]}),e.hasPrelims&&(()=>{(new Date).getTime();const t=e.prelimsDeadline?new Date(e.prelimsDeadline).getTime():null;return(0,$m.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[t&&(0,$m.jsxs)("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.7)"},children:[(0,$m.jsx)("i",{className:"fas fa-clock",style:{marginRight:"0.25rem"}}),"Prelims Deadline: ",new Date(e.prelimsDeadline).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),(0,$m.jsxs)(je,{to:"/exam",className:"primary-btn",style:{background:"linear-gradient(135deg, #f59e0b, #d97706)",borderColor:"#f59e0b"},children:[(0,$m.jsx)("i",{className:"fas fa-pen-fancy",style:{marginRight:"0.5rem"}}),"Start Prelims"]})]})})()]}),e.participantLimit&&(0,$m.jsxs)("div",{className:"event-participants",children:[(0,$m.jsxs)("div",{className:"participant-badge",children:[(0,$m.jsx)("i",{className:"fas fa-users"}),(0,$m.jsxs)("span",{children:[e.participantCount||0,"/",e.participantLimit]})]}),e.isFull&&!e.isEnded&&(0,$m.jsx)("div",{className:"event-full-badge",children:"Full"}),e.isEnded&&(0,$m.jsx)("div",{className:"event-ended-badge",style:{backgroundColor:"#2d3748",color:"#a0aec0"},children:"Began"})]})]})]})]},e.id)})),(0,$m.jsx)("div",{className:"event-card view-all-card","data-aos":"fade-up","data-aos-delay":200,children:(0,$m.jsxs)("div",{className:"event-details",style:{textAlign:"center",justifyContent:"center"},children:[(0,$m.jsx)("div",{style:{marginBottom:"1rem"},children:(0,$m.jsx)("i",{className:"fas fa-calendar-alt",style:{fontSize:"3rem",color:"var(--accent-color)",marginBottom:"1rem",opacity:.8}})}),(0,$m.jsx)("h3",{style:{marginBottom:"1rem"},children:"View All Events"}),(0,$m.jsx)("p",{style:{marginBottom:"2rem"},children:"Discover more upcoming events and workshops"}),(0,$m.jsxs)(je,{to:"/events",className:"primary-btn",style:{marginTop:"auto"},children:["Explore Events",(0,$m.jsx)("i",{className:"fas fa-arrow-right",style:{marginLeft:"0.5rem"}})]})]})})]})})),np=()=>{const{user:e,role:n}=Zm(),[r,i]=(0,t.useState)(""),[s,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(0),[p,g]=(0,t.useState)((()=>"undefined"!==typeof window&&window.innerWidth<768)),[v,y]=(0,t.useState)(null),[b,x]=(0,t.useState)(null),[w,S]=(0,t.useState)(!1),[k,N]=(0,t.useState)(!1),E=(0,t.useRef)(null),T=(0,t.useRef)(null),j=(0,t.useMemo)((()=>xu(Xm,"contact_messages")),[]);(0,t.useEffect)((()=>{window.innerWidth<768?Oe().init({disable:function(){return!0},duration:0,once:!1}):Oe().init({duration:800,offset:100,once:!0})}),[]),(0,t.useEffect)((()=>{const e=()=>{E.current&&(window.scrollY>100?(E.current.style.background="rgba(26, 26, 46, 0.95)",E.current.style.boxShadow="0 2px 10px rgba(0, 0, 0, 0.1)"):(E.current.style.background="rgba(26, 26, 46, 0.7)",E.current.style.boxShadow="none"));const e=document.querySelector(".scroll-indicator");e&&(0===window.scrollY?e.classList.add("visible"):e.classList.remove("visible"))};return e(),window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]);ee();const _=(e,t)=>{e.preventDefault();const n=document.querySelector(t);n&&(n.scrollIntoView({behavior:"smooth"}),h(!1))};(0,t.useEffect)((()=>{const e="Where Innovation Meets Open Source";l("");let t,n=0;const r=()=>{n<34?(l(e.substring(0,n+1)),n++,t=setTimeout(r,50)):t=setTimeout((()=>{l(""),u((e=>!e))}),3e3)};return t=setTimeout((()=>{r()}),100),()=>{t&&clearTimeout(t)}}),[c]),(0,t.useEffect)((()=>{const e=setInterval((()=>{const e=(new Date).getTime(),t=[{id:"countdown1",date:new Date("2026-02-18T00:00:00").getTime()},{id:"countdown2",date:new Date("2026-02-18T00:00:00").getTime()}],n=t=>{const n=t-e;if(n<=0)return"Event Began";const r=Math.floor(n/864e5),i=Math.floor(n%864e5/36e5),s=Math.floor(n%36e5/6e4),a=Math.floor(n%6e4/1e3);return"".concat(r,"d ").concat(i,"h ").concat(s,"m ").concat(a,"s")};i(n(t[0].date)),a(n(t[1].date))}),1e3);return()=>clearInterval(e)}),[]),(0,t.useEffect)((()=>{(async()=>{try{const e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js",e.async=!0,e.onload=()=>{if(window.particlesJS){let e=document.getElementById("particles-js-full");e||(e=document.createElement("div"),e.id="particles-js-full",e.className="particles-full-background",document.body.insertBefore(e,document.body.firstChild)),window.particlesJS("particles-js-full",{particles:{number:{value:40},color:{value:"#ffffff"},shape:{type:"circle"},opacity:{value:.5,random:!1},size:{value:3,random:!0},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:6,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1}}})}},document.body.appendChild(e)}catch(e){console.warn("Failed to load particles.js:",e)}})()}),[]),(0,t.useEffect)((()=>{const e=()=>{g(window.innerWidth<768)},t=()=>{window.innerWidth<768&&(document.documentElement.style.overflowX="hidden",document.body.style.overflowX="hidden",document.documentElement.style.maxWidth="100vw",document.body.style.maxWidth="100vw")};return e(),t(),window.addEventListener("resize",(()=>{e(),t()})),setTimeout(t,100),setTimeout(t,3e3),()=>{window.removeEventListener("resize",e)}}),[]);(0,t.useEffect)((()=>{document.querySelectorAll(".about-card").forEach((e=>{Fe().init(e,{max:25,speed:400,glare:!0,"max-glare":.5})}))}),[]);const C=(0,t.useCallback)((e=>"".concat("https://raw.githubusercontent.com/karthikeyanrao/AMCFOSS/main/images","/").concat(e)),[]),A=C("amc-foss-logo.png"),I=[{name:"Karthikeyan",role:"President",roleIcon:"fas fa-crown",photo:C("Photo.jpg"),social:{instagram:"heyy._karthi",github:"karthikeyanrao",linkedin:"karthikeyanrao-suresh"}},{name:"Maangalya",role:"Vice President",roleIcon:"fas fa-crown",photo:C("Maangalya.jpg"),social:{instagram:"maangalya_senthilkumar",github:"Maangalya K S",linkedin:"Maangalya-senthilkumar"}},{name:"Padmaja",role:"Secretary",roleIcon:"fas fa-crown",photo:C("Padmaja.jpg"),social:{instagram:"_padmaja_04",github:"PadmajaNagarajan",linkedin:"padmaja-nagarajan-07b40a28a"}},{name:"Chandana",role:"Joint-Secretary",roleIcon:"fas fa-crown",photo:C("Chandana.png"),social:{instagram:"chand.naaaa",github:"chandanakoduru",linkedin:"Koduru Chandana"}},{name:"Ajay",role:"PR",roleIcon:"fas fa-star",photo:C("Ajay.JPG"),social:{instagram:"dude_itz.ajay",github:"Ajay-Ravikumarrajan",linkedin:"ajay-ravikumarrajan-22028620b"}},{name:"Nihan Anoop",role:"Ofice-Bearer",roleIcon:"fas fa-star",photo:C("Nihan.png"),social:{instagram:"nihxn_ad05",github:"nihan-98716",linkedin:"m-nihan-anoop"}},{name:"Ruhan",role:"Office-Bearer",roleIcon:"fas fa-star",photo:C("Ruhan.jpg"),social:{instagram:"ruhan_thangamani_22",github:"sarahw",linkedin:"Ruhan Thangamani"}},{name:"SriVishnu",role:"Club coordinator",roleIcon:"fas fa-code",photo:C("Srivishnu.jpg"),social:{instagram:"srivishnu2805",github:"srivishnu2805",linkedin:"srivishnu-t"}},{name:"Bhoomish",role:"Technical Lead",roleIcon:"fas fa-code",photo:C("Bhoomish.jpg"),social:{instagram:"sarah_designs",github:"sarahw",linkedin:"sarah-wilson"}},{name:"Sakthi Sri Kumaran",role:"Technical Lead",roleIcon:"fas fa-code",photo:C("Sakthi.jpg"),social:{instagram:"sakthi0616",github:"Sakthi0616",linkedin:"sakthisrikumaran"}}];(0,t.useEffect)((()=>{if(w)return void(T.current&&(clearInterval(T.current),T.current=null));const e=setInterval((()=>{m((e=>(e+1)%I.length))}),3e3);return T.current=e,()=>clearInterval(e)}),[w,I.length]);return(0,$m.jsxs)("div",{children:[(0,$m.jsx)("nav",{id:"navbar",className:"navbar ".concat(d?"active":""),ref:E,children:(0,$m.jsxs)("div",{className:"nav-content",children:[(0,$m.jsxs)("div",{className:"logo",children:[(0,$m.jsx)("img",{src:A,alt:"FOSS",className:"nav-logo"}),(0,$m.jsx)("span",{children:"FOSS Club"})]}),(0,$m.jsxs)("div",{id:"navToggle",className:"nav-toggle ".concat(d?"active":""),onClick:()=>{h((e=>!e))},"aria-expanded":d,"aria-controls":"nav-links",children:[(0,$m.jsx)("span",{}),(0,$m.jsx)("span",{}),(0,$m.jsx)("span",{})]}),(0,$m.jsxs)("ul",{className:"nav-links ".concat(d?"active":""),children:[(0,$m.jsx)("li",{children:(0,$m.jsx)("a",{href:"#home",onClick:e=>_(e,"#home"),className:"active",children:"Home"})}),(0,$m.jsx)("li",{children:(0,$m.jsx)("a",{href:"#about",onClick:e=>_(e,"#about"),children:"About"})}),(0,$m.jsx)("li",{children:(0,$m.jsx)("a",{href:"#events",onClick:e=>_(e,"#events"),children:"Events"})}),(0,$m.jsx)("li",{children:(0,$m.jsx)("a",{href:"#projects",onClick:e=>_(e,"#projects"),children:"Projects"})}),(0,$m.jsx)("li",{children:(0,$m.jsx)("a",{href:"#team",onClick:e=>_(e,"#team"),children:"Team"})}),(0,$m.jsx)("li",{children:(0,$m.jsx)("a",{href:"#contact",onClick:e=>_(e,"#contact"),children:"Contact"})}),(0,$m.jsx)("li",{className:"auth-links",children:e?(0,$m.jsx)(je,{to:"office_bearer"===n?"/office":"mentor"===n?"/mentor":"/",className:"auth-link",children:"Go to Dashboard"}):(0,$m.jsx)(je,{to:"/login",className:"auth-link",children:"Login"})})]})]})}),(0,$m.jsxs)("section",{id:"home",className:"section hero",children:[(0,$m.jsxs)("div",{className:"hero-content","data-aos":"fade-up",children:[(0,$m.jsx)("div",{className:"hero-badge","data-aos":"fade-down","data-aos-delay":"100",children:(0,$m.jsx)("span",{children:" Welcome to AMC FOSS Club"})}),(0,$m.jsxs)("h1",{className:"glitch hero-title","data-text":"#BuildWithFOSS",children:[(0,$m.jsx)("span",{className:"glitch-text",children:"#BuildWithFOSS"}),(0,$m.jsx)("span",{className:"glitch-layer glitch-layer-1",children:"#BuildWithFOSS"}),(0,$m.jsx)("span",{className:"glitch-layer glitch-layer-2",children:"#BuildWithFOSS"})]}),(0,$m.jsx)("h2",{className:"hero-subtitle ".concat(o?"typewriter":"typewriter-empty"),children:o}),(0,$m.jsxs)("p",{className:"hero-description",children:["Join a vibrant community of developers, designers, and innovators building the future of technology through",(0,$m.jsx)("span",{className:"highlight-text",children:" open-source collaboration"})," and ",(0,$m.jsx)("span",{className:"highlight-text",children:"cutting-edge innovation"}),"."]}),(0,$m.jsxs)("div",{className:"hero-stats","data-aos":"fade-up","data-aos-delay":"300",children:[(0,$m.jsxs)("div",{className:"hero-stat",children:[(0,$m.jsx)("span",{className:"stat-number",children:"150+"}),(0,$m.jsx)("span",{className:"stat-label",children:"Contributors"})]}),(0,$m.jsxs)("div",{className:"hero-stat",children:[(0,$m.jsx)("span",{className:"stat-number",children:"40+"}),(0,$m.jsx)("span",{className:"stat-label",children:"Projects"})]}),(0,$m.jsxs)("div",{className:"hero-stat",children:[(0,$m.jsx)("span",{className:"stat-number",children:"25+"}),(0,$m.jsx)("span",{className:"stat-label",children:"Workshops"})]})]}),(0,$m.jsxs)("div",{className:"hero-buttons","data-aos":"fade-up","data-aos-delay":"400",children:[(0,$m.jsxs)("a",{href:"#events",onClick:e=>_(e,"#events"),className:"btn primary-btn",children:[(0,$m.jsx)("span",{children:"Explore Events"}),(0,$m.jsx)("i",{className:"fas fa-arrow-right"})]}),(0,$m.jsxs)("a",{href:"#about",onClick:e=>_(e,"#about"),className:"btn secondary-btn",children:[(0,$m.jsx)("span",{children:"Learn More"}),(0,$m.jsx)("i",{className:"fas fa-info-circle"})]}),(0,$m.jsxs)("button",{onClick:()=>N(!0),className:"btn primary-btn",children:[(0,$m.jsx)("span",{children:"Join Us"}),(0,$m.jsx)("i",{className:"fas fa-user-plus"})]})]})]}),(0,$m.jsx)("div",{className:"hero-overlay"}),(0,$m.jsxs)("div",{className:"scroll-indicator",children:[(0,$m.jsx)("span",{className:"mouse",children:(0,$m.jsx)("span",{className:"wheel"})}),(0,$m.jsx)("p",{children:"Scroll Down"})]})]}),(0,$m.jsx)("section",{id:"about",className:"section about",children:(0,$m.jsxs)("div",{className:"section-content",children:[(0,$m.jsx)("h2",{className:"section-title","data-aos":"fade-up",children:"About Our Club"}),(0,$m.jsx)("p",{className:"about-subtitle","data-aos":"fade-up","data-aos-delay":"100",children:"A creative playground where developers, designers, and open source storytellers craft experiences together."}),(0,$m.jsxs)("div",{className:"about-grid",children:[(0,$m.jsxs)("div",{className:"about-card","data-aos":"fade-right",children:[(0,$m.jsx)("i",{className:"fas fa-code"}),(0,$m.jsx)("h3",{children:"Open Source Development"}),(0,$m.jsx)("p",{children:"Learn and contribute to real-world open source projects"})]}),(0,$m.jsxs)("div",{className:"about-card","data-aos":"fade-up",children:[(0,$m.jsx)("i",{className:"fas fa-users"}),(0,$m.jsx)("h3",{children:"Community"}),(0,$m.jsx)("p",{children:"Join a vibrant community of developers and enthusiasts"})]}),(0,$m.jsxs)("div",{className:"about-card","data-aos":"fade-left",children:[(0,$m.jsx)("i",{className:"fas fa-laptop-code"}),(0,$m.jsx)("h3",{children:"Workshops"}),(0,$m.jsx)("p",{children:"Regular workshops on latest technologies and tools"})]})]}),(0,$m.jsxs)("div",{className:"about-highlight-grid","data-aos":"fade-up","data-aos-delay":"150",children:[(0,$m.jsxs)("div",{className:"about-highlight-tile",children:[(0,$m.jsx)("span",{className:"highlight-value",children:"150+"}),(0,$m.jsx)("span",{className:"highlight-label",children:"Active Contributors"})]}),(0,$m.jsxs)("div",{className:"about-highlight-tile",children:[(0,$m.jsx)("span",{className:"highlight-value",children:"40+"}),(0,$m.jsx)("span",{className:"highlight-label",children:"Open Source Projects"})]}),(0,$m.jsxs)("div",{className:"about-highlight-tile",children:[(0,$m.jsx)("span",{className:"highlight-value",children:"25"}),(0,$m.jsx)("span",{className:"highlight-label",children:"Mentor-Led Workshops"})]}),(0,$m.jsxs)("div",{className:"about-highlight-tile",children:[(0,$m.jsx)("span",{className:"highlight-value",children:"\u221e"}),(0,$m.jsx)("span",{className:"highlight-label",children:"Ideas & Collaborations"})]})]})]})}),(0,$m.jsx)("section",{id:"events",className:"section events",children:(0,$m.jsxs)("div",{className:"section-content",children:[(0,$m.jsx)("h2",{className:"section-title","data-aos":"fade-up",children:"Upcoming Events"}),(0,$m.jsx)(tp,{countdown1:r})]})}),(0,$m.jsx)("section",{id:"projects",className:"section projects",children:(0,$m.jsxs)("div",{className:"section-content",children:[(0,$m.jsx)("h2",{className:"section-title","data-aos":"fade-up",children:"Our Projects"}),(0,$m.jsx)("div",{className:"projects-grid",children:(0,$m.jsxs)("div",{className:"project-card featured","data-aos":"fade-up",children:[(0,$m.jsx)("img",{src:"https://mars-images.imgix.net/seobot/osssoftware.org/65a1c64780fd6a912cffdb41-28202c73b8cd98f80c118a2059313b9b.png?auto=compress",alt:"Featured Project",loading:"lazy"}),(0,$m.jsxs)("div",{className:"project-info",children:[(0,$m.jsx)("h3",{children:"Featured: Open Source Collaboration Platform"}),(0,$m.jsx)("p",{children:"A cutting-edge platform designed to streamline open source contributions and foster community collaboration."}),(0,$m.jsxs)("div",{className:"project-tech",children:[(0,$m.jsx)("span",{children:"React"}),(0,$m.jsx)("span",{children:"Node.js"}),(0,$m.jsx)("span",{children:"GraphQL"})]}),(0,$m.jsxs)("div",{className:"project-links",children:[(0,$m.jsx)("a",{href:"#",className:"github-link",children:"View on GitHub"}),(0,$m.jsx)("a",{href:"#",className:"demo-link",children:"Live Demo"})]})]})]})})]})}),(0,$m.jsx)("div",{className:"scroll-progress",style:{transform:"scaleX(".concat(window.scrollY/(document.documentElement.scrollHeight-window.innerHeight),")")}}),(0,$m.jsx)("section",{id:"team",className:"section team",children:(0,$m.jsxs)("div",{className:"section-content",children:[(0,$m.jsx)("h2",{className:"section-title","data-aos":"fade-up",children:"Meet Our Team"}),(0,$m.jsx)("p",{className:"section-subtitle","data-aos":"fade-up",style:{textAlign:"center",marginTop:"-2rem"},children:"The amazing people behind FOSS Club"}),(0,$m.jsxs)("div",{className:"team-slider-container",children:[(0,$m.jsx)("div",{className:"team-slider",onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),onTouchStart:e=>{y(e.touches[0].clientX)},onTouchEnd:e=>{if(!v)return;const t=e.changedTouches[0].clientX,n=v-t;n>50?m((e=>(e+1)%I.length)):n<-50&&m((e=>(e-1+I.length)%I.length)),y(null)},children:I.map(((e,t)=>{const n=I.length;let r=t-f;r>n/2?r-=n:r<-n/2&&(r+=n);let i="";0===r?i="active":-1===r?i="prev":1===r?i="next":Math.abs(r)<=2&&(i="nearby");const s=0===r,a=!p||s,o=Math.abs(r),l=0===o?1:1===o?.85:Math.max(.5,1-.12*o),c=p?s?1:0:0===o?1:1===o?.7:Math.max(.2,.6-.1*o),u=0===o?0:1===o?2:Math.min(6,1.5*o),d=120*r;return a?(0,$m.jsxs)("div",{className:"team-card ".concat(i," ").concat(s?"current-active":""),style:{transform:p?"translate(-50%, -50%) scale(1)":"translate(calc(-50% + ".concat(d,"%), -50%) scale(").concat(l,")"),opacity:c,pointerEvents:p?s?"auto":"none":o<=1?"auto":"none",zIndex:p?s?10:0:n-o,filter:p?s?"blur(0)":"blur(4px)":"blur(".concat(u,"px)"),transition:"all 0.6s cubic-bezier(0.4, 0, 0.2, 1)",display:a?"block":"none"},children:[(0,$m.jsxs)("div",{className:"member-image-wrapper",children:[(0,$m.jsx)("img",{src:e.photo,alt:e.name,className:"shine-effect"}),(0,$m.jsx)("div",{className:"member-overlay",children:(0,$m.jsxs)("div",{className:"social-links",children:[(0,$m.jsx)("a",{href:"https://github.com/".concat(e.social.github),target:"_blank",rel:"noopener noreferrer",className:"magnetic",children:(0,$m.jsx)("i",{className:"fab fa-github"})}),(0,$m.jsx)("a",{href:"https://linkedin.com/in/".concat(e.social.linkedin),target:"_blank",rel:"noopener noreferrer",className:"magnetic",children:(0,$m.jsx)("i",{className:"fab fa-linkedin"})}),(0,$m.jsx)("a",{href:"https://instagram.com/".concat(e.social.instagram),target:"_blank",rel:"noopener noreferrer",className:"magnetic",children:(0,$m.jsx)("i",{className:"fab fa-instagram"})})]})})]}),(0,$m.jsxs)("div",{className:"member-info",children:[(0,$m.jsxs)("div",{className:"member-role-badge",children:[(0,$m.jsx)("i",{className:e.roleIcon}),(0,$m.jsx)("span",{children:e.role})]}),(0,$m.jsx)("h3",{className:"interactive-text","data-text":e.name,children:e.name})]})]},t):null}))}),(0,$m.jsxs)("div",{className:"slider-controls",children:[(0,$m.jsx)("button",{className:"slider-arrow prev magnetic",onClick:()=>{m((e=>(e-1+I.length)%I.length))},children:(0,$m.jsx)("i",{className:"fas fa-chevron-left"})}),(0,$m.jsx)("div",{className:"slider-dots",children:I.map(((e,t)=>(0,$m.jsx)("span",{className:"slider-dot ".concat(f===t?"active":""),onClick:()=>m(t)},t)))}),(0,$m.jsx)("button",{className:"slider-arrow next magnetic",onClick:()=>{m((e=>(e+1)%I.length))},children:(0,$m.jsx)("i",{className:"fas fa-chevron-right"})})]})]})]})}),(0,$m.jsx)("section",{id:"contact",className:"section contact",children:(0,$m.jsxs)("div",{className:"section-content",children:[(0,$m.jsx)("h2",{className:"section-title","data-aos":"fade-up",children:"Get In Touch"}),(0,$m.jsx)("div",{className:"contact-container",children:(0,$m.jsxs)("div",{className:"contact-slider",children:[(0,$m.jsxs)("div",{className:"contact-info","data-aos":"fade-right",children:[(0,$m.jsx)("div",{className:"contact-profile",children:(0,$m.jsx)("img",{src:A,alt:"FOSS Club"})}),(0,$m.jsx)("h3",{className:"contact-title",children:"FOSS Club"}),(0,$m.jsx)("p",{className:"contact-subtitle",children:"Join our community of open source enthusiasts"}),(0,$m.jsxs)("div",{className:"info-item",children:[(0,$m.jsx)("i",{className:"fas fa-envelope"}),(0,$m.jsx)("p",{children:"amcfoss@ch.amrita.com"})]}),(0,$m.jsxs)("div",{className:"info-item",children:[(0,$m.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,$m.jsx)("p",{children:"Amrita Vishwa Vidyapeetham, Chennai Campus"})]}),(0,$m.jsxs)("div",{className:"social-links",children:[(0,$m.jsx)("a",{href:"https://discord.gg/4vsg5Fpw",children:(0,$m.jsx)("i",{className:"fab fa-discord"})}),(0,$m.jsx)("a",{href:"https://instagram.com/amcfoss",children:(0,$m.jsx)("i",{className:"fab fa-instagram"})}),(0,$m.jsx)("a",{href:"https://linkedin.com/company/amcfoss",children:(0,$m.jsx)("i",{className:"fab fa-linkedin"})}),(0,$m.jsx)("a",{href:"https://chat.whatsapp.com/JNjiwWwXNI77EUznWUwtUX",children:(0,$m.jsx)("i",{className:"fab fa-whatsapp"})})]})]}),(0,$m.jsxs)("form",{className:"contact-form",onSubmit:async e=>{e.preventDefault();const t=new FormData(e.target),n=t.get("name"),r=t.get("email"),i=t.get("message")||t.get("Message");if(!n||!r||!i)return x("error"),void setTimeout((()=>x(null)),4e3);const s={name:n.trim(),email:r.trim(),message:i.trim(),createdAt:Rd(),source:"landing_contact"};try{x("saving"),await _d(j,s),x("success"),e.target.reset()}catch(a){console.error("Failed to save contact message",a),x("error")}finally{setTimeout((()=>x(null)),5e3)}},"data-aos":"fade-left",children:[(0,$m.jsx)("input",{type:"text",name:"name",placeholder:"Your Name",required:!0}),(0,$m.jsx)("input",{type:"email",name:"email",placeholder:"Your Email",required:!0}),(0,$m.jsx)("textarea",{name:"message",placeholder:"Your Message",required:!0}),(0,$m.jsx)("button",{type:"submit",className:"primary-btn",children:"saving"===b?"Sending...":"Send Message"}),"success"===b?(0,$m.jsx)("p",{className:"contact-status success",children:"Message Sent successfully. We will reach out soon!"}):null,"error"===b?(0,$m.jsx)("p",{className:"contact-status error",children:"Unable to send right now. Please try again."}):null]})]})})]})}),k&&(0,$m.jsx)("div",{className:"join-modal-overlay",onClick:()=>N(!1),children:(0,$m.jsxs)("div",{className:"join-modal",onClick:e=>e.stopPropagation(),children:[(0,$m.jsx)("button",{className:"join-modal-close",onClick:()=>N(!1),children:(0,$m.jsx)("i",{className:"fas fa-times"})}),(0,$m.jsx)("h3",{children:"Join Our Community"}),(0,$m.jsx)("p",{children:"Connect with us on our social platforms"}),(0,$m.jsxs)("div",{className:"join-social-links",children:[(0,$m.jsxs)("a",{href:"https://discord.gg/4vsg5Fpw",target:"_blank",rel:"noopener noreferrer",className:"join-social-link",children:[(0,$m.jsx)("i",{className:"fab fa-discord"}),(0,$m.jsx)("span",{children:"Discord"})]}),(0,$m.jsxs)("a",{href:"https://instagram.com/amcfoss",target:"_blank",rel:"noopener noreferrer",className:"join-social-link",children:[(0,$m.jsx)("i",{className:"fab fa-instagram"}),(0,$m.jsx)("span",{children:"Instagram"})]}),(0,$m.jsxs)("a",{href:"https://linkedin.com/company/amcfoss",target:"_blank",rel:"noopener noreferrer",className:"join-social-link",children:[(0,$m.jsx)("i",{className:"fab fa-linkedin"}),(0,$m.jsx)("span",{children:"LinkedIn"})]}),(0,$m.jsxs)("a",{href:"https://chat.whatsapp.com/JNjiwWwXNI77EUznWUwtUX",target:"_blank",rel:"noopener noreferrer",className:"join-social-link",children:[(0,$m.jsx)("i",{className:"fab fa-whatsapp"}),(0,$m.jsx)("span",{children:"WhatsApp"})]})]})]})}),(0,$m.jsxs)("footer",{className:"footer",children:[(0,$m.jsxs)("div",{className:"footer-content",children:[(0,$m.jsxs)("div",{className:"footer-section",children:[(0,$m.jsx)("h3",{children:"FOSS Club"}),(0,$m.jsx)("p",{children:"Building the future with open source"})]}),(0,$m.jsxs)("div",{className:"footer-section",children:[(0,$m.jsx)("h3",{children:"Quick Links"}),(0,$m.jsxs)("ul",{children:[(0,$m.jsx)("li",{children:(0,$m.jsx)("a",{href:"#home",children:"Home"})}),(0,$m.jsx)("li",{children:(0,$m.jsx)("a",{href:"#about",children:"About"})}),(0,$m.jsx)("li",{children:(0,$m.jsx)("a",{href:"#events",children:"Events"})}),(0,$m.jsx)("li",{children:(0,$m.jsx)("a",{href:"#projects",children:"Projects"})})]})]})]}),(0,$m.jsx)("div",{className:"footer-bottom",children:(0,$m.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," FOSS Club. All rights reserved."]})})]})]})};function rp(e,t){-1===e.indexOf(t)&&e.push(t)}function ip(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const sp=e=>e;let ap=sp,op=sp;const lp=!1,cp=!1;function up(e){let t;return()=>(void 0===t&&(t=e()),t)}const dp=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};class hp{constructor(){this.subscriptions=[]}add(e){return rp(this.subscriptions,e),()=>ip(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fp=e=>1e3*e,mp=e=>e/1e3;function pp(e,t){return t?e*(1e3/t):0}new Set;function gp(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function vp(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function yp(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bp(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function xp(e,t,n,r){if("function"===typeof t){const[i,s]=bp(r);t=t(void 0!==n?n:e.custom,i,s)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,s]=bp(r);t=t(void 0!==n?n:e.custom,i,s)}return t}function wp(e,t,n){const r=e.getProps();return xp(r,t,void 0!==n?n:r.custom,e)}const Sp=up((()=>void 0!==window.ScrollTimeline));class kp{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map((e=>"finished"in e?e.finished:e)))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>Sp()&&n.attachTimeline?n.attachTimeline(e):"function"===typeof t?t(n):void 0));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Np extends kp{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Ep(e,t){return e?e[t]||e.default||e:void 0}const Tp=2e4;function jp(e){let t=0;let n=e.next(t);for(;!n.done&&t<Tp;)t+=50,n=e.next(t);return t>=Tp?1/0:t}function _p(e){return"function"===typeof e}function Cp(e,t){e.timeline=t,e.onfinish=null}const Ap=e=>Array.isArray(e)&&"number"===typeof e[0],Ip={linearEasing:void 0};function Pp(e,t){const n=up(e);return()=>{var e;return null!==(e=Ip[t])&&void 0!==e?e:n()}}const Dp=Pp((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(uN){return!1}return!0}),"linearEasing"),Rp=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(dp(0,i-1,s))+", ";return"linear(".concat(r.substring(0,r.length-2),")")};function Lp(e){return Boolean("function"===typeof e&&Dp()||!e||"string"===typeof e&&(e in Mp||Dp())||Ap(e)||Array.isArray(e)&&e.every(Lp))}const Op=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},Mp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Op([0,.65,.55,1]),circOut:Op([.55,0,1,.45]),backIn:Op([.31,.01,.66,-.59]),backOut:Op([.33,1.53,.69,.99])};function Fp(e,t){return e?"function"===typeof e&&Dp()?Rp(e,t):Ap(e)?Op(e):Array.isArray(e)?e.map((e=>Fp(e,t)||Mp.easeOut)):Mp[e]:void 0}const Vp=["read","resolveKeyframes","update","preRender","render","postRender"],Up={value:null,addProjectionMetrics:null};function zp(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Vp.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){a.has(t)&&(u.schedule(t),e()),l++,t(o)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),a.delete(e)},process:e=>{o=e,i?s=!0:(i=!0,[n,r]=[r,n],n.forEach(c),t&&Up.value&&Up.value.frameloop[t].push(l),l=0,n.clear(),i=!1,s&&(s=!1,u.process(e)))}};return u}(s,t?n:void 0),e)),{}),{read:o,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=a,f=()=>{const s=cp?i.timestamp:performance.now();n=!1,cp||(i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1)),i.timestamp=s,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(f))},m=Vp.reduce(((t,s)=>{const o=a[s];return t[s]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(f)),o.schedule(t,s,a)},t}),{});return{schedule:m,cancel:e=>{for(let t=0;t<Vp.length;t++)a[Vp[t]].cancel(e)},state:i,steps:a}}const{schedule:Bp,cancel:qp,state:Wp,steps:Hp}=zp("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:sp,!0),{schedule:Gp,cancel:Kp}=zp(queueMicrotask,!1);let Yp;function Qp(){Yp=void 0}const Xp={now:()=>(void 0===Yp&&Xp.set(Wp.isProcessing||cp?Wp.timestamp:performance.now()),Yp),set:e=>{Yp=e,queueMicrotask(Qp)}},$p={x:!1,y:!1};function Jp(){return $p.x||$p.y}function Zp(e,t){const n=function(e,t,n){var r;if(e instanceof EventTarget)return[e];if("string"===typeof e){let i=document;t&&(i=t.current);const s=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}(e),r=new AbortController;return[n,Re(Re({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function eg(e){return!("touch"===e.pointerType||Jp())}function tg(e,t){const n="".concat(t,"PointerCapture");if(e.target instanceof Element&&n in e.target&&void 0!==e.pointerId)try{e.target[n](e.pointerId)}catch(uN){}}const ng=(e,t)=>!!t&&(e===t||ng(e,t.parentElement)),rg=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary,ig=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const sg=new WeakSet;function ag(e){return t=>{"Enter"===t.key&&e(t)}}function og(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function lg(e){return rg(e)&&!Jp()}function cg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=Zp(e,n),a=e=>{const n=e.currentTarget;if(!n||!lg(e)||sg.has(n))return;sg.add(n),tg(e,"set");const r=t(n,e),s=(e,t)=>{n.removeEventListener("pointerup",a),n.removeEventListener("pointercancel",o),tg(e,"release"),lg(e)&&sg.has(n)&&(sg.delete(n),"function"===typeof r&&r(e,{success:t}))},a=e=>{const t=!!e.isTrusted&&(r=e,i=n instanceof Element?n.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight},r.clientX<i.left||r.clientX>i.right||r.clientY<i.top||r.clientY>i.bottom);var r,i;s(e,!t&&(!(n instanceof Element)||ng(n,e.target)))},o=e=>{s(e,!1)};n.addEventListener("pointerup",a,i),n.addEventListener("pointercancel",o,i),n.addEventListener("lostpointercapture",o,i)};return r.forEach((e=>{let t=!1;var r;(e=n.useGlobalTarget?window:e)instanceof HTMLElement&&(t=!0,r=e,ig.has(r.tagName)||-1!==r.tabIndex||null!==e.getAttribute("tabindex")||(e.tabIndex=0)),e.addEventListener("pointerdown",a,i),t&&e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=ag((()=>{if(sg.has(n))return;og(n,"down");const e=ag((()=>{og(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>og(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,i)),i)})),s}const ug={layout:0,mainThread:0,waapi:0};const dg={current:void 0};class hg{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=Xp.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Xp.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new hp);const n=this.events[e].add(t);return"change"===e?()=>{n(),Bp.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return dg.current&&dg.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Xp.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return pp(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fg(e,t){return new hg(e,t)}const mg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pg=new Set(mg),gg=new Set(["width","height","top","left","right","bottom",...mg]),vg=e=>Array.isArray(e),yg=e=>vg(e)?e[e.length-1]||0:e,bg=["transitionEnd","transition"];function xg(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,fg(n))}const wg=e=>Boolean(e&&e.getVelocity);function Sg(e,t){const n=e.getValue("willChange");if(r=n,Boolean(wg(r)&&r.add))return n.add(t);var r}const kg=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Ng="data-"+kg("framerAppearId");function Eg(e){return e.props[Ng]}const Tg=!1,jg=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function _g(e,t,n,r){if(e===t&&n===r)return sp;const i=t=>function(e,t,n,r,i){let s,a,o=0;do{a=t+(n-t)/2,s=jg(a,r,i)-e,s>0?n=a:t=a}while(Math.abs(s)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:jg(i(e),t,r)}const Cg=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ag=e=>t=>1-e(1-t),Ig=_g(.33,1.53,.69,.99),Pg=Ag(Ig),Dg=Cg(Pg),Rg=e=>(e*=2)<1?.5*Pg(e):.5*(2-Math.pow(2,-10*(e-1))),Lg=e=>1-Math.sin(Math.acos(e)),Og=Ag(Lg),Mg=Cg(Lg),Fg=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);const Vg=(e,t,n)=>n>t?t:n<e?e:n,Ug={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},zg=Re(Re({},Ug),{},{transform:e=>Vg(0,1,e)}),Bg=Re(Re({},Ug),{},{default:1}),qg=e=>Math.round(1e5*e)/1e5,Wg=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const Hg=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,Gg=(e,t)=>n=>Boolean("string"===typeof n&&Hg.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Kg=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[i,s,a,o]=r.match(Wg);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},Yg=Re(Re({},Ug),{},{transform:e=>Math.round((e=>Vg(0,255,e))(e))}),Qg={test:Gg("rgb","red"),parse:Kg("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Yg.transform(t)+", "+Yg.transform(n)+", "+Yg.transform(r)+", "+qg(zg.transform(i))+")"}};const Xg={test:Gg("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Qg.transform},$g=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),Jg=$g("deg"),Zg=$g("%"),ev=$g("px"),tv=$g("vh"),nv=$g("vw"),rv=Re(Re({},Zg),{},{parse:e=>Zg.parse(e)/100,transform:e=>Zg.transform(100*e)}),iv={test:Gg("hsl","hue"),parse:Kg("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+Zg.transform(qg(n))+", "+Zg.transform(qg(r))+", "+qg(zg.transform(i))+")"}},sv={test:e=>Qg.test(e)||Xg.test(e)||iv.test(e),parse:e=>Qg.test(e)?Qg.parse(e):iv.test(e)?iv.parse(e):Xg.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?Qg.transform(e):iv.transform(e)},av=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const ov="number",lv="color",cv=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function uv(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(cv,(e=>(sv.test(e)?(r.color.push(s),i.push(lv),n.push(sv.parse(e))):e.startsWith("var(")?(r.var.push(s),i.push("var"),n.push(e)):(r.number.push(s),i.push(ov),n.push(parseFloat(e))),++s,"${}"))).split("${}");return{values:n,split:a,indexes:r,types:i}}function dv(e){return uv(e).values}function hv(e){const{split:t,types:n}=uv(e),r=t.length;return e=>{let i="";for(let s=0;s<r;s++)if(i+=t[s],void 0!==e[s]){const t=n[s];i+=t===ov?qg(e[s]):t===lv?sv.transform(e[s]):e[s]}return i}}const fv=e=>"number"===typeof e?0:e;const mv={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(Wg))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(av))||void 0===n?void 0:n.length)||0)>0},parse:dv,createTransformer:hv,getAnimatableNone:function(e){const t=dv(e);return hv(e)(t.map(fv))}},pv=new Set(["brightness","contrast","saturate","opacity"]);function gv(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Wg)||[];if(!r)return e;const i=n.replace(r,"");let s=pv.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const vv=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,yv=Re(Re({},mv),{},{getAnimatableNone:e=>{const t=e.match(vv);return t?t.map(gv).join(" "):e}}),bv={borderWidth:ev,borderTopWidth:ev,borderRightWidth:ev,borderBottomWidth:ev,borderLeftWidth:ev,borderRadius:ev,radius:ev,borderTopLeftRadius:ev,borderTopRightRadius:ev,borderBottomRightRadius:ev,borderBottomLeftRadius:ev,width:ev,maxWidth:ev,height:ev,maxHeight:ev,top:ev,right:ev,bottom:ev,left:ev,padding:ev,paddingTop:ev,paddingRight:ev,paddingBottom:ev,paddingLeft:ev,margin:ev,marginTop:ev,marginRight:ev,marginBottom:ev,marginLeft:ev,backgroundPositionX:ev,backgroundPositionY:ev},xv={rotate:Jg,rotateX:Jg,rotateY:Jg,rotateZ:Jg,scale:Bg,scaleX:Bg,scaleY:Bg,scaleZ:Bg,skew:Jg,skewX:Jg,skewY:Jg,distance:ev,translateX:ev,translateY:ev,translateZ:ev,x:ev,y:ev,z:ev,perspective:ev,transformPerspective:ev,opacity:zg,originX:rv,originY:rv,originZ:ev},wv=Re(Re({},Ug),{},{transform:Math.round}),Sv=Re(Re(Re({},bv),xv),{},{zIndex:wv,size:ev,fillOpacity:zg,strokeOpacity:zg,numOctaves:wv}),kv=Re(Re({},Sv),{},{color:sv,backgroundColor:sv,outlineColor:sv,fill:sv,stroke:sv,borderColor:sv,borderTopColor:sv,borderRightColor:sv,borderBottomColor:sv,borderLeftColor:sv,filter:yv,WebkitFilter:yv}),Nv=e=>kv[e];function Ev(e,t){let n=Nv(e);return n!==yv&&(n=mv),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Tv=new Set(["auto","none","0"]);const jv=e=>180*e/Math.PI,_v=e=>{const t=jv(Math.atan2(e[1],e[0]));return Av(t)},Cv={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:_v,rotateZ:_v,skewX:e=>jv(Math.atan(e[1])),skewY:e=>jv(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Av=e=>((e%=360)<0&&(e+=360),e),Iv=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Pv=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Dv={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Iv,scaleY:Pv,scale:e=>(Iv(e)+Pv(e))/2,rotateX:e=>Av(jv(Math.atan2(e[6],e[5]))),rotateY:e=>Av(jv(Math.atan2(-e[2],e[0]))),rotateZ:_v,rotate:_v,skewX:e=>jv(Math.atan(e[4])),skewY:e=>jv(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Rv(e){return e.includes("scale")?1:0}function Lv(e,t){if(!e||"none"===e)return Rv(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,i;if(n)r=Dv,i=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=Cv,i=t}if(!i)return Rv(t);const s=r[t],a=i[1].split(",").map(Ov);return"function"===typeof s?s(a):a[s]}function Ov(e){return parseFloat(e.trim())}const Mv=e=>e===Ug||e===ev,Fv=new Set(["x","y","z"]),Vv=mg.filter((e=>!Fv.has(e)));const Uv={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return Lv(n,"x")},y:(e,t)=>{let{transform:n}=t;return Lv(n,"y")}};Uv.translateX=Uv.x,Uv.translateY=Uv.y;const zv=new Set;let Bv=!1,qv=!1;function Wv(){if(qv){const e=Array.from(zv).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return Vv.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;var i;null===(i=e.getValue(n))||void 0===i||i.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}qv=!1,Bv=!1,zv.forEach((e=>e.complete())),zv.clear()}function Hv(){zv.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(qv=!0)}))}class Gv{constructor(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(zv.add(this),Bv||(Bv=!0,Bp.read(Hv),Bp.resolveKeyframes(Wv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let i=0;i<e.length;i++)if(null===e[i])if(0===i){const i=null===r||void 0===r?void 0:r.get(),s=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,s);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=s),r&&void 0===i&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),zv.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,zv.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Kv=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),Yv=e=>t=>"string"===typeof t&&t.startsWith(e),Qv=Yv("--"),Xv=Yv("var(--"),$v=e=>!!Xv(e)&&Jv.test(e.split("/*")[0].trim()),Jv=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,Zv=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function ey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;op(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=Zv.exec(e);if(!t)return[,];const[,n,r,i]=t;return["--".concat(null!==n&&void 0!==n?n:r),i]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return Kv(e)?parseFloat(e):e}return $v(i)?ey(i,t,n+1):i}const ty=e=>t=>t.test(e),ny=[Ug,ev,Zg,Jg,nv,tv,{test:e=>"auto"===e,parse:e=>e}],ry=e=>ny.find(ty(e));class iy extends Gv{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"===typeof n&&(n=n.trim(),$v(n))){const r=ey(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!gg.has(n)||2!==e.length)return;const[r,i]=e,s=ry(r),a=ry(i);if(s!==a)if(Mv(s)&&Mv(a))for(let o=0;o<e.length;o++){const t=e[o];"string"===typeof t&&(e[o]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)("number"===typeof(r=e[i])?0===r:null===r||"none"===r||"0"===r||Fg(r))&&n.push(i);var r;n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!Tv.has(t)&&uv(t).values.length&&(r=e[i]),i++}if(r&&n)for(const s of t)e[s]=Ev(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Uv[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Uv[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}const sy=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!mv.test(e)&&"0"!==e||e.startsWith("url(")));function ay(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],a=sy(i,t),o=sy(s,t);return ap(a===o,"You are trying to animate ".concat(t,' from "').concat(i,'" to "').concat(s,'". ').concat(i," is not an animatable value - to enable this animation set ").concat(i," to a value animatable to ").concat(s," via the `style` property.")),!(!a||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||_p(n))&&r)}const oy=e=>null!==e;function ly(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const s=e.filter(oy),a=r&&"loop"!==i&&r%2===1?0:s.length-1;return a&&void 0!==n?n:s[a]}const cy=["autoplay","delay","type","repeat","repeatDelay","repeatType"];class uy{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop"}=e,o=yp(e,cy);this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Xp.now(),this.options=Re({autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a},o),this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(Hv(),Wv()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Xp.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:s,onComplete:a,onUpdate:o,isGenerator:l}=this.options;if(!l&&!ay(e,n,r,i)){if(Tg||!s)return o&&o(ly(e,this.options,t)),a&&a(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved=Re({keyframes:e,finalKeyframe:t},c),this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}const dy=(e,t,n)=>e+(t-e)*n;function hy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function fy(e,t){return n=>n>0?t:e}const my=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},py=[Xg,Qg,iv];function gy(e){const t=(e=>py.find((t=>t.test(e))))(e);if(ap(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")),!Boolean(t))return!1;let n=t.parse(e);return t===iv&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,a=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=hy(i,e,t+1/3),a=hy(i,e,t),o=hy(i,e,t-1/3)}else s=a=o=r;return{red:Math.round(255*s),green:Math.round(255*a),blue:Math.round(255*o),alpha:i}}(n)),n}const vy=(e,t)=>{const n=gy(e),r=gy(t);if(!n||!r)return fy(e,t);const i=Re({},n);return e=>(i.red=my(n.red,r.red,e),i.green=my(n.green,r.green,e),i.blue=my(n.blue,r.blue,e),i.alpha=dy(n.alpha,r.alpha,e),Qg.transform(i))},yy=(e,t)=>n=>t(e(n)),by=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(yy)},xy=new Set(["none","hidden"]);function wy(e,t){return n=>dy(e,t,n)}function Sy(e){return"number"===typeof e?wy:"string"===typeof e?$v(e)?fy:sv.test(e)?vy:Ey:Array.isArray(e)?ky:"object"===typeof e?sv.test(e)?vy:Ny:fy}function ky(e,t){const n=[...e],r=n.length,i=e.map(((e,n)=>Sy(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function Ny(e,t){const n=Re(Re({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Sy(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Ey=(e,t)=>{const n=mv.createTransformer(t),r=uv(e),i=uv(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?xy.has(e)&&!i.values.length||xy.has(t)&&!r.values.length?function(e,t){return xy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):by(ky(function(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],o=e.indexes[a][i[a]],l=null!==(n=e.values[o])&&void 0!==n?n:0;r[s]=l,i[a]++}return r}(r,i),i.values),n):(ap(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),fy(e,t))};function Ty(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return dy(e,t,n);return Sy(e)(e,t)}function jy(e,t,n){const r=Math.max(t-5,0);return pp(n-e(r),t-r)}const _y={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Cy=.001;function Ay(e){let t,n,{duration:r=_y.duration,bounce:i=_y.bounce,velocity:s=_y.velocity,mass:a=_y.mass}=e;ap(r<=fp(_y.maxDuration),"Spring duration must be 10 seconds or less");let o=1-i;o=Vg(_y.minDamping,_y.maxDamping,o),r=Vg(_y.minDuration,_y.maxDuration,mp(r)),o<1?(t=e=>{const t=e*o,n=t*r,i=t-s,a=Py(e,o),l=Math.exp(-n);return Cy-i/a*l},n=e=>{const n=e*o*r,i=n*s+s,a=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Py(Math.pow(e,2),o);return(-t(e)+Cy>0?-1:1)*((i-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<Iy;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=fp(r),isNaN(l))return{stiffness:_y.stiffness,damping:_y.damping,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*o*Math.sqrt(a*e),duration:r}}}const Iy=12;function Py(e,t){return e*Math.sqrt(1-t*t)}const Dy=["duration","bounce"],Ry=["stiffness","damping","mass"];function Ly(e,t){return t.some((t=>void 0!==e[t]))}function Oy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_y.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_y.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t=Re({velocity:_y.velocity,stiffness:_y.stiffness,damping:_y.damping,mass:_y.mass,isResolvedFromDuration:!1},e);if(!Ly(e,Ry)&&Ly(e,Dy))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,s=2*Vg(.05,1,1-(e.bounce||0))*Math.sqrt(i);t=Re(Re({},t),{},{mass:_y.mass,stiffness:i,damping:s})}else{const n=Ay(e);t=Re(Re(Re({},t),n),{},{mass:_y.mass}),t.isResolvedFromDuration=!0}return t}(Re(Re({},n),{},{velocity:-mp(n.velocity||0)})),m=h||0,p=c/(2*Math.sqrt(l*u)),g=a-s,v=mp(Math.sqrt(l/u)),y=Math.abs(g)<5;let b;if(r||(r=y?_y.restSpeed.granular:_y.restSpeed.default),i||(i=y?_y.restDelta.granular:_y.restDelta.default),p<1){const e=Py(v,p);b=t=>{const n=Math.exp(-p*v*t);return a-n*((m+p*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===p)b=e=>a-Math.exp(-v*e)*(g+(m+v*g)*e);else{const e=v*Math.sqrt(p*p-1);b=t=>{const n=Math.exp(-p*v*t),r=Math.min(e*t,300);return a-n*((m+p*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const x={calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)o.done=e>=d;else{let n=0;p<1&&(n=0===e?fp(m):jy(b,e,t));const s=Math.abs(n)<=r,l=Math.abs(a-t)<=i;o.done=s&&l}return o.value=o.done?a:t,o},toString:()=>{const e=Math.min(jp(x),Tp),t=Rp((t=>x.next(e*t).value),e,30);return e+"ms "+t}};return x}function My(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},m=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let p=r*n;const g=h+p,v=void 0===o?g:o(g);v!==g&&(p=v-h);const y=e=>-p*Math.exp(-e/i),b=e=>v+y(e),x=e=>{const t=y(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?v:n};let w,S;const k=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(w=e,S=Oy({keyframes:[f.value,m(f.value)],velocity:jy(b,e,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==w||(t=!0,x(e),k(e)),void 0!==w&&e>=w?S.next(e-w):(!t&&x(e),f)}}}const Fy=_g(.42,0,1,1),Vy=_g(0,0,.58,1),Uy=_g(.42,0,.58,1),zy={linear:sp,easeIn:Fy,easeInOut:Uy,easeOut:Vy,circIn:Lg,circInOut:Mg,circOut:Og,backIn:Pg,backInOut:Dg,backOut:Ig,anticipate:Rg},By=e=>{if(Ap(e)){op(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return _g(t,n,r,i)}return"string"===typeof e?(op(void 0!==zy[e],"Invalid easing type '".concat(e,"'")),zy[e]):e};function qy(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(op(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],i=n||Ty,s=e.length-1;for(let a=0;a<s;a++){let n=i(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||sp:t;n=by(e,n)}r.push(n)}return r}(t,r,i),l=o.length,c=n=>{if(a&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=dp(e[r],e[r+1],n);return o[r](i)};return n?t=>c(Vg(e[0],e[s-1],t)):c}function Wy(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=dp(0,t,r);e.push(dy(n,1,i))}}(t,e.length-1),t}function Hy(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(By):By(i),a={done:!1,value:n[0]},o=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:Wy(n),t),l=qy(o,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map((()=>u||Uy)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}const Gy=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Bp.update(t,!0),stop:()=>qp(t),now:()=>Wp.isProcessing?Wp.timestamp:Xp.now()}},Ky={decay:My,inertia:My,tween:Hy,keyframes:Hy,spring:Oy},Yy=e=>e/100;class Qy extends uy{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:i}=this.options,s=(null===r||void 0===r?void 0:r.KeyframeResolver)||Gv;this.resolver=new s(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:s=0}=this.options,a=_p(t)?t:Ky[t]||Hy;let o,l;a!==Hy&&"number"!==typeof e[0]&&(o=by(Yy,Ty(e[0],e[1])),e=[0,100]);const c=a(Re(Re({},this.options),{},{keyframes:e}));"mirror"===i&&(l=a(Re(Re({},this.options),{},{keyframes:[...e].reverse(),velocity:-s}))),null===c.calculatedDuration&&(c.calculatedDuration=jp(c));const{calculatedDuration:u}=c,d=u+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:o,calculatedDuration:u,resolvedDuration:d,totalDuration:d*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;ug.mainThread++,this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:o,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return i.next(0);const{delay:d,repeat:h,repeatType:f,repeatDelay:m,onUpdate:p}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-d*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let y=this.currentTime,b=i;if(h){const e=Math.min(this.currentTime,c)/u;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,h+1);Boolean(t%2)&&("reverse"===f?(n=1-n,m&&(n-=m/u)):"mirror"===f&&(b=s)),y=Vg(0,1,n)*u}const x=v?{done:!1,value:o[0]}:b.next(y);a&&(x.value=a(x.value));let{done:w}=x;v||null===l||(w=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return S&&void 0!==r&&(x.value=ly(o,this.options,r)),p&&p(x.value),S&&this.finish(),x}get duration(){const{resolved:e}=this;return e?mp(e.calculatedDuration):0}get time(){return mp(this.currentTime)}set time(e){e=fp(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=mp(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=Gy,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel(),ug.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Xy=new Set(["opacity","clipPath","filter","transform"]);const $y=up((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),Jy=["onComplete","onUpdate","motionValue","element"],Zy=["motionValue","onUpdate","onComplete","element"];const eb={anticipate:Rg,backInOut:Dg,circInOut:Mg};class tb extends uy{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new iy(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:r,ease:i,type:s,motionValue:a,name:o,startTime:l}=this.options;if(!a.owner||!a.owner.current)return!1;var c;if("string"===typeof i&&Dp()&&i in eb&&(i=eb[i]),_p((c=this.options).type)||"spring"===c.type||!Lp(c.ease)){const t=this.options,{onComplete:a,onUpdate:o,motionValue:l,element:c}=t,u=yp(t,Jy),d=function(e,t){const n=new Qy(Re(Re({},t),{},{keyframes:e,repeat:0,delay:0,isGenerator:!0}));let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<2e4;)r=n.sample(s),i.push(r.value),s+=10;return{times:void 0,keyframes:i,duration:s-10,ease:"linear"}}(e,u);1===(e=d.keyframes).length&&(e[1]=e[0]),n=d.duration,r=d.times,i=d.ease,s="keyframes"}const u=function(e,t,n){let{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=Fp(o,i);Array.isArray(u)&&(c.easing=u),Up.value&&ug.waapi++;const d=e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"});return Up.value&&d.finished.finally((()=>{ug.waapi--})),d}(a.owner.current,o,e,Re(Re({},this.options),{},{duration:n,times:r,ease:i}));return u.startTime=null!==l&&void 0!==l?l:this.calcStartTime(),this.pendingTimeline?(Cp(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:n}=this.options;a.set(ly(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:r,type:s,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return mp(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return mp(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=fp(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return sp;const{animation:n}=t;Cp(n,e)}else this.pendingTimeline=e;return sp}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:i,ease:s,times:a}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const e=this.options,{motionValue:t,onUpdate:o,onComplete:l,element:c}=e,u=yp(e,Zy),d=new Qy(Re(Re({},u),{},{keyframes:n,duration:r,type:i,ease:s,times:a,isGenerator:!0})),h=fp(this.time);t.setWithVelocity(d.sample(h-10).value,d.sample(h).value,10)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return $y()&&n&&Xy.has(n)&&!o&&!l&&!r&&"mirror"!==i&&0!==s&&"inertia"!==a}}const nb={type:"spring",stiffness:500,damping:25,restSpeed:10},rb={type:"keyframes",duration:.8},ib={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sb=(e,t)=>{let{keyframes:n}=t;return n.length>2?rb:pg.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:nb:ib},ab=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const ob=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return a=>{const o=Ep(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=fp(l);let u=Re(Re({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},o),{},{delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:i});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u}=e,d=yp(e,ab);return!!Object.keys(d).length})(o)||(u=Re(Re({},u),sb(e,u))),u.duration&&(u.duration=fp(u.duration)),u.repeatDelay&&(u.repeatDelay=fp(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(d=!0)),(Tg||lp)&&(d=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,d&&!s&&void 0!==t.get()){const e=ly(u.keyframes,o);if(void 0!==e)return Bp.update((()=>{u.onUpdate(e),u.onComplete()})),new Np([])}return!s&&tb.supports(u)?new tb(u):new Qy(u)}},lb=["transition","transitionEnd"];function cb(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function ub(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var s;let{transition:a=e.getDefaultTransition(),transitionEnd:o}=t,l=yp(t,lb);r&&(a=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const t=e.getValue(d,null!==(s=e.latestValues[d])&&void 0!==s?s:null),r=l[d];if(void 0===r||u&&cb(u,d))continue;const i=Re({delay:n},Ep(a||{},d));let o=!1;if(window.MotionHandoffAnimation){const t=Eg(e);if(t){const e=window.MotionHandoffAnimation(t,d,Bp);null!==e&&(i.startTime=e,o=!0)}}Sg(e,d),t.start(ob(d,t,r,e.shouldReduceMotion&&gg.has(d)?{type:!1}:i,e,o));const h=t.animation;h&&c.push(h)}return o&&Promise.all(c).then((()=>{Bp.update((()=>{o&&function(e,t){let n=wp(e,t)||{},{transitionEnd:r={},transition:i={}}=n,s=yp(n,bg);s=Re(Re({},s),r);for(const a in s)xg(e,a,yg(s[a]))}(e,o)}))})),c}function db(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const i=wp(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(ub(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const a=[],o=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(hb).forEach(((e,r)=>{e.notify("AnimationStart",t),a.push(db(e,t,Re(Re({},s),{},{delay:n+l(r)})).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(a)}(e,t,i+r,a,o,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[e,t]="beforeChildren"===l?[a,o]:[o,a];return e().then((()=>t()))}return Promise.all([a(),o(n.delay)])}function hb(e,t){return e.sortNodePosition(t)}function fb(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function mb(e){return"string"===typeof e||Array.isArray(e)}const pb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gb=["initial",...pb],vb=gb.length;function yb(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&yb(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<vb;n++){const r=gb[n],i=e.props[r];(mb(i)||!1===i)&&(t[r]=i)}return t}const bb=["transition","transitionEnd"],xb=[...pb].reverse(),wb=pb.length;function Sb(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>db(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=db(e,t,r);else{const i="function"===typeof t?wp(e,t,r.custom):t;n=Promise.all(ub(e,i,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function kb(e){let t=Sb(e),n=Tb(),r=!0;const i=t=>(n,r)=>{var i;const s=wp(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(s){const{transition:e,transitionEnd:t}=s,r=yp(s,bb);n=Re(Re(Re({},n),r),t)}return n};function s(s){const{props:a}=e,o=yb(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<wb;t++){const h=xb[t],f=n[h],m=void 0!==a[h]?a[h]:o[h],p=mb(m),g=h===s?f.isActive:null;!1===g&&(d=t);let v=m===o[h]&&m!==a[h]&&p;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),f.protectedKeys=Re({},u),!f.isActive&&null===g||!m&&!f.prevProp||vp(m)||"boolean"===typeof m)continue;const y=Nb(f.prevProp,m);let b=y||h===s&&f.isActive&&!v&&p||t>d&&p,x=!1;const w=Array.isArray(m)?m:[m];let S=w.reduce(i(h),{});!1===g&&(S={});const{prevResolvedValues:k={}}=f,N=Re(Re({},k),S),E=t=>{b=!0,c.has(t)&&(x=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in N){const t=S[e],n=k[e];if(u.hasOwnProperty(e))continue;let r=!1;r=vg(t)&&vg(n)?!fb(t,n):t!==n,r?void 0!==t&&null!==t?E(e):c.add(e):void 0!==t&&c.has(e)?E(e):f.protectedKeys[e]=!0}f.prevProp=m,f.prevResolvedValues=S,f.isActive&&(u=Re(Re({},u),S)),r&&e.blockInitialAnimation&&(b=!1);b&&(!(v&&y)||x)&&l.push(...w.map((e=>({animation:e,options:{type:h}}))))}if(c.size){const t={};if("boolean"!==typeof a.initial){const n=wp(e,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach((n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const a=s(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Tb(),r=!0}}}function Nb(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!fb(t,e)}function Eb(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Tb(){return{animate:Eb(!0),whileInView:Eb(),whileHover:Eb(),whileTap:Eb(),whileDrag:Eb(),whileFocus:Eb(),exit:Eb()}}class jb{constructor(e){this.isMounted=!1,this.node=e}update(){}}let _b=0;const Cb={animation:{Feature:class extends jb{constructor(e){super(e),e.animationState||(e.animationState=kb(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends jb{constructor(){super(...arguments),this.id=_b++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function Ab(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ib(e){return{point:{x:e.pageX,y:e.pageY}}}function Pb(e,t,n,r){return Ab(e,t,(e=>t=>rg(t)&&e(t,Ib(t)))(n),r)}function Db(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function Rb(e){return e.max-e.min}function Lb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=dy(t.min,t.max,e.origin),e.scale=Rb(n)/Rb(t),e.translate=dy(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Ob(e,t,n,r){Lb(e.x,t.x,n.x,r?r.originX:void 0),Lb(e.y,t.y,n.y,r?r.originY:void 0)}function Mb(e,t,n){e.min=n.min+t.min,e.max=e.min+Rb(t)}function Fb(e,t,n){e.min=t.min-n.min,e.max=e.min+Rb(t)}function Vb(e,t,n){Fb(e.x,t.x,n.x),Fb(e.y,t.y,n.y)}const Ub=()=>({x:{min:0,max:0},y:{min:0,max:0}});function zb(e){return[e("x"),e("y")]}function Bb(e){return void 0===e||1===e}function qb(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Bb(t)||!Bb(n)||!Bb(r)}function Wb(e){return qb(e)||Hb(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Hb(e){return Gb(e.x)||Gb(e.y)}function Gb(e){return e&&"0%"!==e}function Kb(e,t,n){return n+t*(e-n)}function Yb(e,t,n,r,i){return void 0!==i&&(e=Kb(e,i,r)),Kb(e,n,r)+t}function Qb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=Yb(e.min,t,n,r,i),e.max=Yb(e.max,t,n,r,i)}function Xb(e,t){let{x:n,y:r}=t;Qb(e.x,n.translate,n.scale,n.originPoint),Qb(e.y,r.translate,r.scale,r.originPoint)}const $b=.999999999999,Jb=1.0000000000001;function Zb(e,t){e.min=e.min+t,e.max=e.max+t}function ex(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Qb(e,t,n,dy(e.min,e.max,i),r)}function tx(e,t){ex(e.x,t.x,t.scaleX,t.scale,t.originX),ex(e.y,t.y,t.scaleY,t.scale,t.originY)}function nx(e,t){return Db(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const rx=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null};function ix(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const sx=(e,t)=>Math.abs(e-t);class ax{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=cx(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=sx(e.x,t.x),r=sx(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Wp;this.history.push(Re(Re({},r),{},{timestamp:i}));const{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=ox(t,this.transformPagePoint),Bp.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=cx("pointercancel"===e.type?this.lastMoveEventInfo:ox(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!rg(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=ox(Ib(e),this.transformPagePoint),{point:a}=s,{timestamp:o}=Wp;this.history=[Re(Re({},a),{},{timestamp:o})];const{onSessionStart:l}=t;l&&l(e,cx(s,this.history)),this.removeListeners=by(Pb(this.contextWindow,"pointermove",this.handlePointerMove),Pb(this.contextWindow,"pointerup",this.handlePointerUp),Pb(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),qp(this.updatePoint)}}function ox(e,t){return t?{point:t(e.point)}:e}function lx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function cx(e,t){let{point:n}=e;return{point:n,delta:lx(n,dx(t)),offset:lx(n,ux(t)),velocity:hx(t,.1)}}function ux(e){return e[0]}function dx(e){return e[e.length-1]}function hx(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=dx(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>fp(t)));)n--;if(!r)return{x:0,y:0};const s=mp(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function fx(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function mx(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const px=.35;function gx(e,t,n){return{min:vx(e,t),max:vx(e,n)}}function vx(e,t){return"number"===typeof e?e:e[t]||0}const yx=new WeakMap;class bx{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new ax(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Ib(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?$p[s]?null:($p[s]=!0,()=>{$p[s]=!1}):$p.x||$p.y?null:($p.x=$p.y=!0,()=>{$p.x=$p.y=!1}),!this.openDragLock))return;var s;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zb((e=>{let t=this.getAxisMotionValue(e).get()||0;if(Zg.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Rb(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&Bp.postRender((()=>i(e,t))),Sg(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>zb((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:rx(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Bp.postRender((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!xx(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?dy(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?dy(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&ix(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:fx(e.x,r,s),y:fx(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:px;return!1===e?e=0:!0===e&&(e=px),{x:gx(e,"left","right"),y:gx(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&zb((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ix(e))return!1;const n=e.current;op(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=nx(e,n),{scroll:i}=t;return i&&(Zb(r.x,i.offset.x),Zb(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:mx(e.x,t.x),y:mx(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=Db(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=zb((a=>{if(!xx(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d=Re(Re({type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(a,d)}));return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Sg(this.visualElement,e),n.start(ob(e,n,0,t,this.visualElement,!1))}stopAnimation(){zb((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){zb((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){zb((t=>{const{drag:n}=this.getProps();if(!xx(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-dy(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!ix(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};zb((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=Rb(e),i=Rb(t);return i>r?n=dp(t.min,t.max-r,e.min):r>i&&(n=dp(e.min,e.max-i,t.min)),Vg(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),zb((t=>{if(!xx(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(dy(i,s,r[t]))}))}addListeners(){if(!this.visualElement.current)return;yx.set(this.visualElement,this);const e=Pb(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();ix(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Bp.read(t);const i=Ab(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(zb((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=px,dragMomentum:a=!0}=e;return Re(Re({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:a})}}function xx(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const wx=e=>(t,n)=>{e&&Bp.postRender((()=>e(t,n)))};const Sx=(0,t.createContext)(null);const kx=(0,t.createContext)({}),Nx=(0,t.createContext)({}),Ex={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tx(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const jx={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!ev.test(e))return e;e=parseFloat(e)}const n=Tx(e,t.target.x),r=Tx(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},_x={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=mv.parse(e);if(s.length>5)return i;const a=mv.createTransformer(e),o="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+o]/=l,s[1+o]/=c;const u=dy(l,c,.5);return"number"===typeof s[2+o]&&(s[2+o]/=u),"number"===typeof s[3+o]&&(s[3+o]/=u),a(s)}},Cx={};class Ax extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)Cx[t]=e[t],Qv(t)&&(Cx[t].isCSSVariable=!0)}(Px),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions(Re(Re({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),Ex.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||Bp.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Gp.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ix(e){const[n,r]=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,t.useContext)(Sx);if(null===n)return[!0,null];const{isPresent:r,onExitComplete:i,register:s}=n,a=(0,t.useId)();(0,t.useEffect)((()=>{if(e)return s(a)}),[e]);const o=(0,t.useCallback)((()=>e&&i&&i(a)),[a,i,e]);return!r&&i?[!1,o]:[!0]}(),i=(0,t.useContext)(kx);return(0,$m.jsx)(Ax,Re(Re({},e),{},{layoutGroup:i,switchLayoutGroup:(0,t.useContext)(Nx),isPresent:n,safeToRemove:r}))}const Px={borderRadius:Re(Re({},jx),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:jx,borderTopRightRadius:jx,borderBottomLeftRadius:jx,borderBottomRightRadius:jx,boxShadow:_x};const Dx=(e,t)=>e.depth-t.depth;class Rx{constructor(){this.children=[],this.isDirty=!1}add(e){rp(this.children,e),this.isDirty=!0}remove(e){ip(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Dx),this.isDirty=!1,this.children.forEach(e)}}function Lx(e,t){const n=Xp.now(),r=i=>{let{timestamp:s}=i;const a=s-n;a>=t&&(qp(r),e(a-t))};return Bp.read(r,!0),()=>qp(r)}function Ox(e){const t=wg(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const Mx=["TopLeft","TopRight","BottomLeft","BottomRight"],Fx=Mx.length,Vx=e=>"string"===typeof e?parseFloat(e):e,Ux=e=>"number"===typeof e||ev.test(e);function zx(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Bx=Wx(0,.5,Og),qx=Wx(.5,.95,sp);function Wx(e,t,n){return r=>r<e?0:r>t?1:n(dp(e,t,r))}function Hx(e,t){e.min=t.min,e.max=t.max}function Gx(e,t){Hx(e.x,t.x),Hx(e.y,t.y)}function Kx(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Yx(e,t,n,r,i){return e=Kb(e-=t,1/n,r),void 0!==i&&(e=Kb(e,1/i,r)),e}function Qx(e,t,n,r,i){let[s,a,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Zg.test(t)&&(t=parseFloat(t),t=dy(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let o=dy(s.min,s.max,r);e===s&&(o-=t),e.min=Yx(e.min,t,n,o,i),e.max=Yx(e.max,t,n,o,i)}(e,t[s],t[a],t[o],t.scale,r,i)}const Xx=["x","scaleX","originX"],$x=["y","scaleY","originY"];function Jx(e,t,n,r){Qx(e.x,t,Xx,n?n.x:void 0,r?r.x:void 0),Qx(e.y,t,$x,n?n.y:void 0,r?r.y:void 0)}function Zx(e){return 0===e.translate&&1===e.scale}function ew(e){return Zx(e.x)&&Zx(e.y)}function tw(e,t){return e.min===t.min&&e.max===t.max}function nw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function rw(e,t){return nw(e.x,t.x)&&nw(e.y,t.y)}function iw(e){return Rb(e.x)/Rb(e.y)}function sw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class aw{constructor(){this.members=[]}add(e){rp(this.members,e),e.scheduleRender()}remove(e){if(ip(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ow={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},lw=["","X","Y","Z"],cw={visibility:"hidden"};let uw=0;function dw(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function hw(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Eg(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Bp,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&hw(r)}function fw(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=uw++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Up.value&&(ow.nodes=ow.calculatedTargetDeltas=ow.calculatedProjections=0),this.nodes.forEach(gw),this.nodes.forEach(kw),this.nodes.forEach(Nw),this.nodes.forEach(vw),Up.addProjectionMetrics&&Up.addProjectionMetrics(ow)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Rx)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new hp),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=Lx(r,250),Ex.hasAnimatedSinceResize&&(Ex.hasAnimatedSinceResize=!1,this.nodes.forEach(Sw))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||s)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||a.getDefaultTransition()||Aw,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!rw(this.targetLayout,i),u=!n&&r;if(this.options.layoutRoot||this.resumeFrom||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e=Re(Re({},Ep(s,"layout")),{},{onPlay:o,onComplete:l});(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||Sw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,qp(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ew),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(bw);this.isUpdating||this.nodes.forEach(xw),this.isUpdating=!1,this.nodes.forEach(ww),this.nodes.forEach(mw),this.nodes.forEach(pw),this.clearAllSnapshots();const e=Xp.now();Wp.delta=Vg(0,1e3/60,e-Wp.timestamp),Wp.timestamp=e,Wp.isProcessing=!0,Hp.update.process(Wp),Hp.preRender.process(Wp),Hp.render.process(Wp),Wp.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yw),this.sharedNodes.forEach(Tw)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bp.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bp.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||Rb(this.snapshot.measuredBox.x)||Rb(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!ew(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||Wb(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Dw((r=n).x),Dw(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(Lw))){const{scroll:e}=this.root;e&&(Zb(n.x,e.offset.x),Zb(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(Gx(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:s}=t;t!==this.root&&i&&s.layoutScroll&&(i.wasRoot&&Gx(n,e),Zb(n.x,i.offset.x),Zb(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Gx(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&tx(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Wb(e.latestValues)&&tx(n,e.latestValues)}return Wb(this.latestValues)&&tx(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Gx(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Wb(e.latestValues))continue;qb(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};Gx(r,e.measurePageBox()),Jx(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Wb(this.latestValues)&&Jx(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=Re(Re(Re({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wp.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=Wp.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Vb(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Gx(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,Mb(a.x,o.x,l.x),Mb(a.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Gx(this.target,this.layout.layoutBox),Xb(this.target,this.targetDelta)):Gx(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Vb(this.relativeTargetOrigin,this.target,e.target),Gx(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Up.value&&ow.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!qb(this.parent.latestValues)&&!Hb(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Wp.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;Gx(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,a;t.x=t.y=1;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:i}=s.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&tx(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Xb(e,a)),r&&Wb(s.latestValues)&&tx(e,s.latestValues))}t.x<Jb&&t.x>$b&&(t.x=1),t.y<Jb&&t.y>$b&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(Kx(this.prevProjectionDelta.x,this.projectionDelta.x),Kx(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Ob(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&sw(this.projectionDelta.x,this.prevProjectionDelta.x)&&sw(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Up.value&&ow.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=Re({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(Cw));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;jw(s.x,e.x,n),jw(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vb(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){_w(e.x,t.x,n.x,r),_w(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),d&&function(e,t){return tw(e.x,t.x)&&tw(e.y,t.y)}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),Gx(d,this.relativeTarget)),o&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=dy(0,void 0!==n.opacity?n.opacity:1,Bx(r)),e.opacityExit=dy(void 0!==t.opacity?t.opacity:1,0,qx(r))):s&&(e.opacity=dy(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<Fx;a++){const i="border".concat(Mx[a],"Radius");let s=zx(t,i),o=zx(n,i);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||Ux(s)===Ux(o)?(e[i]=Math.max(dy(Vx(s),Vx(o),r),0),(Zg.test(o)||Zg.test(s))&&(e[i]+="%")):e[i]=o)}(t.rotate||n.rotate)&&(e.rotate=dy(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(qp(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bp.update((()=>{Ex.hasAnimatedSinceResize=!0,ug.layout++,this.currentAnimation=function(e,t,n){const r=wg(e)?e:fg(e);return r.start(ob("",r,t,n)),r.animation}(0,1e3,Re(Re({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{ug.layout--},onComplete:()=>{ug.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Rw(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Rb(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Rb(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Gx(t,n),tx(t,i),Ob(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new aw);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&dw("z",e,r,this.animationValues);for(let i=0;i<lw.length;i++)dw("rotate".concat(lw[i]),e,r,this.animationValues),dw("skew".concat(lw[i]),e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return cw;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Ox(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Ox(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!Wb(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(null===n||void 0===n?void 0:n.z)||0;if((i||s||a)&&(r="translate3d(".concat(i,"px, ").concat(s,"px, ").concat(a,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:s,skewX:a,skewY:o}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),s&&(r+="rotateY(".concat(s,"deg) ")),a&&(r+="skewX(".concat(a,"deg) ")),o&&(r+="skewY(".concat(o,"deg) "))}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+="scale(".concat(o,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:o,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*o.origin,"% ").concat(100*l.origin,"% 0"),s.animationValues?r.opacity=s===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in Cx){if(void 0===a[c])continue;const{correct:e,applyTo:t,isCSSVariable:n}=Cx[c],i="none"===r.transform?a[c]:e(a[c],s);if(t){const e=t.length;for(let n=0;n<e;n++)r[t[n]]=i}else n?this.options.visualElement.renderState.vars[c]=i:r[c]=i}return this.options.layoutId&&(r.pointerEvents=s===this?Ox(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(bw),this.root.sharedNodes.clear()}}}function mw(e){e.updateLayout()}function pw(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?zb((e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=Rb(r);r.min=t[e].min,r.max=r.min+i})):Rw(i,n.layoutBox,t)&&zb((r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],a=Rb(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)}));const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Ob(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?Ob(o,e.applyTransform(r,!0),n.measuredBox):Ob(o,t,n.layoutBox);const l=!ew(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const a={x:{min:0,max:0},y:{min:0,max:0}};Vb(a,n.layoutBox,i.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};Vb(o,t,s.layoutBox),rw(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function gw(e){Up.value&&ow.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function vw(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yw(e){e.clearSnapshot()}function bw(e){e.clearMeasurements()}function xw(e){e.isLayoutDirty=!1}function ww(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Sw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function kw(e){e.resolveTargetDelta()}function Nw(e){e.calcProjection()}function Ew(e){e.resetSkewAndRotation()}function Tw(e){e.removeLeadSnapshot()}function jw(e,t,n){e.translate=dy(t.translate,0,n),e.scale=dy(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function _w(e,t,n,r){e.min=dy(t.min,n.min,r),e.max=dy(t.max,n.max,r)}function Cw(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Aw={duration:.45,ease:[.4,0,.1,1]},Iw=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Pw=Iw("applewebkit/")&&!Iw("chrome/")?Math.round:sp;function Dw(e){e.min=Pw(e.min),e.max=Pw(e.max)}function Rw(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=iw(t),i=iw(n),s=.2,!(Math.abs(r-i)<=s));var r,i,s}function Lw(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const Ow=fw({attachResizeListener:(e,t)=>Ab(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mw={current:void 0},Fw=fw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Mw.current){const e=new Ow({});e.mount(window),e.setOptions({layoutScroll:!0}),Mw.current=e}return Mw.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Vw={pan:{Feature:class extends jb{constructor(){super(...arguments),this.removePointerDownListener=sp}onPointerDown(e){this.session=new ax(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:wx(e),onStart:wx(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Bp.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=Pb(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends jb{constructor(e){super(e),this.removeGroupControls=sp,this.removeListeners=sp,this.controls=new bx(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sp}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Fw,MeasureLayout:Ix}};function Uw(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&Bp.postRender((()=>i(t,Ib(t))))}function zw(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&Bp.postRender((()=>i(t,Ib(t))))}const Bw=["root"],qw=new WeakMap,Ww=new WeakMap,Hw=e=>{const t=qw.get(e.target);t&&t(e)},Gw=e=>{e.forEach(Hw)};function Kw(e,t,n){const r=function(e){let{root:t}=e,n=yp(e,Bw);const r=t||document;Ww.has(r)||Ww.set(r,{});const i=Ww.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(Gw,Re({root:t},n))),i[s]}(t);return qw.set(e,n),r.observe(e),()=>{qw.delete(e),r.unobserve(e)}}const Yw={some:0,all:1};const Qw={inView:{Feature:class extends jb{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Yw[r]};return Kw(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends jb{mount(){const{current:e}=this.node;e&&(this.unmount=cg(e,((e,t)=>(zw(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return zw(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends jb{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(uN){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=by(Ab(this.node.current,"focus",(()=>this.onFocus())),Ab(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends jb{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=Zp(e,n),a=e=>{if(!eg(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const s=e=>{eg(e)&&(r(e),n.removeEventListener("pointerleave",s))};n.addEventListener("pointerleave",s,i)};return r.forEach((e=>{e.addEventListener("pointerenter",a,i)})),s}(e,((e,t)=>(Uw(this.node,t,"Start"),e=>Uw(this.node,e,"End")))))}unmount(){}}}},Xw={layout:{ProjectionNode:Fw,MeasureLayout:Ix}},$w=(0,t.createContext)({strict:!1}),Jw=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Zw=(0,t.createContext)({});function eS(e){return vp(e.animate)||gb.some((t=>mb(e[t])))}function tS(e){return Boolean(eS(e)||e.variants)}function nS(e){const{initial:n,animate:r}=function(e,t){if(eS(e)){const{initial:t,animate:n}=e;return{initial:!1===t||mb(t)?t:void 0,animate:mb(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(Zw));return(0,t.useMemo)((()=>({initial:n,animate:r})),[rS(n),rS(r)])}function rS(e){return Array.isArray(e)?e.join(" "):e}const iS="undefined"!==typeof window,sS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},aS={};for(const n in sS)aS[n]={isEnabled:e=>sS[n].some((t=>!!e[t]))};const oS=Symbol.for("motionComponentSymbol");function lS(e,n,r){return(0,t.useCallback)((t=>{t&&e.onMount&&e.onMount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):ix(r)&&(r.current=t))}),[n])}const cS=iS?t.useLayoutEffect:t.useEffect;function uS(e,n,r,i,s){var a,o;const{visualElement:l}=(0,t.useContext)(Zw),c=(0,t.useContext)($w),u=(0,t.useContext)(Sx),d=(0,t.useContext)(Jw).reducedMotion,h=(0,t.useRef)(null);i=i||c.renderer,!h.current&&i&&(h.current=i(e,{visualState:n,parent:l,props:r,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:d}));const f=h.current,m=(0,t.useContext)(Nx);!f||f.projection||!s||"html"!==f.type&&"svg"!==f.type||function(e,t,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:dS(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:Boolean(a)||o&&ix(o),visualElement:e,animationType:"string"===typeof s?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(h.current,r,s,m);const p=(0,t.useRef)(!1);(0,t.useInsertionEffect)((()=>{f&&p.current&&f.update(r,u)}));const g=r[Ng],v=(0,t.useRef)(Boolean(g)&&!(null===(a=window.MotionHandoffIsComplete)||void 0===a?void 0:a.call(window,g))&&(null===(o=window.MotionHasOptimisedAnimation)||void 0===o?void 0:o.call(window,g)));return cS((()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Gp.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())})),(0,t.useEffect)((()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask((()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)})),v.current=!1))})),f}function dS(e){if(e)return!1!==e.options.allowProjection?e.projection:dS(e.parent)}function hS(e){let{preloadedFeatures:n,createVisualElement:r,useRender:i,useVisualState:s,Component:a}=e;var o,l;function c(e,n){let o;const l=Re(Re(Re({},(0,t.useContext)(Jw)),e),{},{layoutId:fS(e)}),{isStatic:c}=l,u=nS(e),d=s(e,c);if(!c&&iS){!function(){(0,t.useContext)($w).strict;0}();const e=function(e){const{drag:t,layout:n}=aS;if(!t&&!n)return{};const r=Re(Re({},t),n);return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);o=e.MeasureLayout,u.visualElement=uS(a,d,l,r,e.ProjectionNode)}return(0,$m.jsxs)(Zw.Provider,{value:u,children:[o&&u.visualElement?(0,$m.jsx)(o,Re({visualElement:u.visualElement},l)):null,i(a,e,lS(d,u.visualElement,n),d,c,u.visualElement)]})}n&&function(e){for(const t in e)aS[t]=Re(Re({},aS[t]),e[t])}(n),c.displayName="motion.".concat("string"===typeof a?a:"create(".concat(null!==(l=null!==(o=a.displayName)&&void 0!==o?o:a.name)&&void 0!==l?l:"",")"));const u=(0,t.forwardRef)(c);return u[oS]=a,u}function fS(e){let{layoutId:n}=e;const r=(0,t.useContext)(kx).id;return r&&void 0!==n?r+"-"+n:n}function mS(e,t){let{layout:n,layoutId:r}=t;return pg.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Cx[e]||"opacity"===e)}const pS=(e,t)=>t&&"number"===typeof e?t.transform(e):e,gS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vS=mg.length;function yS(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let a=!1,o=!1;for(const l in t){const e=t[l];if(pg.has(l))a=!0;else if(Qv(l))i[l]=e;else{const t=pS(e,Sv[l]);l.startsWith("origin")?(o=!0,s[l]=t):r[l]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",i=!0;for(let s=0;s<vS;s++){const a=mg[s],o=e[a];if(void 0===o)continue;let l=!0;if(l="number"===typeof o?o===(a.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=pS(o,Sv[a]);l||(i=!1,r+="".concat(gS[a]||a,"(").concat(e,") ")),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const bS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xS(e,t,n){for(const r in t)wg(t[r])||mS(r,n)||(e[r]=t[r])}function wS(e,n){const r={};return xS(r,e.style||{},e),Object.assign(r,function(e,n){let{transformTemplate:r}=e;return(0,t.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return yS(e,n,r),Object.assign({},e.vars,e.style)}),[n])}(e,n)),r}function SS(e,t){const n={},r=wS(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const kS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function NS(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||kS.has(e)}let ES=e=>!NS(e);try{(TS=require("@emotion/is-prop-valid").default)&&(ES=e=>e.startsWith("on")?!NS(e):TS(e))}catch(dN){}var TS;const jS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _S(e){return"string"===typeof e&&!e.includes("-")&&!!(jS.indexOf(e)>-1||/[A-Z]/.test(e))}const CS={offset:"stroke-dashoffset",array:"stroke-dasharray"},AS={offset:"strokeDashoffset",array:"strokeDasharray"};function IS(e,t,n){return"string"===typeof e?e:ev.transform(t+n*e)}const PS=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function DS(e,t,n,r){let{attrX:i,attrY:s,attrScale:a,originX:o,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:d=0}=t;if(yS(e,yp(t,PS),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:f,dimensions:m}=e;h.transform&&(m&&(f.transform=h.transform),delete h.transform),m&&(void 0!==o||void 0!==l||f.transform)&&(f.transformOrigin=function(e,t,n){const r=IS(t,e.x,e.width),i=IS(n,e.y,e.height);return"".concat(r," ").concat(i)}(m,void 0!==o?o:.5,void 0!==l?l:.5)),void 0!==i&&(h.x=i),void 0!==s&&(h.y=s),void 0!==a&&(h.scale=a),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?CS:AS;e[s.offset]=ev.transform(-r);const a=ev.transform(t),o=ev.transform(n);e[s.array]="".concat(a," ").concat(o)}(h,c,u,d,!1)}const RS=()=>Re(Re({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),LS=e=>"string"===typeof e&&"svg"===e.toLowerCase();function OS(e,n,r,i){const s=(0,t.useMemo)((()=>{const t=RS();return DS(t,n,LS(i),e.transformTemplate),Re(Re({},t.attrs),{},{style:Re({},t.style)})}),[n]);if(e.style){const t={};xS(t,e.style,e),s.style=Re(Re({},t),s.style)}return s}function MS(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(n,r,i,s,a)=>{let{latestValues:o}=s;const l=(_S(n)?OS:SS)(r,o,a,n),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(ES(i)||!0===n&&NS(i)||!t&&!NS(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(r,"string"===typeof n,e),u=n!==t.Fragment?Re(Re(Re({},c),l),{},{ref:i}):{},{children:d}=r,h=(0,t.useMemo)((()=>wg(d)?d.get():d),[d]);return(0,t.createElement)(n,Re(Re({},u),{},{children:h}))}}const FS=["transitionEnd","transition"];const VS=e=>(n,r)=>{const i=(0,t.useContext)(Zw),s=(0,t.useContext)(Sx),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onUpdate:a}=e;const o={latestValues:US(t,n,r,i),renderState:s()};return a&&(o.onMount=e=>a(Re({props:t,current:e},o)),o.onUpdate=e=>a(e)),o}(e,n,i,s);return r?a():function(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}(a)};function US(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=Ox(s[h]);let{initial:a,animate:o}=e;const l=eS(e),c=tS(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const d=u?o:a;if(d&&"boolean"!==typeof d&&!vp(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=xp(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=yp(r,FS);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}function zS(e,t,n){var r;const{style:i}=e,s={};for(const a in i)(wg(i[a])||t.style&&wg(t.style[a])||mS(a,e)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(a))||void 0===r?void 0:r.liveStyle))&&(s[a]=i[a]);return s}const BS={useVisualState:VS({scrapeMotionValuesFromProps:zS,createRenderState:bS})};function qS(e,t){try{t.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(uN){t.dimensions={x:0,y:0,width:0,height:0}}}function WS(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const a in s)e.style.setProperty(a,s[a])}const HS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function GS(e,t,n,r){WS(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(HS.has(i)?i:kg(i),t.attrs[i])}function KS(e,t,n){const r=zS(e,t,n);for(const i in e)if(wg(e[i])||wg(t[i])){r[-1!==mg.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}const YS=["x","y","width","height","cx","cy","r"],QS={useVisualState:VS({scrapeMotionValuesFromProps:KS,createRenderState:RS,onUpdate:e=>{let{props:t,prevProps:n,current:r,renderState:i,latestValues:s}=e;if(!r)return;let a=!!t.drag;if(!a)for(const l in s)if(pg.has(l)){a=!0;break}if(!a)return;let o=!n;if(n)for(let l=0;l<YS.length;l++){const e=YS[l];t[e]!==n[e]&&(o=!0)}o&&Bp.read((()=>{qS(r,i),Bp.render((()=>{DS(i,s,LS(r.tagName),t.transformTemplate),GS(r,i)}))}))}})};function XS(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return hS(Re(Re({},_S(n)?QS:BS),{},{preloadedFeatures:e,useRender:MS(r),createVisualElement:t,Component:n}))}}const $S={current:null},JS={current:!1};const ZS=[...ny,sv,mv],ek=new WeakMap;const tk=["willChange"],nk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rk{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Gv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Xp.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Bp.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=a;this.onUpdate=u,this.latestValues=l,this.baseTarget=Re({},l),this.initialValues=n.initial?Re({},l):{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=Boolean(s),this.isControllingVariants=eS(n),this.isVariantNode=tS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const d=this.scrapeMotionValuesFromProps(n,{},this),{willChange:h}=d,f=yp(d,tk);for(const m in f){const e=f[m];void 0!==l[m]&&wg(e)&&e.set(l[m],!1)}}mount(e){this.current=e,ek.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),JS.current||function(){if(JS.current=!0,iS)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$S.current=e.matches;e.addListener(t),t()}else $S.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||$S.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qp(this.notifyUpdate),qp(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=pg.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Bp.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),i(),s&&s(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in aS){const t=aS[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<nk.length;n++){const t=nk[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],s=n[r];if(wg(i))e.addValue(r,i);else if(wg(s))e.addValue(r,fg(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,fg(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=fg(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==r&&null!==r&&("string"===typeof r&&(Kv(r)||Fg(r))?r=parseFloat(r):!(e=>ZS.find(ty(e)))(r)&&mv.test(t)&&(r=Ev(e,t)),this.setBaseTarget(e,wg(r)?r.get():r)),wg(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const i=xp(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);i&&(r=i[e])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||wg(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new hp),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class ik extends rk{constructor(){super(...arguments),this.KeyframeResolver=iy}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wg(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}}class sk extends ik{constructor(){super(...arguments),this.type="html",this.renderInstance=WS}readValueFromInstance(e,t){if(pg.has(t))return((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Lv(n,t)})(e,t);{const r=(n=e,window.getComputedStyle(n)),i=(Qv(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return nx(e,n)}build(e,t,n){yS(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return zS(e,t,n)}}class ak extends ik{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ub,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&qS(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(pg.has(t)){const e=Nv(t);return e&&e.default||0}return t=HS.has(t)?t:kg(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return KS(e,t,n)}onBindTransform(){this.current&&!this.renderState.dimensions&&Bp.postRender(this.updateDimensions)}build(e,t,n){DS(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){GS(e,t,0,r)}mount(e){this.isSVGTag=LS(e.tagName),super.mount(e)}}const ok=(e,n)=>_S(e)?new ak(n):new sk(n,{allowProjection:e!==t.Fragment}),lk=gp(XS(Re(Re(Re(Re({},Cb),Qw),Vw),Xw),ok));function ck(e){let{title:t,subtitle:n,children:r,footer:i}=e;return(0,$m.jsxs)("div",{className:"relative min-h-screen overflow-hidden bg-[#050910] text-white",children:[(0,$m.jsxs)("div",{className:"absolute inset-0 -z-10",children:[(0,$m.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(0,255,136,0.10),transparent_50%)]"}),(0,$m.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom,_rgba(46,204,113,0.12),transparent_45%)]"}),(0,$m.jsx)("div",{className:"absolute -top-32 -right-24 h-96 w-96 rounded-full bg-[#2ecc71]/30 blur-3xl"}),(0,$m.jsx)("div",{className:"absolute -bottom-36 -left-24 h-[28rem] w-[28rem] rounded-full bg-[#00ff88]/30 blur-3xl"})]}),(0,$m.jsxs)("div",{className:"relative z-10 mx-auto flex min-h-screen max-w-6xl flex-col px-6 py-10 lg:px-10",children:[(0,$m.jsxs)("header",{className:"mb-10 flex items-center justify-between",children:[(0,$m.jsxs)(je,{to:"/",className:"group flex items-center gap-3 text-lg font-semibold tracking-wide",children:[(0,$m.jsx)("span",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-[#00ff88] to-[#2ecc71] text-xl shadow-lg shadow-[#00ff88]/20 transition group-hover:scale-105",children:"\u2699\ufe0f"}),(0,$m.jsxs)("span",{className:"flex flex-col leading-tight",children:[(0,$m.jsx)("span",{className:"uppercase text-xs font-semibold tracking-[0.4em] text-slate-400",children:"AMC FOSS"}),(0,$m.jsx)("span",{className:"text-[#00ff88] group-hover:text-[#2ecc71]",children:"Open Source Collective"})]})]}),(0,$m.jsx)(je,{to:"/events",className:"rounded-full border border-white/10 bg-white/5 px-4 py-2 text-sm font-medium text-white transition hover:border-[#00ff88]/60 hover:text-[#00ff88]",children:"View Events"})]}),(0,$m.jsxs)("div",{className:"grid flex-1 gap-10 pb-10 lg:grid-cols-[1.1fr_0.9fr]",children:[(0,$m.jsxs)(lk.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"relative hidden overflow-hidden rounded-3xl border border-white/10 bg-white/5 p-10 shadow-2xl lg:flex",children:[(0,$m.jsx)("div",{className:"absolute -left-12 -top-24 h-64 w-64 rounded-full bg-[#2ecc71]/30 blur-3xl"}),(0,$m.jsx)("div",{className:"absolute -right-16 -bottom-24 h-80 w-80 rounded-full bg-[#00ff88]/25 blur-3xl"}),(0,$m.jsxs)("div",{className:"relative z-10 flex flex-col justify-end",children:[(0,$m.jsx)("span",{className:"mb-4 inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/10 px-3 py-1 text-xs uppercase tracking-[0.3em] text-[#00ff88]",children:"Built with passion"}),(0,$m.jsx)("h2",{className:"mb-4 text-4xl font-semibold leading-tight text-white",children:"Collaborate, innovate, and ship open source experiences."}),(0,$m.jsx)("p",{className:"max-w-md text-sm text-slate-300/90",children:"Access role-based dashboards, plan community events, and track tasks within a single open source hub. Every contributor gets tools tailored to their responsibilities."}),(0,$m.jsx)("div",{className:"mt-10 grid gap-4 sm:grid-cols-3",children:[{title:"Mentor Suite",desc:"Assign tasks, follow progress, unlock impact."},{title:"Event Studio",desc:"Design, launch, and manage club events."},{title:"Community Pulse",desc:"Stay in sync with registrations and updates."}].map((e=>(0,$m.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 text-sm text-slate-200/90 backdrop-blur",children:[(0,$m.jsx)("div",{className:"mb-2 text-[#00ff88]",children:e.title}),(0,$m.jsx)("p",{className:"text-xs text-slate-400",children:e.desc})]},e.title)))})]})]}),(0,$m.jsxs)(lk.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1,ease:"easeOut"},className:"relative flex flex-col justify-center",children:[(0,$m.jsx)("div",{className:"absolute inset-0 rounded-[2.5rem] bg-white/4 blur-3xl"}),(0,$m.jsxs)("div",{className:"relative w-full overflow-hidden rounded-3xl border border-white/10 bg-[#060b17]/90 p-10 shadow-2xl backdrop-blur",children:[(0,$m.jsxs)("div",{className:"mb-6",children:[(0,$m.jsx)("h1",{className:"text-3xl font-semibold text-white",children:t}),n?(0,$m.jsx)("p",{className:"mt-2 text-sm text-slate-400",children:n}):null]}),r,i?(0,$m.jsx)("div",{className:"mt-8 text-sm text-slate-400",children:i}):null]})]})]})]})]})}function uk(){const{loginWithEmail:e,role:n,loading:r,user:i}=Zm(),s=ee(),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(!1);(0,t.useEffect)((()=>{!r&&i&&n&&("mentor"===n?s("/mentor",{replace:!0}):"office_bearer"===n&&s("/office",{replace:!0}))}),[i,n,r,s]);return(0,$m.jsxs)(ck,{title:"Welcome back, trailblazer.",subtitle:"Sign in with your AMC FOSS college email to unlock your personalised workspace.",footer:(0,$m.jsx)("span",{}),children:[u?(0,$m.jsx)("div",{className:"mb-4 rounded-xl border border-red-500/40 bg-red-500/10 px-4 py-3 text-xs font-medium text-red-300",children:u}):null,(0,$m.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),d(""),f(!0);try{const t=a.split("@")[1]||"";if(!(t.toLowerCase().includes("amrita")||t.toLowerCase().includes("edu")))return d("Please use your college email ID."),void f(!1);await e(a,l)}catch(n){d(n.message||"Failed to login"),f(!1)}},className:"space-y-5",children:[(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"College Email"}),(0,$m.jsx)("input",{type:"email",value:a,onChange:e=>o(e.target.value),className:"w-full rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/10 focus:ring-2 focus:ring-[#00ff88]/50",placeholder:"you@amrita.edu",required:!0})]}),(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Password"}),(0,$m.jsx)("input",{type:"password",value:l,onChange:e=>c(e.target.value),className:"w-full rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/10 focus:ring-2 focus:ring-[#00ff88]/50",placeholder:"Enter your password",required:!0})]}),(0,$m.jsxs)("button",{type:"submit",disabled:h,className:"group relative w-full overflow-hidden rounded-2xl bg-gradient-to-r from-[#00ff88] via-[#2ecc71] to-[#27ae60] px-6 py-3 text-sm font-semibold uppercase tracking-[0.25em] text-[#1a1a2e] shadow-lg shadow-[#00ff88]/30 transition focus:outline-none focus:ring-2 focus:ring-[#00ff88] focus:ring-offset-2 focus:ring-offset-slate-900 disabled:opacity-60 font-bold",children:[(0,$m.jsx)("span",{className:"absolute inset-0 translate-y-full bg-white/20 transition duration-300 group-hover:translate-y-0"}),(0,$m.jsx)("span",{className:"relative",children:h?"Signing In...":"Enter Workspace"})]})]})]})}function dk(){const{registerWithEmail:e}=Zm(),n=ee(),[r,i]=(0,t.useState)(""),[s,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(!1);return(0,$m.jsxs)(ck,{title:"Launch your AMC FOSS profile.",subtitle:"Register using your official college email to access mentor or office bearer workflows.",footer:(0,$m.jsxs)("span",{children:["Already verified?"," ",(0,$m.jsx)(je,{to:"/login",className:"text-[#00ff88] hover:text-[#2ecc71]",children:"Sign in"})]}),children:[c?(0,$m.jsx)("div",{className:"mb-4 rounded-xl border border-red-500/40 bg-red-500/10 px-4 py-3 text-xs font-medium text-red-300",children:c}):null,(0,$m.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),u(""),s!==o)return void u("Passwords do not match.");const i=r.split("@")[1]||"";if(i.toLowerCase().includes("amrita")||i.toLowerCase().includes("edu")){h(!0);try{await e(r,s),n("/select-role",{replace:!0})}catch(a){u(a.message||"Failed to register")}finally{h(!1)}}else u("Please use your college email ID.")},className:"space-y-5",children:[(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"College Email"}),(0,$m.jsx)("input",{type:"email",value:r,onChange:e=>i(e.target.value),className:"w-full rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/10 focus:ring-2 focus:ring-[#00ff88]/50",placeholder:"you@amrita.edu",required:!0})]}),(0,$m.jsxs)("div",{className:"grid gap-5 sm:grid-cols-2",children:[(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Password"}),(0,$m.jsx)("input",{type:"password",value:s,onChange:e=>a(e.target.value),className:"w-full rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/10 focus:ring-2 focus:ring-[#00ff88]/50",placeholder:"Minimum 6 characters",required:!0,minLength:6})]}),(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Confirm Password"}),(0,$m.jsx)("input",{type:"password",value:o,onChange:e=>l(e.target.value),className:"w-full rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/10 focus:ring-2 focus:ring-[#00ff88]/50",placeholder:"Retype password",required:!0,minLength:6})]})]}),(0,$m.jsxs)("button",{type:"submit",disabled:d,className:"group relative w-full overflow-hidden rounded-2xl bg-gradient-to-r from-[#00ff88] via-[#2ecc71] to-[#27ae60] px-6 py-3 text-sm font-semibold uppercase tracking-[0.25em] text-[#1a1a2e] shadow-lg shadow-[#00ff88]/30 transition focus:outline-none focus:ring-2 focus:ring-[#00ff88] focus:ring-offset-2 focus:ring-offset-slate-900 disabled:opacity-60 font-bold",children:[(0,$m.jsx)("span",{className:"absolute inset-0 translate-y-full bg-white/20 transition duration-300 group-hover:translate-y-0"}),(0,$m.jsx)("span",{className:"relative",children:d?"Creating...":"Create Account"})]})]})]})}const hk=[{id:"mentor",title:"Mentor",accent:"Guide contributors, assign tasks, and track execution.",points:["Task assignment","Progress snapshots","Mentor insights"],gradient:"from-[#00ff88]/40 to-[#2ecc71]/40"},{id:"office_bearer",title:"Office Bearer",accent:"Design events, manage registrations, and broadcast updates.",points:["Event lifecycle","Registrations","Community updates"],gradient:"from-[#2ecc71]/40 to-[#27ae60]/40"}];function fk(){const{user:e,role:n,saveRole:r,loading:i}=Zm(),s=ee(),[a,o]=(0,t.useState)(n||""),[l,c]=(0,t.useState)(!1);(0,t.useEffect)((()=>{i||e?!i&&e&&n&&("mentor"===n?s("/mentor",{replace:!0}):"office_bearer"===n&&s("/office",{replace:!0})):s("/login",{replace:!0})}),[e,n,i,s]);return e?(0,$m.jsxs)("div",{className:"relative min-h-screen overflow-hidden bg-[#04070f] text-white",children:[(0,$m.jsxs)("div",{className:"absolute inset-0 -z-10",children:[(0,$m.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(0,255,136,0.08),transparent_55%)]"}),(0,$m.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom,_rgba(46,204,113,0.12),transparent_45%)]"}),(0,$m.jsx)("div",{className:"absolute -left-24 top-10 h-[26rem] w-[26rem] rounded-full bg-[#00ff88]/20 blur-3xl"}),(0,$m.jsx)("div",{className:"absolute -right-20 bottom-0 h-[30rem] w-[30rem] rounded-full bg-[#2ecc71]/15 blur-3xl"})]}),(0,$m.jsxs)("div",{className:"relative z-10 mx-auto flex min-h-screen max-w-5xl flex-col px-6 py-16",children:[(0,$m.jsxs)("div",{className:"mb-10 text-center",children:[(0,$m.jsx)(lk.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"text-4xl font-semibold text-white",children:"Choose your impact lane."}),(0,$m.jsx)(lk.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1,ease:"easeOut"},className:"mt-3 text-base text-slate-300",children:"Tailor the dashboard experience based on how you contribute to AMC FOSS."})]}),(0,$m.jsx)("div",{className:"grid gap-6 lg:grid-cols-2",children:hk.map(((e,t)=>{const n=a===e.id;return(0,$m.jsxs)(lk.button,{type:"button",onClick:()=>o(e.id),initial:{opacity:0,y:25},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*t},className:"group relative overflow-hidden rounded-3xl border ".concat(n?"border-[#00ff88]/70":"border-white/10 hover:border-white/20"," bg-white/[0.04] p-8 text-left shadow-2xl backdrop-blur transition"),children:[(0,$m.jsx)("div",{className:"absolute inset-0 -z-10 bg-gradient-to-br ".concat(e.gradient," opacity-40")}),(0,$m.jsx)("div",{className:"absolute right-[-40%] top-[-40%] h-56 w-56 rounded-full bg-white/10 blur-3xl transition group-hover:scale-110 ".concat(n?"opacity-70":"opacity-40")}),(0,$m.jsxs)("div",{className:"relative z-10",children:[(0,$m.jsx)("div",{className:"mb-4 inline-flex items-center gap-3 rounded-full border border-white/10 bg-white/5 px-4 py-2 text-xs uppercase tracking-[0.35em] text-[#00ff88]",children:0===t?"Guide":"Orchestrate"}),(0,$m.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,$m.jsx)("h2",{className:"text-2xl font-semibold text-white",children:e.title}),(0,$m.jsx)("span",{className:"flex h-11 w-11 items-center justify-center rounded-2xl border border-white/10 text-lg transition ".concat(n?"bg-[#00ff88]/20 text-[#00ff88]":"bg-white/5 text-slate-200 group-hover:bg-white/10"),children:0===t?"\ud83d\udee0\ufe0f":"\ud83d\udce3"})]}),(0,$m.jsx)("p",{className:"mb-5 text-sm text-slate-300/90",children:e.accent}),(0,$m.jsx)("ul",{className:"space-y-2 text-xs font-medium text-slate-300/80",children:e.points.map((e=>(0,$m.jsxs)("li",{className:"flex items-center gap-2",children:[(0,$m.jsx)("span",{className:"h-2 w-2 rounded-full bg-[#00ff88]"}),e]},e)))})]})]},e.id)}))}),(0,$m.jsxs)(lk.button,{onClick:async()=>{a&&e&&(c(!0),await r(e.uid,a),c(!1),s("mentor"===a?"/mentor":"/office",{replace:!0}))},disabled:!a||l,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"group relative mt-10 inline-flex items-center justify-center overflow-hidden rounded-full bg-gradient-to-r from-[#00ff88] via-[#2ecc71] to-[#27ae60] px-8 py-3 text-sm font-semibold uppercase tracking-[0.3em] text-[#1a1a2e] shadow-xl shadow-[#00ff88]/30 transition focus:outline-none focus:ring-2 focus:ring-[#00ff88] focus:ring-offset-2 focus:ring-offset-slate-900 disabled:cursor-not-allowed disabled:opacity-60 font-bold",children:[(0,$m.jsx)("span",{className:"absolute inset-0 translate-x-[-100%] bg-white/20 transition duration-300 group-hover:translate-x-0"}),(0,$m.jsx)("span",{className:"relative",children:l?"Saving...":"Save & Continue"})]})]})]}):(0,$m.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-slate-950 text-white",children:(0,$m.jsx)("div",{className:"text-sm text-slate-400",children:"Redirecting to login..."})})}function mk(){var e;const{user:n,logout:r}=Zm(),[i,s]=(0,t.useState)(""),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)([]),[m,p]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(""),[x,w]=(0,t.useState)(""),[S,k]=(0,t.useState)(""),[N,E]=(0,t.useState)(""),[T,j]=(0,t.useState)(null),_=(0,t.useMemo)((()=>xu(Xm,"tasks")),[]),C=async()=>{p(!0);try{const e=(await Ed(_)).docs.map((e=>{const t=Re({id:e.id},e.data()),n=(new Date).getTime(),r=t.deadline?new Date(t.deadline).getTime():null,i=!!r&&n>r;return Re(Re({},t),{},{isEnded:i})}));f(e)}finally{p(!1)}},A=async()=>{if(n)try{const e=wu(Xm,"users",n.uid),t=await kd(e);if(t.exists()){const e=t.data();j(e),b(e.name||n.displayName||""),w(e.email||n.email||""),k(e.rollNo||""),E(e.domain||"")}else b(n.displayName||""),w(n.email||""),k(""),E("")}catch(e){console.error("Failed to load mentor profile",e)}};(0,t.useEffect)((()=>{C(),A()}),[n]);return(0,$m.jsxs)("div",{className:"relative min-h-screen overflow-hidden bg-[#03060d] text-white",children:[(0,$m.jsxs)("div",{className:"absolute inset-0 -z-10",children:[(0,$m.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(0,255,136,0.08),transparent_55%)]"}),(0,$m.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom,_rgba(46,204,113,0.12),transparent_50%)]"}),(0,$m.jsx)("div",{className:"absolute -left-28 bottom-10 h-[28rem] w-[28rem] rounded-full bg-[#00ff88]/20 blur-3xl"}),(0,$m.jsx)("div",{className:"absolute -right-32 top-0 h-[26rem] w-[26rem] rounded-full bg-[#2ecc71]/15 blur-3xl"})]}),(0,$m.jsxs)("div",{className:"relative z-10 mx-auto flex min-h-screen max-w-6xl flex-col px-6 py-16 lg:px-12",children:[(0,$m.jsxs)("header",{className:"mb-10 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[(0,$m.jsxs)("div",{children:[(0,$m.jsx)("h1",{className:"text-4xl font-semibold text-white",children:"Mentor Command Deck"}),(0,$m.jsx)("p",{className:"mt-2 text-sm text-slate-300",children:"Build momentum with structured task assignments and real-time status tracking."})]}),(0,$m.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$m.jsx)(je,{to:"/",className:"self-start rounded-full border border-white/10 bg-white/5 px-4 py-2 text-xs font-semibold uppercase tracking-[0.35em] text-slate-300 transition hover:border-[#00ff88]/50 hover:text-[#00ff88]",children:"Go to Home"}),(0,$m.jsx)("button",{onClick:r,className:"self-start rounded-full border border-white/10 bg-white/5 px-4 py-2 text-xs font-semibold uppercase tracking-[0.35em] text-slate-300 transition hover:border-[#00ff88]/50 hover:text-[#00ff88]",children:"Sign Out"})]})]}),(0,$m.jsxs)("div",{className:"grid gap-8 lg:grid-cols-[1.1fr_0.9fr]",children:[(0,$m.jsxs)(lk.div,{initial:{opacity:0,y:25},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"relative overflow-hidden rounded-3xl border border-white/10 bg-white/5 p-8 shadow-2xl backdrop-blur",children:[(0,$m.jsx)("div",{className:"absolute inset-x-0 top-0 h-36 bg-gradient-to-br from-[#00ff88]/25 via-[#2ecc71]/20 to-[#27ae60]/15 blur-3xl"}),(0,$m.jsxs)("div",{className:"relative z-10",children:[(0,$m.jsxs)("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:[(0,$m.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,$m.jsx)("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/10 px-3 py-1 text-xs uppercase tracking-[0.35em] text-[#00ff88]",children:"Mentor Profile"}),(0,$m.jsx)("span",{className:"rounded-full border border-[#00ff88]/40 bg-[#00ff88]/10 px-3 py-1 text-xs font-semibold uppercase tracking-[0.2em] text-[#00ff88]",children:"Live"})]}),!g&&(0,$m.jsxs)("button",{onClick:()=>v(!0),className:"rounded-full border border-[#00ff88]/40 bg-[#00ff88]/10 px-4 py-2 text-xs font-semibold uppercase tracking-[0.3em] text-[#00ff88] transition hover:border-[#00ff88]/60 hover:bg-[#00ff88]/20",children:[(0,$m.jsx)("i",{className:"fas fa-edit mr-2"}),"Edit Profile"]})]}),g?(0,$m.jsxs)("div",{className:"space-y-4",children:[(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Name"}),(0,$m.jsx)("input",{type:"text",value:y,onChange:e=>b(e.target.value),className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/15 focus:ring-2 focus:ring-[#00ff88]/40",required:!0})]}),(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Email"}),(0,$m.jsx)("input",{type:"email",value:x,onChange:e=>w(e.target.value),className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/15 focus:ring-2 focus:ring-[#00ff88]/40",required:!0})]}),(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Roll Number"}),(0,$m.jsx)("input",{type:"text",value:S,onChange:e=>k(e.target.value),className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/15 focus:ring-2 focus:ring-[#00ff88]/40"})]}),(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Domain"}),(0,$m.jsx)("input",{type:"text",value:N,onChange:e=>E(e.target.value),placeholder:"Web Development, Machine Learning, etc.",className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/15 focus:ring-2 focus:ring-[#00ff88]/40"})]}),(0,$m.jsxs)("div",{className:"flex gap-3",children:[(0,$m.jsx)("button",{onClick:async()=>{if(n)try{const e=wu(Xm,"users",n.uid);await Td(e,{name:y,email:x,rollNo:S,domain:N,role:"mentor"},{merge:!0}),v(!1),await A()}catch(e){console.error("Failed to save mentor profile",e),alert("Failed to save profile. Please try again.")}},className:"flex-1 rounded-2xl border border-[#00ff88]/40 bg-[#00ff88]/10 px-4 py-2 text-xs font-semibold uppercase tracking-[0.3em] text-[#00ff88] transition hover:border-[#00ff88]/60 hover:bg-[#00ff88]/20",children:"Save"}),(0,$m.jsx)("button",{onClick:()=>{v(!1),A()},className:"flex-1 rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-xs font-semibold uppercase tracking-[0.3em] text-slate-300 transition hover:border-white/20 hover:bg-white/10",children:"Cancel"})]})]}):(0,$m.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,$m.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 text-sm text-slate-200/90",children:[(0,$m.jsx)("div",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Name"}),(0,$m.jsx)("div",{className:"mt-2 text-lg font-semibold text-white",children:y||(null===n||void 0===n?void 0:n.displayName)||"Mentor"}),S&&(0,$m.jsxs)("div",{className:"mt-2 text-xs text-slate-400",children:["Roll No: ",S]}),(0,$m.jsx)("p",{className:"mt-2 text-xs text-slate-400/90",children:"Encourage contributors, curate tasks, and unlock new iterations together."})]}),(0,$m.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 text-sm text-slate-200/90",children:[(0,$m.jsx)("div",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Contact"}),(0,$m.jsx)("div",{className:"mt-2 text-lg font-semibold text-white",children:x||(null===n||void 0===n?void 0:n.email)}),N&&(0,$m.jsxs)("div",{className:"mt-2 text-xs text-slate-400",children:["Domain: ",(0,$m.jsx)("span",{className:"text-[#00ff88]",children:N})]}),(0,$m.jsxs)("div",{className:"mt-3 text-xs text-slate-400",children:["Mentor ID: ",(0,$m.jsx)("span",{className:"text-[#00ff88]",children:null===n||void 0===n||null===(e=n.uid)||void 0===e?void 0:e.slice(0,8)})]})]})]})]})]}),(0,$m.jsxs)(lk.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1,ease:"easeOut"},className:"relative overflow-hidden rounded-3xl border border-white/10 bg-[#070b18]/95 p-8 shadow-2xl backdrop-blur",children:[(0,$m.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[#00ff88]/15 via-[#2ecc71]/10 to-[#27ae60]/15 opacity-60"}),(0,$m.jsxs)("div",{className:"relative z-10",children:[(0,$m.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Create Mentor Task"}),(0,$m.jsx)("p",{className:"mt-2 text-xs text-slate-400",children:"Create tasks for students to complete. Set deadline and submission form link."}),(0,$m.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i.trim()&&u.trim()&&a&&l.trim()&&n&&(await _d(_,{title:i,deadline:a,formsLink:l,domain:u,createdBy:n.uid,createdByName:y||n.displayName||n.email||"Mentor",createdAt:Rd()}),s(""),o(""),c(""),d(""),await C())},className:"mt-6 space-y-4",children:[(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsxs)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:["Task Title ",(0,$m.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,$m.jsx)("input",{value:i,onChange:e=>s(e.target.value),placeholder:"Ship UI polish for landing hero",className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/15 focus:ring-2 focus:ring-[#00ff88]/40",required:!0})]}),(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsxs)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:["Domain ",(0,$m.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,$m.jsx)("input",{value:u,onChange:e=>d(e.target.value),placeholder:"Web Development, Machine Learning, DevOps, etc.",className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/15 focus:ring-2 focus:ring-[#00ff88]/40",required:!0})]}),(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsxs)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:["Deadline ",(0,$m.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,$m.jsx)("input",{type:"datetime-local",value:a,onChange:e=>o(e.target.value),className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/15 focus:ring-2 focus:ring-[#00ff88]/40",required:!0})]}),(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsxs)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:["Forms Link for Submission ",(0,$m.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,$m.jsx)("input",{type:"url",value:l,onChange:e=>c(e.target.value),placeholder:"https://forms.google.com/...",className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/15 focus:ring-2 focus:ring-[#00ff88]/40",required:!0})]}),(0,$m.jsxs)("button",{className:"group relative inline-flex w-full items-center justify-center overflow-hidden rounded-2xl bg-gradient-to-r from-[#00ff88] via-[#2ecc71] to-[#27ae60] px-6 py-3 text-sm font-semibold uppercase tracking-[0.3em] text-[#1a1a2e] shadow-lg shadow-[#00ff88]/25 transition hover:shadow-[#00ff88]/40 font-bold",children:[(0,$m.jsx)("span",{className:"absolute inset-0 translate-y-full bg-white/20 transition duration-300 group-hover:translate-y-0"}),(0,$m.jsx)("span",{className:"relative",children:"Publish Task"})]})]})]})]})]}),(0,$m.jsxs)(lk.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2,ease:"easeOut"},className:"mt-12 overflow-hidden rounded-3xl border border-white/10 bg-white/5 p-8 shadow-2xl backdrop-blur",children:[(0,$m.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,$m.jsxs)("div",{children:[(0,$m.jsx)("h3",{className:"text-xl font-semibold text-white",children:"All Tasks Log"}),(0,$m.jsx)("p",{className:"text-xs text-slate-400",children:"All tasks posted by mentors across all domains."})]}),m?(0,$m.jsx)("span",{className:"text-xs uppercase tracking-[0.35em] text-emerald-200/90",children:"Refreshing\u2026"}):null]}),(0,$m.jsxs)("div",{className:"mt-6 space-y-4",children:[0!==h.length||m?null:(0,$m.jsx)("div",{className:"rounded-2xl border border-white/10 bg-white/5 px-5 py-10 text-center text-sm text-slate-300",children:"No tasks created yet. Share your first mission with the team!"}),h.map((e=>{const t=e.deadline?new Date(e.deadline):null,n=t?t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Not set";return(0,$m.jsx)("div",{className:"group flex flex-col gap-4 rounded-2xl border border-white/10 bg-white/5 px-6 py-5 transition hover:border-[#00ff88]/40 hover:bg-white/10",children:(0,$m.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-start md:justify-between",children:[(0,$m.jsxs)("div",{className:"flex-1",children:[(0,$m.jsxs)("div",{className:"mb-2 flex items-center gap-3",children:[e.domain&&(0,$m.jsx)("span",{className:"rounded-full border border-[#00ff88]/40 bg-[#00ff88]/10 px-3 py-1 text-xs font-semibold text-[#00ff88]",children:e.domain}),(0,$m.jsxs)("span",{className:"text-lg font-medium text-white",children:["- ",e.title]})]}),(0,$m.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-4 text-xs text-slate-400",children:[(0,$m.jsxs)("div",{children:[(0,$m.jsx)("span",{className:"text-slate-500",children:"Deadline: "}),(0,$m.jsx)("span",{className:"text-white",children:n})]}),e.formsLink&&(0,$m.jsxs)("a",{href:e.formsLink,target:"_blank",rel:"noopener noreferrer",className:"rounded-full border border-[#00ff88]/40 bg-[#00ff88]/10 px-3 py-1 text-[#00ff88] transition hover:border-[#00ff88]/60 hover:bg-[#00ff88]/20",children:[(0,$m.jsx)("i",{className:"fas fa-external-link-alt mr-1"}),"View Response"]}),e.createdByName&&(0,$m.jsxs)("span",{children:["Created by: ",(0,$m.jsx)("span",{className:"text-[#2ecc71]",children:e.createdByName})]})]})]}),(0,$m.jsxs)("div",{className:"flex items-center gap-3 text-xs",children:[(0,$m.jsx)("span",{className:"rounded-full border border-white/10 bg-white/5 px-3 py-1 uppercase tracking-[0.3em] text-slate-400",children:e.id.slice(0,6)}),e.isEnded?(0,$m.jsx)("span",{className:"rounded-full border border-gray-400/40 bg-gray-500/10 px-3 py-1 text-gray-200/80",children:"Ended"}):(0,$m.jsx)("span",{className:"rounded-full border border-[#00ff88]/40 bg-[#00ff88]/10 px-3 py-1 text-[#00ff88]",children:"Active"})]})]})},e.id)}))]})]})]})]})}class pk{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";this.status=e,this.text=t}}const gk={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!==typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},vk=e=>e?"string"===typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},yk=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=await fetch(gk.origin+e,{method:"POST",headers:n,body:t}),i=await r.text(),s=new pk(r.status,i);if(r.ok)return s;throw s},bk=(e,t,n)=>{if(!e||"string"!==typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!==typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||"string"!==typeof n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},xk=e=>e.webdriver||!e.languages||0===e.languages.length,wk=()=>new pk(451,"Unavailable For Headless Browser"),Sk=(e,t)=>{if((e=>{var t;return!(null!==(t=e.list)&&void 0!==t&&t.length)||!e.watchVariable})(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!==typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const n=((e,t)=>e instanceof FormData?e.get(t):e[t])(t,e.watchVariable);return"string"===typeof n&&e.list.includes(n)},kk=()=>new pk(403,"Forbidden"),Nk=async(e,t,n)=>{if(!t.throttle||!n)return!1;((e,t)=>{if("number"!==typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!==typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const r=t.id||e,i=await(async(e,t,n)=>{const r=Number(await n.get(e)||0);return t-Date.now()+r})(r,t.throttle,n);return i>0||(await n.set(r,Date.now().toString()),!1)},Ek=()=>new pk(429,"Too Many Requests"),Tk=async(e,t,n,r)=>{const i=vk(r),s=i.publicKey||gk.publicKey,a=i.blockHeadless||gk.blockHeadless,o=i.storageProvider||gk.storageProvider,l=Re(Re({},gk.blockList),i.blockList),c=Re(Re({},gk.limitRate),i.limitRate);if(a&&xk(navigator))return Promise.reject(wk());if(bk(s,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(n),n&&Sk(l,n))return Promise.reject(kk());if(await Nk(location.pathname,c,o))return Promise.reject(Ek());const u={lib_version:"4.4.1",user_id:s,service_id:e,template_id:t,template_params:n};return yk("/api/v1.0/email/send",JSON.stringify(u),{"Content-type":"application/json"})},jk="amcfoss_event",_k="template_9hrd231",Ck="tllLeT-cxLD_9cOqE";console.log("EmailJS config",jk,_k,Ck);const Ak=async(e,t)=>{const n=(e=>{if(null===e||void 0===e||!e.date)return"https://calendar.google.com/";const t=e.date.replace(/-/g,""),n=e.time?e.time.replace(/:/g,"")+"00":"000000",r=e.time?e.time.replace(/:/g,"")+"00":"235959",i="".concat(t,"T").concat(n,"/").concat(t,"T").concat(r),s=new URLSearchParams({action:"TEMPLATE",text:e.title||"AMC FOSS Event",details:e.description||"AMC FOSS community event",location:e.eventLink||"AMC FOSS",dates:i});return"https://calendar.google.com/calendar/render?".concat(s.toString())})(e),r=t.filter((e=>null===e||void 0===e?void 0:e.email)).map(((t,r)=>{const i={name:t.name||"Participant",email:t.email,event_title:e.title||"AMC FOSS Event",event_date:e.date||"Date TBA",event_time:e.time||"Time TBA",reg_id:t.registrationId||"".concat(e.id,"-").concat(r+1),google_calendar_link:n};return Tk(jk,_k,i,Ck)}));if(!r.length)throw new Error("No participants with email addresses found.");await Promise.all(r)};function Ik(){const{logout:e}=Zm(),[n,r]=(0,t.useState)([]),[i,s]=(0,t.useState)(""),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(""),[m,p]=(0,t.useState)(""),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(null),[x,w]=(0,t.useState)([]),[S,k]=(0,t.useState)(!1),[N,E]=(0,t.useState)([]),[T,j]=(0,t.useState)(!1),[_,C]=(0,t.useState)(null),[A,I]=(0,t.useState)(""),[P,D]=(0,t.useState)(""),[R,L]=(0,t.useState)(""),[O,M]=(0,t.useState)(""),[F,V]=(0,t.useState)(""),[U,z]=(0,t.useState)(""),[B,q]=(0,t.useState)(null),W=(0,t.useMemo)((()=>xu(Xm,"events")),[]),H=(0,t.useMemo)((()=>xu(Xm,"tasks")),[]),G=async()=>{v(!0);try{const e=(await Ed(W)).docs.map((e=>{const t=Re({id:e.id},e.data()),n=Array.isArray(t.registrations)?t.registrations:[],r=n.length,i=t.participantLimit&&r>=t.participantLimit,s=(new Date).getTime();let a=null;if(t.date)if(t.time){const e="".concat(t.date,"T").concat(t.time);a=new Date(e).getTime()}else{const e=new Date(t.date);e.setHours(23,59,59,999),a=e.getTime()}const o=!!a&&s>a,l=!o;return Re(Re({},t),{},{registrations:n,participantCount:r,isFull:i,isEnded:o,isActive:l})})),t=e.sort(((e,t)=>{if(e.isActive!==t.isActive)return e.isActive?-1:1;const n=e.date?new Date(e.date).getTime():0,r=t.date?new Date(t.date).getTime():0;return e.isActive?n-r:r-n}));r(t)}finally{v(!1)}};(0,t.useEffect)((()=>{G(),(async()=>{j(!0);try{const e=(await Ed(H)).docs.map((e=>{const t=Re({id:e.id},e.data()),n=(new Date).getTime(),r=t.deadline?new Date(t.deadline).getTime():null,i=!!r&&n>r;return Re(Re({},t),{},{isEnded:i})}));E(e)}finally{j(!1)}})()}),[]);const K=async e=>{var t;window.confirm("Are you sure you want to delete this event?")&&(await(t=wu(Xm,"events",e),Cd(hu(t.firestore,ku),[new ba(t._key,aa.none())])),await G())},Y=()=>{C(null),I(""),D(""),L(""),M(""),V(""),z("")};return(0,$m.jsxs)("div",{className:"relative min-h-screen overflow-hidden bg-[#03060d] text-white",children:[(0,$m.jsxs)("div",{className:"absolute inset-0 -z-10",children:[(0,$m.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(0,255,136,0.10),transparent_55%)]"}),(0,$m.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom,_rgba(46,204,113,0.12),transparent_55%)]"}),(0,$m.jsx)("div",{className:"absolute -left-24 top-16 h-[30rem] w-[30rem] rounded-full bg-[#00ff88]/15 blur-3xl"}),(0,$m.jsx)("div",{className:"absolute -right-24 bottom-10 h-[26rem] w-[26rem] rounded-full bg-[#2ecc71]/20 blur-3xl"})]}),(0,$m.jsxs)("div",{className:"relative z-10 mx-auto flex min-h-screen max-w-6xl flex-col px-6 py-16 lg:px-12",children:[(0,$m.jsxs)("header",{className:"mb-10 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[(0,$m.jsxs)("div",{children:[(0,$m.jsx)("h1",{className:"text-4xl font-semibold text-white",children:"Office Bearer Studio"}),(0,$m.jsx)("p",{className:"mt-2 text-sm text-slate-300",children:"Curate AMC FOSS experiences, launch events, and keep the community pulse alive."})]}),(0,$m.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$m.jsx)(je,{to:"/",className:"self-start rounded-full border border-white/10 bg-white/5 px-4 py-2 text-xs font-semibold uppercase tracking-[0.35em] text-slate-300 transition hover:border-emerald-400/50 hover:text-emerald-200",children:"Go to Home"}),(0,$m.jsx)("button",{onClick:e,className:"self-start rounded-full border border-white/10 bg-white/5 px-4 py-2 text-xs font-semibold uppercase tracking-[0.35em] text-slate-300 transition hover:border-[#00ff88]/50 hover:text-[#00ff88]",children:"Sign Out"})]})]}),(0,$m.jsxs)("div",{className:"grid gap-8 lg:grid-cols-[1.1fr_0.9fr]",children:[(0,$m.jsxs)(lk.div,{initial:{opacity:0,y:25},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"relative overflow-hidden rounded-3xl border border-white/10 bg-white/5 p-8 shadow-2xl backdrop-blur",children:[(0,$m.jsx)("div",{className:"absolute inset-x-0 top-0 h-36 bg-gradient-to-br from-[#00ff88]/20 via-[#2ecc71]/15 to-[#27ae60]/10 blur-3xl"}),(0,$m.jsxs)("div",{className:"relative z-10",children:[(0,$m.jsx)("div",{className:"mb-6 inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/10 px-4 py-2 text-xs uppercase tracking-[0.35em] text-[#00ff88]",children:"Event Ledger"}),(0,$m.jsxs)("div",{className:"event-ledger-scroll flex flex-col gap-5 max-h-[60vh] overflow-y-auto pr-2",children:[g?(0,$m.jsx)("div",{className:"rounded-2xl border border-white/10 bg-white/5 px-4 py-6 text-sm text-slate-300",children:"Fetching latest events\u2026"}):null,0!==n.length||g?null:(0,$m.jsx)("div",{className:"rounded-2xl border border-white/10 bg-white/5 px-4 py-8 text-center text-sm text-slate-300",children:"No events scheduled yet. Start by creating your first community experience!"}),n.map((e=>(0,$m.jsxs)(lk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"group flex flex-col gap-4 rounded-2xl border border-white/10 bg-white/5 px-6 py-6 transition hover:border-[#00ff88]/40 hover:bg-white/10 md:flex-row md:items-center md:justify-between",children:[(0,$m.jsxs)("div",{children:[(0,$m.jsx)("div",{className:"text-lg font-semibold text-white",children:e.title}),(0,$m.jsx)("div",{className:"mt-1 text-xs uppercase tracking-[0.25em] text-[#00ff88]",children:e.date}),e.description?(0,$m.jsx)("p",{className:"mt-3 max-w-xl text-sm text-slate-300/90",children:e.description}):null,e.participantLimit&&(0,$m.jsxs)("div",{className:"mt-2 text-xs text-slate-400",children:[e.participantCount||0,"/",e.participantLimit," spots",e.isFull&&(0,$m.jsx)("span",{className:"ml-2 text-red-400",children:"(Full)"})]}),(0,$m.jsx)("div",{className:"mt-2",children:e.isActive?(0,$m.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-[#00ff88]/40 bg-[#00ff88]/10 px-3 py-1 text-xs font-semibold text-[#00ff88]",children:"Active"}):(0,$m.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-gray-400/40 bg-gray-500/10 px-3 py-1 text-xs font-semibold text-gray-300",children:"Ended"})})]}),(0,$m.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,$m.jsx)("button",{onClick:()=>(e=>{b(e),w(Array.isArray(e.registrations)?e.registrations:[]),k(!0)})(e),className:"rounded-full border border-white/10 bg-white/5 px-4 py-2 text-xs font-semibold uppercase tracking-[0.3em] text-slate-200 transition hover:border-[#00ff88]/60 hover:text-[#00ff88]",children:"View Participants"}),(0,$m.jsx)("button",{onClick:()=>(async e=>{const t=Array.isArray(e.registrations)?e.registrations:[];if(t.length)try{q(e.id),await Ak(e,t),alert("Emails sent to ".concat(t.length," participant").concat(t.length>1?"s":"","."))}catch(n){console.error("Failed to send emails:",n),alert(n.message||"Failed to send emails. Check console for details.")}finally{q(null)}else alert("No participants to notify for this event.")})(e),disabled:B===e.id,className:"rounded-full border border-emerald-400/40 bg-emerald-500/20 px-4 py-2 text-xs font-semibold uppercase tracking-[0.3em] text-emerald-200 transition hover:border-emerald-400 hover:bg-emerald-500/30 disabled:opacity-60 disabled:cursor-not-allowed",children:B===e.id?"Sending...":"Notify Participants"}),e.isActive&&(0,$m.jsx)("button",{onClick:()=>(e=>{C(e),I(e.title||""),D(e.date||""),L(e.time||""),M(e.description||""),V(e.participantLimit?e.participantLimit.toString():""),z(e.eventLink||"")})(e),className:"rounded-full border border-blue-400/40 bg-blue-500/20 px-4 py-2 text-xs font-semibold uppercase tracking-[0.3em] text-blue-200 transition hover:border-blue-400 hover:bg-blue-500/30",children:"Edit"}),(0,$m.jsx)("button",{onClick:()=>K(e.id),className:"rounded-full border border-red-400/40 bg-red-500/20 px-4 py-2 text-xs font-semibold uppercase tracking-[0.3em] text-red-200 transition hover:border-red-400 hover:bg-red-500/30",children:"Delete"})]})]},e.id)))]})]})]}),(0,$m.jsxs)(lk.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1,ease:"easeOut"},className:"relative overflow-hidden rounded-3xl border border-white/10 bg-[#070b18]/95 p-8 shadow-2xl backdrop-blur",children:[(0,$m.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[#00ff88]/20 via-[#2ecc71]/15 to-[#27ae60]/20 opacity-70"}),(0,$m.jsxs)("div",{className:"relative z-10",children:[(0,$m.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Launch New Event"}),(0,$m.jsx)("p",{className:"mt-2 text-xs text-slate-400",children:"Craft the next open source happening\u2014share the story, date, and vision."}),(0,$m.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i.trim()&&a&&(await _d(W,{title:i,date:a,time:l||null,description:u||"",participantLimit:h?parseInt(h):null,eventLink:m.trim()||null,registrations:[],createdAt:Rd()}),s(""),o(""),c(""),d(""),f(""),p(""),await G())},className:"mt-6 space-y-5",children:[(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Event Title"}),(0,$m.jsx)("input",{value:i,onChange:e=>s(e.target.value),placeholder:"Zero to Production Workshop",className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/15 focus:ring-2 focus:ring-[#00ff88]/40",required:!0})]}),(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Event Date"}),(0,$m.jsx)("input",{type:"date",value:a,onChange:e=>o(e.target.value),className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/15 focus:ring-2 focus:ring-[#00ff88]/40",required:!0})]}),(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Event Time (Optional)"}),(0,$m.jsx)("input",{type:"time",value:l,onChange:e=>c(e.target.value),className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/15 focus:ring-2 focus:ring-[#00ff88]/40"})]}),(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Event Link (Optional)"}),(0,$m.jsx)("input",{type:"url",value:m,onChange:e=>p(e.target.value),placeholder:"https://meet.google.com/...",className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/15 focus:ring-2 focus:ring-[#00ff88]/40"})]}),(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Event Narrative"}),(0,$m.jsx)("textarea",{value:u,onChange:e=>d(e.target.value),placeholder:"Describe the experience, speaker lineup, or expected outcomes.",className:"h-32 w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-indigo-400/70 focus:bg-white/15 focus:ring-2 focus:ring-indigo-400/40"})]}),(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Participant Limit (Optional)"}),(0,$m.jsx)("input",{type:"number",min:"1",value:h,onChange:e=>f(e.target.value),placeholder:"Leave empty for unlimited",className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/15 focus:ring-2 focus:ring-[#00ff88]/40"})]}),(0,$m.jsxs)("button",{className:"group relative inline-flex w-full items-center justify-center overflow-hidden rounded-2xl bg-gradient-to-r from-[#00ff88] via-[#2ecc71] to-[#27ae60] px-6 py-3 text-sm font-semibold uppercase tracking-[0.3em] text-[#1a1a2e] shadow-lg shadow-[#00ff88]/30 transition hover:shadow-[#00ff88]/45 font-bold",children:[(0,$m.jsx)("span",{className:"absolute inset-0 translate-y-full bg-white/20 transition duration-300 group-hover:translate-y-0"}),(0,$m.jsx)("span",{className:"relative",children:"Publish Event"})]})]})]})]})]}),(0,$m.jsxs)(lk.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3,ease:"easeOut"},className:"mt-12 overflow-hidden rounded-3xl border border-white/10 bg-white/5 p-8 shadow-2xl backdrop-blur",children:[(0,$m.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,$m.jsxs)("div",{children:[(0,$m.jsx)("h3",{className:"text-xl font-semibold text-white",children:"All Mentor Tasks"}),(0,$m.jsx)("p",{className:"text-xs text-slate-400",children:"Track all tasks created by mentors across all domains."})]}),T?(0,$m.jsx)("span",{className:"text-xs uppercase tracking-[0.35em] text-[#00ff88]",children:"Refreshing\u2026"}):null]}),(0,$m.jsxs)("div",{className:"mt-6 space-y-4",children:[0!==N.length||T?null:(0,$m.jsx)("div",{className:"rounded-2xl border border-white/10 bg-white/5 px-5 py-10 text-center text-sm text-slate-300",children:"No tasks created yet by mentors."}),N.map((e=>{const t=e.deadline?new Date(e.deadline):null,n=t?t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Not set";return(0,$m.jsx)("div",{className:"group flex flex-col gap-4 rounded-2xl border border-white/10 bg-white/5 px-6 py-5 transition hover:border-[#00ff88]/40 hover:bg-white/10",children:(0,$m.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-start md:justify-between",children:[(0,$m.jsxs)("div",{className:"flex-1",children:[(0,$m.jsxs)("div",{className:"mb-2 flex items-center gap-3",children:[e.domain&&(0,$m.jsx)("span",{className:"rounded-full border border-[#00ff88]/40 bg-[#00ff88]/10 px-3 py-1 text-xs font-semibold text-[#00ff88]",children:e.domain}),(0,$m.jsxs)("span",{className:"text-lg font-medium text-white",children:["- ",e.title]})]}),(0,$m.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-4 text-xs text-slate-400",children:[(0,$m.jsxs)("div",{children:[(0,$m.jsx)("span",{className:"text-slate-500",children:"Deadline: "}),(0,$m.jsx)("span",{className:"text-white",children:n})]}),e.formsLink&&(0,$m.jsxs)("a",{href:e.formsLink,target:"_blank",rel:"noopener noreferrer",className:"rounded-full border border-[#00ff88]/40 bg-[#00ff88]/10 px-3 py-1 text-[#00ff88] transition hover:border-[#00ff88]/60 hover:bg-[#00ff88]/20",children:[(0,$m.jsx)("i",{className:"fas fa-external-link-alt mr-1"}),"View Response"]}),e.createdByName&&(0,$m.jsxs)("span",{children:["Created by: ",(0,$m.jsx)("span",{className:"text-[#2ecc71]",children:e.createdByName})]})]})]}),(0,$m.jsxs)("div",{className:"flex items-center gap-3 text-xs",children:[(0,$m.jsx)("span",{className:"rounded-full border border-white/10 bg-white/5 px-3 py-1 uppercase tracking-[0.3em] text-slate-400",children:e.id.slice(0,6)}),e.isEnded?(0,$m.jsx)("span",{className:"rounded-full border border-gray-400/40 bg-gray-500/10 px-3 py-1 text-gray-200/80",children:"Ended"}):(0,$m.jsx)("span",{className:"rounded-full border border-[#00ff88]/40 bg-[#00ff88]/10 px-3 py-1 text-[#00ff88]",children:"Active"})]})]})},e.id)}))]})]}),S&&(0,$m.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,$m.jsxs)(lk.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative max-h-[80vh] w-full max-w-2xl overflow-hidden rounded-3xl border border-white/10 bg-[#03060d] p-6 shadow-2xl",children:[(0,$m.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,$m.jsxs)("div",{children:[(0,$m.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Participants List"}),y?(0,$m.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-[#00ff88] mt-1",children:y.title}):null]}),(0,$m.jsx)("button",{onClick:()=>{k(!1),w([]),b(null)},className:"rounded-full border border-white/10 bg-white/5 px-4 py-2 text-xs font-semibold uppercase tracking-[0.3em] text-slate-300 transition hover:border-red-400/50 hover:text-red-200",children:"Close"})]}),(0,$m.jsx)("div",{className:"max-h-[60vh] overflow-y-auto",children:0===x.length?(0,$m.jsx)("div",{className:"py-8 text-center text-sm text-slate-300",children:"No participants yet"}):(0,$m.jsx)("div",{className:"space-y-3",children:x.map((e=>(0,$m.jsx)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:(0,$m.jsx)("div",{className:"flex items-center justify-between",children:(0,$m.jsxs)("div",{children:[(0,$m.jsx)("div",{className:"font-semibold text-white",children:e.name}),(0,$m.jsx)("div",{className:"mt-1 text-xs text-slate-400",children:e.email}),(0,$m.jsxs)("div",{className:"mt-1 text-xs text-slate-400",children:[e.rollNo," \u2022 ",e.department," \u2022 Year ",e.year]}),e.phone&&(0,$m.jsxs)("div",{className:"mt-1 text-xs text-slate-400",children:["Phone: ",e.phone]})]})})},e.email+e.rollNo)))})})]})}),_&&(0,$m.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,$m.jsxs)(lk.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative max-h-[90vh] w-full max-w-2xl overflow-y-auto rounded-3xl border border-white/10 bg-[#03060d] p-8 shadow-2xl",children:[(0,$m.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,$m.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Edit Event"}),(0,$m.jsx)("button",{onClick:Y,className:"rounded-full border border-white/10 bg-white/5 px-4 py-2 text-xs font-semibold uppercase tracking-[0.3em] text-slate-300 transition hover:border-red-400/50 hover:text-red-200",children:"Cancel"})]}),(0,$m.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),_&&(await(async(e,t)=>{const n=wu(Xm,"events",e);await jd(n,t),await G()})(_.id,{title:A,date:P,time:R||null,description:O,participantLimit:F?parseInt(F):null,eventLink:U.trim()||null}),Y())},className:"space-y-5",children:[(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Event Title"}),(0,$m.jsx)("input",{value:A,onChange:e=>I(e.target.value),placeholder:"Zero to Production Workshop",className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/15 focus:ring-2 focus:ring-[#00ff88]/40",required:!0})]}),(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Event Date"}),(0,$m.jsx)("input",{type:"date",value:P,onChange:e=>D(e.target.value),className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/15 focus:ring-2 focus:ring-[#00ff88]/40",required:!0})]}),(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Event Time (Optional)"}),(0,$m.jsx)("input",{type:"time",value:R,onChange:e=>L(e.target.value),className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/15 focus:ring-2 focus:ring-[#00ff88]/40"})]}),(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Event Link (Optional)"}),(0,$m.jsx)("input",{type:"url",value:U,onChange:e=>z(e.target.value),placeholder:"https://meet.google.com/...",className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/15 focus:ring-2 focus:ring-[#00ff88]/40"})]}),(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Event Narrative"}),(0,$m.jsx)("textarea",{value:O,onChange:e=>M(e.target.value),placeholder:"Describe the experience, speaker lineup, or expected outcomes.",className:"h-32 w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-indigo-400/70 focus:bg-white/15 focus:ring-2 focus:ring-indigo-400/40"})]}),(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Participant Limit (Optional)"}),(0,$m.jsx)("input",{type:"number",min:"1",value:F,onChange:e=>V(e.target.value),placeholder:"Leave empty for unlimited",className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-[#00ff88]/70 focus:bg-white/15 focus:ring-2 focus:ring-[#00ff88]/40"})]}),(0,$m.jsxs)("button",{type:"submit",className:"group relative inline-flex w-full items-center justify-center overflow-hidden rounded-2xl bg-gradient-to-r from-[#00ff88] via-[#2ecc71] to-[#27ae60] px-6 py-3 text-sm font-semibold uppercase tracking-[0.3em] text-[#1a1a2e] shadow-lg shadow-[#00ff88]/30 transition hover:shadow-[#00ff88]/45 font-bold",children:[(0,$m.jsx)("span",{className:"absolute inset-0 translate-y-full bg-white/20 transition duration-300 group-hover:translate-y-0"}),(0,$m.jsx)("span",{className:"relative",children:"Save Changes"})]})]})]})})]})]})}function Pk(){const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!1),[s,a]=(0,t.useState)(null),o=(0,t.useMemo)((()=>xu(Xm,"events")),[]);return(0,t.useEffect)((()=>{(async()=>{i(!0),a(null);try{const e=(await Ed(o)).docs.map((e=>{const t=Re({id:e.id},e.data()),n=Array.isArray(t.registrations)?t.registrations:[],r=(new Date).getTime();let i=null;if(t.date)if(t.time){const e="".concat(t.date,"T").concat(t.time);i=new Date(e).getTime()}else{const e=new Date(t.date);e.setHours(23,59,59,999),i=e.getTime()}const s=!!i&&r>i,a=n.length,o=t.participantLimit&&a>=t.participantLimit;return Re(Re({},t),{},{registrations:n,participantCount:a,isFull:o,isEnded:s})})),t=e.sort(((e,t)=>{const n=e.date?new Date(e.date).getTime():0,r=t.date?new Date(t.date).getTime():0,i=(new Date).getTime(),s=e.isEnded||n&&i>n;return s===(t.isEnded||r&&i>r)?s?r-n:n-r:s?1:-1}));n(t),console.log("Events loaded:",t.length,"events")}catch(e){console.error("Failed to load events:",e),console.error("Error details:",{code:e.code,message:e.message,stack:e.stack});let t="Failed to load events. Please try again later.";"permission-denied"===e.code?t="Unable to load events. Please check Firebase security rules allow public read access to 'events' collection.":"unavailable"===e.code?t="Network error. Please check your internet connection and try again.":e.message&&(t="Error: ".concat(e.message)),a(t),n([])}finally{i(!1)}})()}),[o]),(0,$m.jsxs)("div",{className:"relative min-h-screen overflow-hidden bg-[#02050c] text-white",children:[(0,$m.jsxs)("div",{className:"absolute inset-0 -z-10",children:[(0,$m.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(129,140,248,0.22),transparent_60%)]"}),(0,$m.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom,_rgba(34,197,94,0.18),transparent_50%)]"}),(0,$m.jsx)("div",{className:"absolute -left-24 top-12 h-[26rem] w-[26rem] rounded-full bg-indigo-500/25 blur-3xl"}),(0,$m.jsx)("div",{className:"absolute -right-24 bottom-8 h-[28rem] w-[28rem] rounded-full bg-emerald-500/25 blur-3xl"})]}),(0,$m.jsxs)("div",{className:"relative z-10 mx-auto flex min-h-screen max-w-6xl flex-col px-4 py-16 sm:px-6 lg:px-12",children:[(0,$m.jsxs)(lk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"mb-12 flex flex-col gap-4 text-center lg:mb-16",children:[(0,$m.jsx)("span",{className:"mx-auto inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/10 px-4 py-2 text-xs uppercase tracking-[0.35em] text-indigo-200/80",children:"Calendar"}),(0,$m.jsx)("h1",{className:"text-4xl font-semibold text-white sm:text-5xl",children:"Upcoming AMC FOSS Lineup"}),(0,$m.jsx)("p",{className:"mx-auto max-w-2xl text-sm text-slate-300",children:"Dive into next-gen hackathons, community jams, and lightning talks. Register to reserve your seat and receive mission briefs right in your inbox."})]}),r?(0,$m.jsx)(lk.div,{initial:{opacity:0},animate:{opacity:1},className:"rounded-3xl border border-white/10 bg-white/5 px-6 py-6 text-center text-sm text-slate-300 backdrop-blur",children:"Fetching events from the community desk\u2026"}):null,s?(0,$m.jsxs)(lk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8 rounded-3xl border border-red-500/40 bg-red-500/10 px-6 py-8 text-center backdrop-blur",children:[(0,$m.jsx)("div",{className:"mb-2 text-lg font-semibold text-red-300",children:"\u26a0\ufe0f Error Loading Events"}),(0,$m.jsx)("p",{className:"text-sm text-red-200/90",children:s}),(0,$m.jsx)("p",{className:"mt-4 text-xs text-slate-400",children:"If you're the administrator, please update Firebase Firestore security rules to allow public read access."})]}):null,(0,$m.jsxs)("div",{className:"mt-8 sm:mt-12 events-grid-modern w-full",children:[(0,$m.jsxs)(lk.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5},className:"event-card-modern",children:[(0,$m.jsxs)("div",{className:"event-date-modern",children:[(0,$m.jsx)("span",{className:"day-modern",children:"18"}),(0,$m.jsx)("span",{className:"month-modern",children:"FEB"})]}),(0,$m.jsxs)("div",{className:"event-details-modern",children:[(0,$m.jsxs)("div",{className:"event-header-modern",children:[(0,$m.jsx)("h2",{className:"event-title-modern",children:"Fourth Wing"}),(0,$m.jsx)("span",{className:"event-badge-modern event-ended-badge-modern",children:"Began"})]}),(0,$m.jsx)("p",{className:"event-description-modern",children:"Join us for an amazing event!"}),(0,$m.jsx)("div",{className:"event-footer-modern",children:(0,$m.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,$m.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,$m.jsxs)(je,{to:"/round1",className:"register-btn-modern",style:{background:"linear-gradient(135deg, #667eea, #764ba2)",borderColor:"#667eea"},children:["Go to Round 1 (MCQ)",(0,$m.jsx)("i",{className:"fas fa-arrow-right"})]}),(0,$m.jsxs)(je,{to:"/round2",className:"register-btn-modern",style:{background:"linear-gradient(135deg, #ec4899, #8b5cf6)",borderColor:"#ec4899"},children:["Go to Round 2.0",(0,$m.jsx)("i",{className:"fas fa-arrow-right"})]})]}),(0,$m.jsxs)("button",{className:"register-btn-modern disabled event-ended-btn-modern",disabled:!0,children:[(0,$m.jsx)("i",{className:"fas fa-calendar-check"}),"Event Began"]})]})})]})]}),e.map(((e,t)=>{const n=e.date?new Date(e.date):null;let r=n?n.getDate():"TBA",i=n?n.toLocaleDateString("en-US",{month:"short"}).toUpperCase():"TBA";return e.title&&e.title.toLowerCase().includes("fourth wing")&&(r="18",i="FEB"),(0,$m.jsxs)(lk.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.06*t},className:"event-card-modern",children:[(0,$m.jsxs)("div",{className:"event-date-modern",children:[(0,$m.jsx)("span",{className:"day-modern",children:r}),(0,$m.jsx)("span",{className:"month-modern",children:i})]}),(0,$m.jsxs)("div",{className:"event-details-modern",children:[(0,$m.jsxs)("div",{className:"event-header-modern",children:[(0,$m.jsx)("h2",{className:"event-title-modern",children:e.title}),e.isEnded?(0,$m.jsx)("span",{className:"event-badge-modern event-ended-badge-modern",children:"Began"}):(0,$m.jsx)("span",{className:"event-badge-modern",children:"On Campus"})]}),e.description?(0,$m.jsx)("p",{className:"event-description-modern",children:e.description}):(0,$m.jsx)("p",{className:"event-description-modern",children:"Event details coming soon. Stay tuned for the full agenda drop."}),(0,$m.jsxs)("div",{className:"event-footer-modern",children:[e.participantLimit&&(0,$m.jsxs)("div",{className:"participant-info-modern",children:[(0,$m.jsxs)("div",{className:"participant-badge-modern",children:[(0,$m.jsx)("i",{className:"fas fa-users"}),(0,$m.jsxs)("span",{children:[e.participantCount||0,"/",e.participantLimit]})]}),e.isFull&&!e.isEnded&&(0,$m.jsx)("div",{className:"event-full-modern",children:"Full"}),e.isEnded&&(0,$m.jsx)("div",{className:"event-ended-badge-modern-inline",children:"Began"})]}),e.isEnded?(0,$m.jsxs)("button",{className:"register-btn-modern disabled event-ended-btn-modern",disabled:!0,children:[(0,$m.jsx)("i",{className:"fas fa-calendar-check"}),"Event Began"]}):e.isFull?(0,$m.jsx)("button",{className:"register-btn-modern disabled",disabled:!0,children:"Event Full"}):(0,$m.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,$m.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,$m.jsxs)(je,{to:"/events/".concat(e.id),className:"register-btn-modern",children:["Register",(0,$m.jsx)("i",{className:"fas fa-arrow-right"})]}),e.eventLink&&(0,$m.jsxs)("a",{href:e.eventLink,target:"_blank",rel:"noopener noreferrer",className:"register-btn-modern join-now-btn",children:["Join Now",(0,$m.jsx)("i",{className:"fas fa-external-link-alt"})]}),e.title&&e.title.toLowerCase().includes("fourth wing")&&(0,$m.jsxs)($m.Fragment,{children:[(0,$m.jsxs)(je,{to:"/round1",className:"register-btn-modern",style:{background:"linear-gradient(135deg, #667eea, #764ba2)",borderColor:"#667eea"},children:["Go to Round 1 (MCQ)",(0,$m.jsx)("i",{className:"fas fa-arrow-right",style:{marginLeft:"0.5rem"}})]}),(0,$m.jsxs)(je,{to:"/round2",className:"register-btn-modern",style:{background:"linear-gradient(135deg, #ec4899, #8b5cf6)",borderColor:"#ec4899"},children:["Go to Round 2.0",(0,$m.jsx)("i",{className:"fas fa-arrow-right",style:{marginLeft:"0.5rem"}})]})]})]}),e.hasPrelims&&(()=>{const t=(new Date).getTime(),n=e.prelimsDeadline?new Date(e.prelimsDeadline).getTime():null,r=n&&t>n;return(0,$m.jsxs)("div",{className:"flex flex-col gap-2 mt-2",children:[n&&(0,$m.jsxs)("div",{className:"text-xs text-slate-400",children:[(0,$m.jsx)("i",{className:"fas fa-clock mr-1"}),"Prelims Deadline: ",new Date(e.prelimsDeadline).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),r?(0,$m.jsxs)("button",{className:"register-btn-modern disabled",disabled:!0,children:[(0,$m.jsx)("i",{className:"fas fa-hourglass-end"}),"Prelims Closed"]}):(0,$m.jsxs)(je,{to:"/exam",className:"register-btn-modern prelims-btn",style:{background:"linear-gradient(135deg, #f59e0b, #d97706)",borderColor:"#f59e0b"},children:[(0,$m.jsx)("i",{className:"fas fa-pen-fancy"}),"Start Prelims"]})]})})()]})]})]})]},e.id)}))]}),0!==e.length||r?null:(0,$m.jsx)("div",{className:"mt-10 rounded-3xl border border-white/10 bg-white/5 px-6 py-12 text-center text-sm text-slate-300 backdrop-blur",children:"No events published yet. Check back soon or reach out to office bearers to seed the next gathering!"})]})]})}const Dk=["CSE","AIE","CYS","CCE","ECE","MECH","ARE","RAI","AIDS"];function Rk(){const{id:e}=function(){let{matches:e}=t.useContext(Q),n=e[e.length-1];return n?n.params:{}}(),n=ee(),[r,i]=(0,t.useState)(null),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(0),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(""),[p,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(""),[b,x]=(0,t.useState)(""),[w,S]=(0,t.useState)(""),[k,N]=(0,t.useState)(""),[E,T]=(0,t.useState)(!1),[j,_]=(0,t.useState)(!1);(0,t.useEffect)((()=>{(async()=>{a(!0);try{const t=await kd(wu(Xm,"events",e));if(t.exists()){const e=Re({id:t.id},t.data()),n=Array.isArray(e.registrations)?e.registrations:[],r=(new Date).getTime();let s=null;if(e.date)if(e.time){const t="".concat(e.date,"T").concat(e.time);s=new Date(t).getTime()}else{const t=new Date(e.date);t.setHours(23,59,59,999),s=t.getTime()}const a=!!s&&r>s,o=n.length,c=e.participantLimit&&o>=e.participantLimit;i(Re(Re({},e),{},{registrations:n})),l(o),u(c),h(a)}else i(null)}catch(t){console.error("Failed to load event:",t),"permission-denied"===t.code?alert("Permission denied. Please check Firebase security rules allow public read access to events."):alert("Failed to load event. Please try again."),i(null)}finally{a(!1)}})()}),[e]);return(0,$m.jsxs)("div",{className:"relative min-h-screen overflow-hidden bg-[#02050c] text-white",children:[(0,$m.jsxs)("div",{className:"absolute inset-0 -z-10",children:[(0,$m.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(79,70,229,0.22),transparent_60%)]"}),(0,$m.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom,_rgba(16,185,129,0.2),transparent_55%)]"}),(0,$m.jsx)("div",{className:"absolute -left-24 top-16 h-[26rem] w-[26rem] rounded-full bg-brand-500/25 blur-3xl"}),(0,$m.jsx)("div",{className:"absolute -right-24 bottom-10 h-[28rem] w-[28rem] rounded-full bg-emerald-500/25 blur-3xl"})]}),(0,$m.jsxs)("div",{className:"relative z-10 mx-auto flex min-h-screen max-w-4xl flex-col px-6 py-16",children:[s?(0,$m.jsx)("div",{className:"rounded-3xl border border-white/10 bg-white/5 px-6 py-6 text-center text-sm text-slate-300 backdrop-blur",children:"Loading event details\u2026"}):null,r?(0,$m.jsxs)($m.Fragment,{children:[(0,$m.jsx)(lk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"mb-10 rounded-3xl border border-white/10 bg-white/5 p-8 shadow-2xl backdrop-blur",children:(0,$m.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,$m.jsxs)("div",{children:[(0,$m.jsx)("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/10 px-4 py-2 text-xs uppercase tracking-[0.35em] text-indigo-200/80",children:"Registration"}),(0,$m.jsx)("h1",{className:"mt-4 text-3xl font-semibold text-white",children:r.title}),(0,$m.jsx)("div",{className:"mt-2 text-xs uppercase tracking-[0.35em] text-emerald-200/90",children:r.date?new Date(r.date).toLocaleDateString(void 0,{dateStyle:"full"}):"Date TBA"}),r.participantLimit&&(0,$m.jsxs)("div",{className:"mt-2 text-xs text-slate-300",children:[o,"/",r.participantLimit," spots",c&&!d&&(0,$m.jsx)("span",{className:"ml-2 font-semibold text-red-400",children:"(Full)"}),d&&(0,$m.jsx)("span",{className:"ml-2 font-semibold text-gray-400",children:"(Ended)"})]}),d&&!r.participantLimit&&(0,$m.jsx)("div",{className:"mt-2 text-xs font-semibold text-gray-400",children:"Event Ended"})]}),(0,$m.jsx)("div",{className:"rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-slate-300",children:r.description||"Join us for an immersive AMC FOSS experience crafted by our office bearers."})]})}),(0,$m.jsxs)(lk.form,{onSubmit:async t=>{if(t.preventDefault(),d)alert("This event has ended. Registration is closed.");else if(c)alert("This event is full. Registration is closed.");else{_(!0);try{const t=(new Date).toISOString(),s={name:f,rollNo:p,email:v,department:b,year:w,phone:k,createdAt:t};let a=o;await function(e,t,n){e=hu(e,ku);const r=Object.assign(Object.assign({},Id),n);return function(e){if(e.maxAttempts<1)throw new hr(dr.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new fr;return e.asyncQueue.enqueueAndForget((async()=>{const i=await nu(e);new Qc(e.asyncQueue,i,n,t,r).au()})),r.promise}(Nu(e),(n=>t(new Dd(e,n))),r)}(Xm,(async t=>{const n=wu(Xm,"events",e),r=await t.get(n);if(!r.exists())throw new Error("Event not found");const i=r.data(),o=Array.isArray(i.registrations)?i.registrations:[],l=v.toLowerCase().trim(),c=p.toLowerCase().trim(),u=k.trim().replace(/\s+/g,"");if(o.some((e=>{const t=e.email?e.email.toLowerCase().trim():"",n=e.rollNo?e.rollNo.toLowerCase().trim():"",r=e.phone?e.phone.trim().replace(/\s+/g,""):"";return t&&l&&t===l||n&&c&&n===c||r&&u&&r===u})))throw new Error("You are already registered for this event with the same email, roll number, or phone number");const d=(new Date).getTime();let h=null;if(i.date)if(i.time){const e="".concat(i.date,"T").concat(i.time);h=new Date(e).getTime()}else{const e=new Date(i.date);e.setHours(23,59,59,999),h=e.getTime()}if(!!h&&d>h)throw new Error("Event has ended");if(i.participantLimit&&o.length>=i.participantLimit)throw new Error("Event full");t.update(n,{registrations:[...o,s]}),a=o.length+1}));const c=[...(null===r||void 0===r?void 0:r.registrations)||[],s];i((e=>e?Re(Re({},e),{},{registrations:c}):e)),l(a),null!==r&&void 0!==r&&r.participantLimit&&a>=r.participantLimit&&u(!0),T(!0),m(""),g(""),y(""),x(""),S(""),N(""),setTimeout((()=>{n("/")}),2e3)}catch(s){console.error("Registration failed",s);let e="Registration failed. Please try again.";"permission-denied"===s.code?e="Permission denied. Please check Firebase security rules allow public registration for events.":"Event has ended"===s.message?(e="This event has ended. Registration is closed.",h(!0)):"Event full"===s.message?(e="This event is now full. Registration is closed.",u(!0)):"Event not found"===s.message?e="Event not found. Please check the registration link.":"You are already registered for this event"===s.message||s.message.includes("already registered")?e="You are already registered for this event.":s.message&&(e=s.message),alert(e)}finally{_(!1)}}},initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1,ease:"easeOut"},className:"relative overflow-hidden rounded-3xl border border-white/10 bg-[#070b17]/95 p-8 shadow-2xl backdrop-blur",children:[(0,$m.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/15 via-brand-500/10 to-emerald-500/15 opacity-70"}),(0,$m.jsxs)("div",{className:"relative z-10 space-y-6",children:[d?(0,$m.jsx)("div",{className:"rounded-2xl border border-gray-400/40 bg-gray-500/20 px-4 py-3 text-sm font-medium text-gray-200",children:"This event has ended. Registration is closed."}):c?(0,$m.jsx)("div",{className:"rounded-2xl border border-red-400/40 bg-red-500/20 px-4 py-3 text-sm font-medium text-red-200",children:"This event is full. Registration is closed."}):E?(0,$m.jsx)("div",{className:"rounded-2xl border border-emerald-400/40 bg-emerald-500/20 px-4 py-3 text-sm font-medium text-emerald-200",children:"You're booked! ."}):null,(0,$m.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Full Name"}),(0,$m.jsx)("input",{className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-emerald-400/70 focus:bg-white/15 focus:ring-2 focus:ring-emerald-400/40 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Your name",value:f,onChange:e=>m(e.target.value),disabled:d||c,required:!0})]}),(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Roll Number"}),(0,$m.jsx)("input",{className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-emerald-400/70 focus:bg-white/15 focus:ring-2 focus:ring-emerald-400/40 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"CH.SC.U4CSE12345",value:p,onChange:e=>g(e.target.value),disabled:d||c,required:!0})]})]}),(0,$m.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Email"}),(0,$m.jsx)("input",{className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-emerald-400/70 focus:bg-white/15 focus:ring-2 focus:ring-emerald-400/40 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"you@ch.students.amrita.edu",type:"email",value:v,onChange:e=>y(e.target.value),disabled:d||c,required:!0})]}),(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Phone Number"}),(0,$m.jsx)("input",{className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-emerald-400/70 focus:bg-white/15 focus:ring-2 focus:ring-emerald-400/40 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"+91 9876543210",type:"tel",value:k,onChange:e=>N(e.target.value),disabled:d||c,required:!0})]})]}),(0,$m.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Department"}),(0,$m.jsxs)("select",{className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-emerald-400/70 focus:bg-white/15 focus:ring-2 focus:ring-emerald-400/40 disabled:opacity-50 disabled:cursor-not-allowed",value:b,onChange:e=>x(e.target.value),disabled:d||c,required:!0,children:[(0,$m.jsx)("option",{value:"",children:"Select Department"}),Dk.map((e=>(0,$m.jsx)("option",{value:e,className:"bg-slate-900",children:e},e)))]})]}),(0,$m.jsxs)("div",{className:"space-y-2",children:[(0,$m.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Year"}),(0,$m.jsxs)("select",{className:"w-full rounded-2xl border border-white/10 bg-white/10 px-4 py-3 text-sm text-white outline-none transition focus:border-emerald-400/70 focus:bg-white/15 focus:ring-2 focus:ring-emerald-400/40 disabled:opacity-50 disabled:cursor-not-allowed",value:w,onChange:e=>S(e.target.value),disabled:d||c,required:!0,children:[(0,$m.jsx)("option",{value:"",children:"Select Year"}),(0,$m.jsx)("option",{value:"I",className:"bg-slate-900",children:"I"}),(0,$m.jsx)("option",{value:"II",className:"bg-slate-900",children:"II"}),(0,$m.jsx)("option",{value:"III",className:"bg-slate-900",children:"III"}),(0,$m.jsx)("option",{value:"IV",className:"bg-slate-900",children:"IV"})]})]})]}),(0,$m.jsxs)("button",{type:"submit",disabled:j||E||c||d,className:"group relative inline-flex w-full items-center justify-center overflow-hidden rounded-2xl bg-gradient-to-r from-emerald-500 via-brand-500 to-indigo-500 px-6 py-3 text-sm font-semibold uppercase tracking-[0.3em] text-white shadow-lg shadow-emerald-500/25 transition hover:shadow-emerald-500/40 disabled:opacity-60 disabled:cursor-not-allowed",children:[(0,$m.jsx)("span",{className:"absolute inset-0 translate-y-full bg-white/20 transition duration-300 group-hover:translate-y-0"}),(0,$m.jsx)("span",{className:"relative",children:d?"Event Ended":c?"Event Full":j?"Registering...":E?"Registered!":"Confirm Seat"})]})]})]})]}):!s&&(0,$m.jsx)("div",{className:"rounded-3xl border border-white/10 bg-white/5 px-6 py-12 text-center text-sm text-slate-300 backdrop-blur",children:"This event could not be found. Check with office bearers for the correct registration link."})]})]})}function Lk(){const e=ee(),[n,r]=(0,t.useState)("welcome"),[i,s]=(0,t.useState)(""),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(0),[u,d]=(0,t.useState)(Array(10).fill(null)),[h,f]=(0,t.useState)(60),[m,p]=(0,t.useState)(!1),[g,v]=(0,t.useState)(5),[y,b]=(0,t.useState)(!1),[x,w]=(0,t.useState)(!1),[S,k]=(0,t.useState)(""),[N,E]=(0,t.useState)(0),[T,j]=(0,t.useState)(!1),[_,C]=(0,t.useState)(0),[A,I]=(0,t.useState)(!1),P=(0,t.useRef)(null),D=(0,t.useRef)(null),R=[{id:1,question:"What is the capital of France?",options:["London","Berlin","Paris","Madrid"],correctAnswer:2},{id:2,question:"Which programming language is known as the 'language of the web'?",options:["Python","JavaScript","Java","C++"],correctAnswer:1},{id:3,question:"What does HTML stand for?",options:["Hyper Text Markup Language","High Tech Modern Language","Home Tool Markup Language","Hyperlinks and Text Markup Language"],correctAnswer:0},{id:4,question:"Which of the following is NOT a JavaScript framework?",options:["React","Angular","Django","Vue"],correctAnswer:2},{id:5,question:"What is the time complexity of binary search?",options:["O(n)","O(log n)","O(n\xb2)","O(1)"],correctAnswer:1},{id:6,question:"Which CSS property is used to change the text color?",options:["text-color","font-color","color","text-style"],correctAnswer:2},{id:7,question:"What does SQL stand for?",options:["Structured Query Language","Simple Question Language","Structured Question Language","Simple Query Language"],correctAnswer:0},{id:8,question:"Which HTTP method is used to send data to a server?",options:["GET","POST","PUT","DELETE"],correctAnswer:1},{id:9,question:"What is the main purpose of Git?",options:["Database management","Version control","Web hosting","Code compilation"],correctAnswer:1},{id:10,question:"Which of the following is a NoSQL database?",options:["MySQL","PostgreSQL","MongoDB","Oracle"],correctAnswer:2}],L=async()=>{try{const e=document.documentElement;e.requestFullscreen?await e.requestFullscreen():e.webkitRequestFullscreen?await e.webkitRequestFullscreen():e.msRequestFullscreen&&await e.msRequestFullscreen(),b(!0)}catch(e){console.error("Fullscreen error:",e),alert("\u26a0\ufe0f Please press F11 to enter fullscreen mode manually.")}},O=()=>{try{(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen().catch((e=>console.log("Exit fullscreen error:",e))):document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()),b(!1)}catch(e){console.log("Exit fullscreen error:",e),b(!1)}};(0,t.useEffect)((()=>{const e=()=>{const e=!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement);b(e),e||"exam"!==n||x||(p(!0),v(5))};return document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)}}),[n,x]),(0,t.useEffect)((()=>(m&&g>0?D.current=setTimeout((()=>{v((e=>e-1))}),1e3):m&&0===g&&M("Failed to return to fullscreen mode within 5 seconds"),()=>{D.current&&clearTimeout(D.current)})),[m,g]),(0,t.useEffect)((()=>("exam"===n&&h>0&&(P.current=setInterval((()=>{f((e=>e<=1?(V(!0),0):e-1))}),1e3)),()=>{P.current&&clearInterval(P.current)})),[n,h]),(0,t.useEffect)((()=>{const t=t=>{if("exam"===n){if(!t.altKey||"q"!==t.key&&"Q"!==t.key)return"F12"===t.key&&m?(t.preventDefault(),L(),void p(!1)):(t.preventDefault(),!1);window.confirm("Are you sure you want to exit the exam?")&&(O(),e("/events"))}},r=e=>{if("exam"===n)return e.preventDefault(),!1},i=e=>{if("exam"===n)return e.preventDefault(),!1};return document.addEventListener("keydown",t),document.addEventListener("contextmenu",r),document.addEventListener("copy",i),document.addEventListener("paste",i),document.addEventListener("cut",i),()=>{document.removeEventListener("keydown",t),document.removeEventListener("contextmenu",r),document.removeEventListener("copy",i),document.removeEventListener("paste",i),document.removeEventListener("cut",i)}}),[n,m,e]);const M=e=>{w(!0),k(e),r("eliminated"),O(),P.current&&clearInterval(P.current)},F=()=>{i.trim()&&a.trim()?(r("exam"),L()):alert("Please enter your name and ID")},V=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=u.filter((e=>null===e)).length;if(!e&&t>0)return C(t),void j(!0);await U()},U=async()=>{let t=0;R.forEach(((e,n)=>{u[n]===e.correctAnswer&&t++})),P.current&&clearInterval(P.current);try{await _d(xu(Xm,"WOC"),{name:i,rollNo:a,score:t,percentage:(t/R.length*100).toFixed(2),completedAt:Rd(),timeSpent:60-h}),I(!0),setTimeout((()=>{O(),e("/events")}),3e3)}catch(n){console.error("Error saving exam results:",n),setTimeout((()=>{O(),e("/events")}),2e3)}};if("welcome"===n)return(0,$m.jsx)("div",{className:"exam-page",children:(0,$m.jsx)("div",{className:"welcome-screen",children:(0,$m.jsxs)("div",{className:"welcome-content",children:[(0,$m.jsx)("h1",{children:"\ud83c\udfaf Proctored MCQ Examination"}),(0,$m.jsx)("h2",{children:"Phase 1 - Preliminary Round"}),(0,$m.jsxs)("div",{className:"instructions",children:[(0,$m.jsx)("h3",{children:"\ud83d\udccb Exam Rules & Instructions:"}),(0,$m.jsxs)("ul",{children:[(0,$m.jsxs)("li",{children:["\u2713 The exam will run in ",(0,$m.jsx)("strong",{children:"FULLSCREEN MODE"})," only"]}),(0,$m.jsxs)("li",{children:["\u2713 ",(0,$m.jsx)("strong",{children:"Mouse navigation ONLY"})," - Keyboard is disabled"]}),(0,$m.jsxs)("li",{children:["\u2713 Copy/Paste is ",(0,$m.jsx)("strong",{children:"DISABLED"})]}),(0,$m.jsxs)("li",{children:["\u2713 Right-click is ",(0,$m.jsx)("strong",{children:"DISABLED"})]}),(0,$m.jsxs)("li",{children:["\u2713 Press ",(0,$m.jsx)("strong",{children:"Alt+Q"})," to exit the exam"]}),(0,$m.jsxs)("li",{children:["\u2713 If you exit fullscreen, you have ",(0,$m.jsx)("strong",{children:"5 seconds"})," to press F12"]}),(0,$m.jsxs)("li",{children:["\u26a0\ufe0f Violation of any rule will result in ",(0,$m.jsx)("strong",{children:"ELIMINATION"})]})]})]}),(0,$m.jsxs)("div",{className:"candidate-info",children:[(0,$m.jsx)("input",{type:"text",placeholder:"Enter Your Name",value:i,onChange:e=>s(e.target.value)}),(0,$m.jsx)("input",{type:"text",placeholder:"Enter Your ID/Roll Number",value:a,onChange:e=>o(e.target.value)})]}),(0,$m.jsx)("button",{className:"start-btn",onClick:F,children:"Start Exam"})]})})});if("eliminated"===n)return(0,$m.jsx)("div",{className:"exam-page",children:(0,$m.jsx)("div",{className:"elimination-screen",children:(0,$m.jsxs)("div",{className:"elimination-content",children:[(0,$m.jsx)("h1",{children:"\u274c ELIMINATED"}),(0,$m.jsx)("p",{children:"You have violated exam protocols."}),(0,$m.jsx)("p",{className:"reason",children:S}),(0,$m.jsx)("p",{className:"contact",children:"Please contact the exam administrator."}),(0,$m.jsx)("button",{className:"restart-btn",onClick:()=>e("/events"),children:"Return to Events"})]})})});const z=R[l];return(0,$m.jsxs)("div",{className:"exam-page",children:[m&&(0,$m.jsx)("div",{className:"modal active",children:(0,$m.jsxs)("div",{className:"modal-content",children:[(0,$m.jsx)("h2",{children:"\u26a0\ufe0f Fullscreen Required"}),(0,$m.jsx)("p",{children:"You must remain in fullscreen mode during the exam."}),(0,$m.jsxs)("p",{className:"timer",children:["Press F12 to return to fullscreen: ",(0,$m.jsx)("span",{children:g}),"s"]}),(0,$m.jsx)("div",{className:"warning-note",children:"Failure to comply will result in elimination!"})]})}),T&&(0,$m.jsx)("div",{className:"modal active",children:(0,$m.jsxs)("div",{className:"modal-content",children:[(0,$m.jsx)("h2",{children:"\u26a0\ufe0f Unanswered Questions"}),(0,$m.jsxs)("p",{children:["You have ",(0,$m.jsx)("strong",{children:_})," unanswered question(s)."]}),(0,$m.jsx)("p",{children:"Do you want to submit anyway?"}),(0,$m.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"1.5rem"},children:[(0,$m.jsx)("button",{className:"nav-btn",onClick:()=>j(!1),style:{flex:1},children:"Go Back"}),(0,$m.jsx)("button",{className:"submit-btn",onClick:()=>{j(!1),U()},style:{flex:1},children:"Submit Anyway"})]})]})}),A&&(0,$m.jsx)("div",{className:"modal active",children:(0,$m.jsxs)("div",{className:"modal-content",style:{background:"linear-gradient(135deg, rgba(46, 204, 113, 0.2), rgba(39, 174, 96, 0.2))"},children:[(0,$m.jsx)("h2",{style:{color:"#2ecc71"},children:"\u2705 Submitted Successfully!"}),(0,$m.jsx)("p",{children:"Your exam has been submitted."}),(0,$m.jsx)("p",{children:"We'll get back to you soon."}),(0,$m.jsx)("div",{style:{marginTop:"1rem",fontSize:"0.9em",opacity:.8},children:"Redirecting to events page..."})]})}),(0,$m.jsxs)("div",{className:"exam-screen",children:[(0,$m.jsxs)("div",{className:"exam-header",children:[(0,$m.jsxs)("div",{className:"candidate-details",children:[i," | ",a]}),(0,$m.jsxs)("div",{className:"timer-display",style:{color:h<=60?"#ef4444":"#f59e0b"},children:["Time Remaining: ",(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(String(t).padStart(2,"0"),":").concat(String(n).padStart(2,"0"))})(h)]}),(0,$m.jsxs)("div",{className:"question-counter",children:["Question ",l+1," of ",R.length]})]}),(0,$m.jsxs)("div",{className:"exam-container",children:[(0,$m.jsxs)("div",{className:"question-palette",children:[(0,$m.jsx)("h4",{children:"Question Palette"}),(0,$m.jsx)("div",{className:"palette-grid",children:R.map(((e,t)=>(0,$m.jsx)("div",{className:"palette-item ".concat(null!==u[t]?"answered":""," ").concat(t===l?"current":""),onClick:()=>c(t),children:t+1},t)))})]}),(0,$m.jsxs)("div",{className:"question-section",children:[(0,$m.jsxs)("h3",{className:"question-text",children:[l+1,". ",z.question]}),(0,$m.jsx)("div",{className:"options-container",children:z.options.map(((e,t)=>(0,$m.jsxs)("div",{className:"option ".concat(u[l]===t?"selected":""),onClick:()=>(e=>{const t=[...u];t[l]=e,d(t)})(t),children:[(0,$m.jsx)("div",{className:"option-label",children:String.fromCharCode(65+t)}),(0,$m.jsx)("div",{className:"option-text",children:e})]},t)))}),(0,$m.jsxs)("div",{className:"navigation-buttons",children:[(0,$m.jsx)("button",{className:"nav-btn",onClick:()=>c((e=>Math.max(0,e-1))),disabled:0===l,style:{opacity:0===l?.5:1},children:"\u2190 Previous"}),l===R.length-1?(0,$m.jsx)("button",{className:"submit-btn",onClick:()=>V(!1),children:"Submit Exam"}):(0,$m.jsx)("button",{className:"nav-btn",onClick:()=>c((e=>Math.min(R.length-1,e+1))),children:"Next \u2192"})]})]})]}),(0,$m.jsx)("div",{className:"exit-hint",children:"Press Alt+Q to exit exam"})]})]})}const Ok={1:{title:"The Nested Loop Bridge",story:"In the depths of the Cyber-Canyon, a massive chasm blocks your path. The ancient bridge mechanism relies on a 2D array matrix to stabilize its structure. The logic circuits have decayed, and the nested loops required to traverse the matrix are fragmented. You must reconstruct the loop control structures to bridge the gap and continue your journey.",hint:"A nested loop for a 2D array typically uses an outer loop for rows (i) and an inner loop for columns (j). Remember to initialize your iterators to 0 and check against the array dimensions (rows, cols)!",rules:["Fix the nested loop structure.","3 Wrong attempts will auto-skip the challenge."],penalties:["Wrong Answer: -2 Marks","Hint: -2 Marks","Skip: 0 Marks"]},2:{title:"The Algorithm Locks",story:"You reach the Fortress of Algorithms, but the main gate is sealed by five cryptographic locks. These locks are synchronized to a specific array summation algorithm. Only by placing the correct code segments into the key slots can you satisfy the logic gates and unseal the entrance.",hint:"To sum an array, you need to declare a sum variable initialized to 0. Then, loop through the array adding each element (arr[i]) to the sum. Finally, return the calculated sum.",rules:["Place code segments in the correct order.","3 Wrong attempts will auto-skip the challenge."],penalties:["Wrong Answer: -2 Marks","Hint: -2 Marks","Skip: 0 Marks"]},3:{title:"The Memory Core",story:"Deep within the fortress, you encounter a corrupted memory core. Data fragments are floating in flux. To restore the system's processing loop, you must pair the scattered code instructions with their functional descriptions. Synchronization is key to stabilizing the core.",hint:"Match the code syntax to its purpose. 'int i = 0' is initialization. 'i < n' is a condition. 'i++' is an increment. 'sum += arr[i]' is the loop body.",rules:["Match code segments to their descriptions.","Unlimited attempts allowed."],penalties:["Wrong Answer: -2 Marks","Hint: -2 Marks","Skip: 0 Marks"]},4:{title:"The Search Sequence",story:"The central database is vast, and a critical data packet is hidden within. The system's Linear Search protocol has been scrambled. You need to reorder the execution steps to successfully locate the target value within the data stream. One wrong step, and the search will fail.",hint:"A linear search checks elements one by one. Start at index 0. Loop while i < n. If arr[i] matches the target, return the index. If the loop finishes without finding it, return -1.",rules:["Reorder the steps for Linear Search.","3 Wrong attempts will auto-skip the challenge."],penalties:["Wrong Answer: -2 Marks","Hint: -2 Marks","Skip: 0 Marks"]},5:{title:"The Signal Towers",story:"Communication with the surface has been severed. The signal towers on the ridge are offline or misaligned. The control grid is interconnected; activating one tower affects its neighbors. You must find the correct sequence of activations to light up the entire network green.",hint:"Clicking a tower toggles it AND its immediate neighbors. Try to chase the 'off' lights to one end, or use a pattern to clear them. If you get stuck, reset and try a different starting move.",rules:["Light up all signal towers green.","3 Wrong attempts will auto-skip the challenge."],penalties:["Wrong Answer: -2 Marks","Hint: -2 Marks","Skip: 0 Marks"]},6:{title:"The Dragon's Hoard",story:"You've awakened the Guardian Dragon! It demands a tribute of maximum value before it lets you pass. However, your saddlebag has a strict weight limit. You must choose the items carefully to maximize the treasure's value without exceeding the dragon's weight allowance.",hint:"This is a Knapsack problem. Look for items with high Value-to-Weight ratios. The Sword and Gem are valuable, but watch the weight! You need to fit as much value as possible into the 20kg limit.",rules:["Maximaize value within weight limit.","3 Wrong attempts will auto-skip the challenge."],penalties:["Wrong Answer: -2 Marks","Hint: -2 Marks","Skip: 0 Marks"]},7:{title:"The Reactive Outrun",story:"The security system detects your presence! 'Venin' hunter drones are deployed in the sector. They react to your every move. You must navigate the grid to the extraction point while outsmarting the patrol algorithms. Use your ability to rewind time if you get cornered.",hint:"The Venins have fixed patrol paths. Observe their movements before you commit. Use the Undo button (or Ctrl+Z) if you make a mistake. You don't need to be fast, just precise.",rules:["Reach the extraction point.","Avoid the Venin drones.","3 Wrong attempts will auto-skip the challenge."],penalties:["Wrong Answer: -2 Marks","Hint: -2 Marks","Skip: 0 Marks"]},8:{title:"The Warp Gates",story:"The final barrier is a network of Warp Gates. To escape, you must manually synchronize the gate frequencies by calculating the shortest path through the node network. The distance metrics must be precise to establish a stable wormhole.",hint:"This is Dijkstra's Algorithm (Shortest Path). Start at Node A (0). For each neighbor, distance = current_node_dist + edge_weight. Update neighbors only if the new path is shorter. Always process the unvisited node with the smallest known distance next.",rules:["Calculate shortest paths from the source (Node A).","Update distances accurately for each node.","Reach the target node with the optimal cost.","Click 'Verify Data' to check your calculations."],penalties:["Incorrect Distance: -2 Marks","Unstable Calculation: -2 Marks","Hint Usage: -2 Marks"]},9:{title:"The Grand Alliance",story:"The final stage of the war requires a global unification of fragmented resistance pockets. You must bridge these fragments using the cheapest connections available across the entire realm to form one unified alliance before the Venin cut your lines.",hint:"This is Kruskal's algorithm. Click edges to select them for your spanning tree. Sort edges by weight (already done in sidebar), then select the cheapest edges that don't create cycles. You need exactly 12 edges to connect 13 nodes without cycles.",rules:["Connect all nodes using Kruskal's Algorithm.","Standard scoring applies."],penalties:["Wrong Answer: -2 Marks","Hint: -2 Marks","Skip: 0 Marks"]}},Mk=e=>{let{onStart:n,initialName:r=""}=e;const[i,s]=(0,t.useState)(r),[a,o]=(0,t.useState)("");(0,t.useEffect)((()=>{r&&s(r)}),[r]);return(0,$m.jsx)("section",{id:"user-entry-screen",className:"screen active",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column"},children:(0,$m.jsxs)("div",{className:"welcome-content",style:{maxWidth:"400px",width:"100%",padding:"2rem",borderRadius:"15px",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)"},children:[(0,$m.jsxs)("h1",{className:"main-title",style:{fontSize:"2rem",marginBottom:"1.5rem"},children:[(0,$m.jsx)("span",{className:"fire-emoji",children:"\ud83d\udd10"}),"Identify Yourself"]}),(0,$m.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i.trim()&&a.trim()?n({name:i,rollNo:a}):alert("Please enter both Name and Roll Number")},style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,$m.jsxs)("div",{children:[(0,$m.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#fff"},children:"Name"}),(0,$m.jsx)("input",{type:"text",value:i,onChange:e=>s(e.target.value),placeholder:"Enter your full name",style:{width:"100%",padding:"0.8rem",borderRadius:"8px",border:"none",background:"rgba(255, 255, 255, 0.2)",color:"#fff"}})]}),(0,$m.jsxs)("div",{children:[(0,$m.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#fff"},children:"Roll Number / ID"}),(0,$m.jsx)("input",{type:"text",value:a,onChange:e=>o(e.target.value),placeholder:"Enter your Roll No",style:{width:"100%",padding:"0.8rem",borderRadius:"8px",border:"none",background:"rgba(255, 255, 255, 0.2)",color:"#fff"}})]}),(0,$m.jsx)("button",{type:"submit",className:"challenge-btn",style:{marginTop:"1rem",justifyContent:"center"},children:"Enter Round 2.0"})]})]})})},Fk=e=>{let{score:t,userInfo:n}=e;return(0,$m.jsx)("section",{id:"result-screen",className:"screen active",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:(0,$m.jsxs)("div",{className:"result-content",style:{textAlign:"center",maxWidth:"600px",padding:"2rem",background:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",borderRadius:"20px"},children:[(0,$m.jsx)("h1",{className:"result-title",style:{fontSize:"3rem",marginBottom:"1rem"},children:"\ud83c\udf89 Mission Accomplished!"}),(0,$m.jsxs)("p",{className:"result-message",style:{fontSize:"1.2rem",marginBottom:"2rem"},children:["Agent ",(0,$m.jsx)("strong",{children:n.name})," (",n.rollNo,"), you have successfully navigated the challenges."]}),(0,$m.jsxs)("div",{className:"score-display",style:{marginBottom:"2rem"},children:[(0,$m.jsx)("div",{style:{fontSize:"1.5rem",color:"#ccc"},children:"Final Score"}),(0,$m.jsx)("div",{style:{fontSize:"4rem",fontWeight:"bold",color:"#4ade80",textShadow:"0 0 20px rgba(74, 222, 128, 0.5)"},children:t})]}),(0,$m.jsx)("div",{className:"choice-section",style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"2rem"},children:(0,$m.jsx)(je,{to:"/",className:"challenge-btn",style:{background:"transparent",border:"1px solid rgba(255,255,255,0.3)",textDecoration:"none"},children:"Return to Base"})})]})})},Vk=e=>{let{onComplete:n,onBack:r,onWrongAnswer:i,ref:s}=e;const[a,o]=(0,t.useState)({1:null,2:null,3:null,4:null}),[l,c]=(0,t.useState)({message:"",type:""}),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)(!1),[m,p]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(!1),x="int i = 0",w="i < rows",S="int j = 0",k="j < cols",N=[{id:"outer-init",text:"int i = 0",type:"correct"},{id:"outer-condition",text:"i < rows",type:"correct"},{id:"inner-init",text:"int j = 0",type:"correct"},{id:"inner-condition",text:"j < cols",type:"correct"},{id:"wrong1",text:"int j = 1",type:"wrong"},{id:"wrong2",text:"i < cols",type:"wrong"},{id:"wrong3",text:"j < rows",type:"wrong"},{id:"wrong4",text:"int i = 1",type:"wrong"}];(0,t.useImperativeHandle)(s,(()=>({getPartialScore:()=>{let e=0;return a[1]===x&&e++,a[2]===w&&e++,a[3]===S&&e++,a[4]===k&&e++,e>=2?5:0}}))),(0,t.useEffect)((()=>{const e=[...N].sort((()=>Math.random()-.5));d(e)}),[]);const E=(e,t)=>{e.preventDefault();const n=e.dataTransfer.getData("text/plain");o((e=>Re(Re({},e),{},{[t]:n})))},T=e=>{e.preventDefault()};return(0,$m.jsxs)("section",{id:"challenge-1",className:"screen challenge-screen active scroll-challenge",children:[(0,$m.jsxs)("div",{className:"challenge-header",children:[(0,$m.jsx)("button",{className:"back-btn",onClick:r,children:"\u2190 Back to Menu"}),(0,$m.jsx)("h2",{className:"challenge-title",children:"\ud83d\udcdc Challenge 1: The Nested Loop Bridge"}),(0,$m.jsx)("p",{className:"challenge-subtitle",children:'"Cross the Parapet by mastering the nested loops"'})]}),(0,$m.jsx)("div",{className:"challenge-content scroll-container",children:m?(0,$m.jsx)("div",{className:"scroll-opened",children:(0,$m.jsxs)("div",{className:"scroll-parchment",children:[(0,$m.jsxs)("div",{className:"instructions-box",children:[(0,$m.jsx)("h4",{children:"\ud83c\udfaf Your Mission:"}),(0,$m.jsxs)("p",{children:["This nested loop bridge needs ",(0,$m.jsx)("strong",{children:"4 missing pieces"})," to traverse a 2D array. Drag the correct code segments into the empty slots to complete the bridge structure."]})]}),(0,$m.jsxs)("div",{className:"code-scroll",children:[(0,$m.jsx)("h4",{children:"The Bridge Structure:"}),(0,$m.jsxs)("div",{className:"bridge-container",children:[(0,$m.jsxs)("div",{className:"bridge-row",children:[(0,$m.jsx)("div",{className:"bridge-piece static",children:"for ("}),(0,$m.jsx)("div",{className:"bridge-piece drop-slot ".concat(a[1]?"filled":""),onDragOver:T,onDrop:e=>E(e,1),children:(0,$m.jsx)("span",{className:"placeholder-text",children:a[1]||"?"})}),(0,$m.jsx)("div",{className:"bridge-piece static",children:";"}),(0,$m.jsx)("div",{className:"bridge-piece drop-slot ".concat(a[2]?"filled":""),onDragOver:T,onDrop:e=>E(e,2),children:(0,$m.jsx)("span",{className:"placeholder-text",children:a[2]||"?"})}),(0,$m.jsx)("div",{className:"bridge-piece static",children:"; i++)"}),(0,$m.jsx)("div",{className:"bridge-piece static",children:"{"})]}),(0,$m.jsxs)("div",{className:"bridge-row",children:[(0,$m.jsx)("div",{className:"bridge-piece static",children:"for ("}),(0,$m.jsx)("div",{className:"bridge-piece drop-slot ".concat(a[3]?"filled":""),onDragOver:T,onDrop:e=>E(e,3),children:(0,$m.jsx)("span",{className:"placeholder-text",children:a[3]||"?"})}),(0,$m.jsx)("div",{className:"bridge-piece static",children:";"}),(0,$m.jsx)("div",{className:"bridge-piece drop-slot ".concat(a[4]?"filled":""),onDragOver:T,onDrop:e=>E(e,4),children:(0,$m.jsx)("span",{className:"placeholder-text",children:a[4]||"?"})}),(0,$m.jsx)("div",{className:"bridge-piece static",children:"; j++)"}),(0,$m.jsx)("div",{className:"bridge-piece static",children:"{"})]}),(0,$m.jsxs)("div",{className:"bridge-row",children:[(0,$m.jsx)("div",{className:"bridge-piece static",children:'printf("%d", matrix[i][j]);'}),(0,$m.jsx)("div",{className:"bridge-piece static",children:"}"}),(0,$m.jsx)("div",{className:"bridge-piece static",children:"}"})]})]})]}),(0,$m.jsxs)("div",{className:"tiles-container",children:[(0,$m.jsx)("p",{className:"tiles-label",children:"Available Code Pieces:"}),(0,$m.jsx)("div",{className:"draggable-tiles",children:u.map((e=>{const t=Object.values(a).includes(e.text),n=h&&"wrong"===e.type?"wrong":"";return(0,$m.jsx)("div",{className:"tile ".concat(t?"used":""," ").concat(n),draggable:!t,onDragStart:t=>((e,t)=>{e.dataTransfer.setData("text/plain",t)})(t,e.text),children:(0,$m.jsx)("code",{children:e.text})},e.id)}))})]}),(0,$m.jsx)("button",{className:"submit-btn scroll-btn",onClick:()=>{const e=Object.values(a).filter((e=>null!==e)).length;if(e<4)return void c({message:"\u26a0\ufe0f Please fill all 4 slots! (Currently: ".concat(e,"/4)"),type:"error"});const t=a[1]===x&&a[2]===w&&a[3]===S&&a[4]===k;f(!0),t?(c({message:"\ud83c\udf89 The bridge is complete! You may cross safely!",type:"success"}),setTimeout(n,1500)):(c({message:"\u2717 The bridge is unstable! Check your loop logic.",type:"error"}),i&&i())},children:"Test the Bridge"}),l.message&&(0,$m.jsx)("div",{className:"feedback show ".concat(l.type),children:l.message}),g?(0,$m.jsxs)("div",{className:"hint-box",children:[(0,$m.jsx)("strong",{children:"\ud83d\udca1 Hint:"})," A nested loop for a 2D array typically uses an outer loop for rows (i) and an inner loop for columns (j). Remember to initialize your iterators to 0 and check against the array dimensions!"]}):(0,$m.jsx)("button",{className:"hint-btn scroll-btn",onClick:()=>b(!0),children:"\ud83d\udca1 Show Hint"}),y&&(0,$m.jsx)("div",{className:"hint-warning-overlay",children:(0,$m.jsxs)("div",{className:"hint-warning-dialog",children:[(0,$m.jsx)("h3",{children:"\u26a0\ufe0f Warning"}),(0,$m.jsx)("p",{children:"5 marks will be deducted if you use the hint."}),(0,$m.jsxs)("div",{className:"hint-warning-buttons",children:[(0,$m.jsx)("button",{className:"hint-cancel-btn",onClick:()=>b(!1),children:"Cancel"}),(0,$m.jsx)("button",{className:"hint-confirm-btn",onClick:()=>{v(!0),b(!1),i&&i()},children:"Confirm"})]})]})})]})}):(0,$m.jsxs)("div",{className:"scroll-sealed",children:[(0,$m.jsxs)("div",{className:"wax-seal",onClick:()=>{p(!0)},children:[(0,$m.jsxs)("div",{className:"seal-emblem",children:[(0,$m.jsx)("div",{className:"seal-text",children:"BASGIATH"}),(0,$m.jsx)("div",{className:"seal-subtext",children:"WAR COLLEGE"})]}),(0,$m.jsx)("div",{className:"seal-instruction",children:"Click to break seal"})]}),(0,$m.jsxs)("div",{className:"scroll-preview",children:[(0,$m.jsx)("h3",{children:"\ud83d\udcdc Scroll of the Parapet Crossing"}),(0,$m.jsx)("p",{className:"scroll-story",children:"You are crossing the Parapet\u2014a narrow, slick stone bridge hundreds of feet above the valley floor. The wind doesn't just blow once; it comes in gusts (outer loops), and each gust contains swirling eddies (inner loops) that threaten your balance."})]})]})})]})},Uk=e=>{let{onComplete:n,onBack:r,onWrongAnswer:i,ref:s}=e;const[a,o]=(0,t.useState)({declaration:null,init:null,condition:null,access:null,return:null}),[l,c]=(0,t.useState)({message:"",type:""}),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[m,p]=(0,t.useState)(!1),g="int arr[MAX]",v="int i = 0",y="i < n",b="arr[i]",x="return sum",w=[{id:"declaration",text:"int arr[MAX]",type:"correct"},{id:"init",text:"int i = 0",type:"correct"},{id:"condition",text:"i < n",type:"correct"},{id:"access",text:"arr[i]",type:"correct"},{id:"return",text:"return sum",type:"correct"},{id:"wrong1",text:"int arr[]",type:"wrong"},{id:"wrong2",text:"int i = 1",type:"wrong"},{id:"wrong3",text:"i <= n",type:"wrong"},{id:"wrong4",text:"arr[i+1]",type:"wrong"},{id:"wrong5",text:"return i",type:"wrong"}],[S]=(0,t.useState)((()=>(e=>{const t=[...e];for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t})(w)));(0,t.useImperativeHandle)(s,(()=>({getPartialScore:()=>{let e=0;return a.declaration===g&&e++,a.init===v&&e++,a.condition===y&&e++,a.access===b&&e++,a.return===x&&e++,e>=3?5:0}})));const k=e=>{e.preventDefault()},N=(e,t)=>{const n=a[t];n&&(e.dataTransfer.setData("text/plain",n),e.dataTransfer.setData("source","lock"),e.dataTransfer.setData("lockId",t))},E=(e,t)=>{e.preventDefault();const n=e.dataTransfer.getData("text/plain"),r=e.dataTransfer.getData("source"),i=e.dataTransfer.getData("lockId");o("lock"===r&&i?e=>Re(Re({},e),{},{[i]:null,[t]:n}):e=>Re(Re({},e),{},{[t]:n}))};return(0,$m.jsxs)("section",{id:"challenge-2",className:"screen challenge-screen active scroll-challenge",children:[(0,$m.jsxs)("div",{className:"challenge-header",children:[(0,$m.jsx)("button",{className:"back-btn",onClick:r,children:"\u2190 Back to Menu"}),(0,$m.jsx)("h2",{className:"challenge-title",children:"\ud83d\udcdc Challenge 2: The Algorithm Locator"}),(0,$m.jsx)("p",{className:"challenge-subtitle",children:'"Find the Master Gears to unlock the Gauntlet"'})]}),(0,$m.jsx)("div",{className:"challenge-content scroll-container",children:u?(0,$m.jsx)("div",{className:"scroll-opened",children:(0,$m.jsxs)("div",{className:"scroll-parchment",children:[(0,$m.jsxs)("div",{className:"instructions-box",children:[(0,$m.jsx)("h4",{children:"\ud83c\udfaf Your Mission:"}),(0,$m.jsxs)("p",{children:["Match ",(0,$m.jsx)("strong",{children:"5 keys to 5 locks"})," to complete the array sum algorithm. Drag the correct code segments into each lock slot to unlock the mechanism."]})]}),(0,$m.jsxs)("div",{className:"code-scroll",children:[(0,$m.jsx)("h4",{children:"The Algorithm Mechanism:"}),(0,$m.jsxs)("div",{className:"algorithm-display",children:[(0,$m.jsx)("div",{className:"code-line",children:(0,$m.jsx)("span",{className:"code-text",children:"int sum = 0;"})}),(0,$m.jsx)("div",{className:"code-line",children:(0,$m.jsxs)("div",{className:"lock-inline ".concat(a.declaration?"filled":""),draggable:!!a.declaration,onDragStart:e=>N(e,"declaration"),onDragOver:k,onDrop:e=>E(e,"declaration"),children:[(0,$m.jsx)("span",{className:"lock-icon-small",children:"\ud83d\udd121"}),(0,$m.jsx)("div",{className:"key-slot-inline",children:a.declaration||"?"})]})}),(0,$m.jsxs)("div",{className:"code-line",children:[(0,$m.jsx)("span",{className:"code-text",children:"for ("}),(0,$m.jsxs)("div",{className:"lock-inline ".concat(a.init?"filled":""),draggable:!!a.init,onDragStart:e=>N(e,"init"),onDragOver:k,onDrop:e=>E(e,"init"),children:[(0,$m.jsx)("span",{className:"lock-icon-small",children:"\ud83d\udd122"}),(0,$m.jsx)("div",{className:"key-slot-inline",children:a.init||"?"})]}),(0,$m.jsx)("span",{className:"code-text",children:";"}),(0,$m.jsxs)("div",{className:"lock-inline ".concat(a.condition?"filled":""),draggable:!!a.condition,onDragStart:e=>N(e,"condition"),onDragOver:k,onDrop:e=>E(e,"condition"),children:[(0,$m.jsx)("span",{className:"lock-icon-small",children:"\ud83d\udd123"}),(0,$m.jsx)("div",{className:"key-slot-inline",children:a.condition||"?"})]}),(0,$m.jsxs)("span",{className:"code-text",children:["; i++) ","{"]})]}),(0,$m.jsxs)("div",{className:"code-line indent",children:[(0,$m.jsx)("span",{className:"code-text",children:"sum +="}),(0,$m.jsxs)("div",{className:"lock-inline ".concat(a.access?"filled":""),draggable:!!a.access,onDragStart:e=>N(e,"access"),onDragOver:k,onDrop:e=>E(e,"access"),children:[(0,$m.jsx)("span",{className:"lock-icon-small",children:"\ud83d\udd124"}),(0,$m.jsx)("div",{className:"key-slot-inline",children:a.access||"?"})]}),(0,$m.jsx)("span",{className:"code-text",children:";"})]}),(0,$m.jsx)("div",{className:"code-line",children:(0,$m.jsx)("span",{className:"code-text",children:"}"})}),(0,$m.jsx)("div",{className:"code-line",children:(0,$m.jsxs)("div",{className:"lock-inline ".concat(a.return?"filled":""),draggable:!!a.return,onDragStart:e=>N(e,"return"),onDragOver:k,onDrop:e=>E(e,"return"),children:[(0,$m.jsx)("span",{className:"lock-icon-small",children:"\ud83d\udd125"}),(0,$m.jsx)("div",{className:"key-slot-inline",children:a.return||"?"})]})})]})]}),(0,$m.jsxs)("div",{className:"keys-container",children:[(0,$m.jsx)("p",{className:"tiles-label",children:"Available Keys:"}),(0,$m.jsx)("div",{className:"draggable-keys",children:S.map((e=>{const t=Object.values(a).includes(e.text);return(0,$m.jsx)("div",{className:"key ".concat(t?"used":""," ").concat("wrong"===e.type?"wrong":""),draggable:!t,onDragStart:t=>((e,t,n)=>{e.dataTransfer.setData("text/plain",t),e.dataTransfer.setData("source",n)})(t,e.text,"key"),children:(0,$m.jsx)("code",{children:e.text})},e.id)}))})]}),(0,$m.jsx)("button",{className:"submit-btn scroll-btn",onClick:()=>{const e=Object.values(a).filter((e=>null!==e)).length;if(e<5)return void c({message:"\u26a0\ufe0f Please fill all 5 locks! (Currently: ".concat(e,"/5)"),type:"error"});a.declaration===g&&a.init===v&&a.condition===y&&a.access===b&&a.return===x?(c({message:"\ud83c\udf89 The Gauntlet mechanism unlocks! The gate opens!",type:"success"}),setTimeout(n,1500)):(c({message:"\u2717 Wrong keys! The mechanism grinds but does not open.",type:"error"}),i&&i())},children:"Unlock the Gate"}),l.message&&(0,$m.jsx)("div",{className:"feedback show ".concat(l.type),children:l.message}),h?(0,$m.jsxs)("div",{className:"hint-box",children:[(0,$m.jsx)("strong",{children:"\ud83d\udca1 Hint:"})," To sum an array, you need to declare a sum variable initialized to 0. Then, loop through the array adding each element (arr[i]) to the sum. Finally, return the calculated sum."]}):(0,$m.jsx)("button",{className:"hint-btn scroll-btn",onClick:()=>p(!0),children:"\ud83d\udca1 Show Hint"}),m&&(0,$m.jsx)("div",{className:"hint-warning-overlay",children:(0,$m.jsxs)("div",{className:"hint-warning-dialog",children:[(0,$m.jsx)("h3",{children:"\u26a0\ufe0f Warning"}),(0,$m.jsx)("p",{children:"5 marks will be deducted if you use the hint."}),(0,$m.jsxs)("div",{className:"hint-warning-buttons",children:[(0,$m.jsx)("button",{className:"hint-cancel-btn",onClick:()=>p(!1),children:"Cancel"}),(0,$m.jsx)("button",{className:"hint-confirm-btn",onClick:()=>{f(!0),p(!1),i&&i()},children:"Confirm"})]})]})})]})}):(0,$m.jsxs)("div",{className:"scroll-sealed",children:[(0,$m.jsxs)("div",{className:"wax-seal",onClick:()=>{d(!0)},children:[(0,$m.jsxs)("div",{className:"seal-emblem",children:[(0,$m.jsx)("div",{className:"seal-text",children:"BASGIATH"}),(0,$m.jsx)("div",{className:"seal-subtext",children:"WAR COLLEGE"})]}),(0,$m.jsx)("div",{className:"seal-instruction",children:"Click to break seal"})]}),(0,$m.jsxs)("div",{className:"scroll-preview",children:[(0,$m.jsx)("h3",{children:"\ud83d\udcdc Scroll of the Gauntlet's Mechanism"}),(0,$m.jsx)("p",{className:"scroll-story",children:"You reach the Fortress of Algorithms, but the main gate is sealed by five cryptographic locks. These locks are synchronized to a specific array summation algorithm. Only by placing the correct code segments into the key slots can you satisfy the logic gates and unseal the entrance."})]})]})})]})},zk=e=>{let{onComplete:n,onBack:r,onWrongAnswer:i,ref:s}=e;const[a,o]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)(0),[h,f]=(0,t.useState)({init:null,condition:null,body:null,increment:null,length:null,guard:null,step:null,earlyExit:null,nested:null,bounds:null}),[m,p]=(0,t.useState)({message:"",type:""}),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(!1),[x,w]=(0,t.useState)(!1),S=[{id:1,pair:"init",code:"int i = 0",icon:"\ud83d\udd04"},{id:2,pair:"init",code:"int i = 0",icon:"\ud83d\udd04"},{id:3,pair:"condition",code:"i < n",icon:"\u2753"},{id:4,pair:"condition",code:"i < n",icon:"\u2753"},{id:5,pair:"body",code:"sum += arr[i]",icon:"\u2795"},{id:6,pair:"body",code:"sum += arr[i]",icon:"\u2795"},{id:7,pair:"increment",code:"i++",icon:"\u2b06\ufe0f"},{id:8,pair:"increment",code:"i++",icon:"\u2b06\ufe0f"},{id:9,pair:"length",code:"int n = arr.length",icon:"\ud83d\udccf"},{id:10,pair:"length",code:"int n = arr.length",icon:"\ud83d\udccf"},{id:11,pair:"guard",code:"if (arr[i] != 0)",icon:"\ud83d\udee1\ufe0f"},{id:12,pair:"guard",code:"if (arr[i] != 0)",icon:"\ud83d\udee1\ufe0f"},{id:13,pair:"step",code:"i += 2",icon:"\u23ed\ufe0f"},{id:14,pair:"step",code:"i += 2",icon:"\u23ed\ufe0f"},{id:15,pair:"earlyExit",code:"break",icon:"\ud83d\udeaa"},{id:16,pair:"earlyExit",code:"break",icon:"\ud83d\udeaa"},{id:17,pair:"nested",code:"for (int j = 0; j < m; j++)",icon:"\ud83d\udd01"},{id:18,pair:"nested",code:"for (int j = 0; j < m; j++)",icon:"\ud83d\udd01"},{id:19,pair:"bounds",code:"i < arr.length - 1",icon:"\ud83c\udfaf"},{id:20,pair:"bounds",code:"i < arr.length - 1",icon:"\ud83c\udfaf"}];(0,t.useImperativeHandle)(s,(()=>({getPartialScore:()=>u>=5?5:0}))),(0,t.useEffect)((()=>{const e=[...S].sort((()=>Math.random()-.5));o(e.map((e=>Re(Re({},e),{},{flipped:!1,matched:!1}))))}),[]);return(0,$m.jsxs)("section",{id:"challenge-3",className:"screen challenge-screen active scroll-challenge",children:[(0,$m.jsxs)("div",{className:"challenge-header",children:[(0,$m.jsx)("button",{className:"back-btn",onClick:r,children:"\u2190 Back to Menu"}),(0,$m.jsx)("h2",{className:"challenge-title",children:"\ud83d\udcdc Challenge 3: The Memory Core"}),(0,$m.jsx)("p",{className:"challenge-subtitle",children:'"Restore the fragmented memory to stabilize the core"'})]}),(0,$m.jsx)("div",{className:"challenge-content scroll-container",children:g?(0,$m.jsx)("div",{className:"scroll-opened",children:(0,$m.jsxs)("div",{className:"scroll-parchment",children:[(0,$m.jsxs)("div",{className:"instructions-box",children:[(0,$m.jsx)("h4",{children:"\ud83c\udfaf Your Mission:"}),(0,$m.jsxs)("p",{children:["Find all ",(0,$m.jsx)("strong",{children:"10 matching pairs"})," of code fragments to complete the complex loop structure. Click cards to flip them and match identical code segments."]})]}),(0,$m.jsx)("div",{className:"loop-skeleton",children:["init","condition","body","increment","length","guard","step","earlyExit","nested","bounds"].map((e=>(0,$m.jsxs)("div",{className:"skeleton-slot ".concat(h[e]?"filled":""),children:[(0,$m.jsx)("div",{className:"slot-header",children:(0,$m.jsx)("span",{className:"slot-label",children:e.charAt(0).toUpperCase()+e.slice(1)})}),(0,$m.jsx)("div",{className:"slot-content",children:h[e]?(0,$m.jsx)("code",{children:h[e]}):(0,$m.jsx)("span",{className:"slot-placeholder",children:"Find pair"})})]},e)))}),(0,$m.jsx)("div",{className:"memory-cards-grid-4",children:a.map(((e,t)=>(0,$m.jsx)("div",{className:"memory-card ".concat(e.flipped?"flipped":""," ").concat(e.matched?"matched":""),onClick:()=>(e=>{if(l.length>=2||a[e].flipped||a[e].matched)return;const t=[...a];t[e].flipped=!0,o(t);const n=[...l,e];if(c(n),2===n.length){const e=t[n[0]],r=t[n[1]];e.pair===r.pair?setTimeout((()=>{o((e=>e.map(((e,t)=>n.includes(t)?Re(Re({},e),{},{matched:!0,flipped:!0}):e)))),d((e=>e+1)),f((t=>Re(Re({},t),{},{[e.pair]:e.code}))),c([])}),500):(setTimeout((()=>{o((e=>e.map(((e,t)=>n.includes(t)?Re(Re({},e),{},{flipped:!1}):e)))),c([])}),1e3),i&&i())}})(t),children:(0,$m.jsxs)("div",{className:"card-inner",children:[(0,$m.jsx)("div",{className:"card-front",children:"?"}),(0,$m.jsxs)("div",{className:"card-back",children:[(0,$m.jsx)("span",{className:"card-icon",children:e.icon}),(0,$m.jsx)("code",{children:e.code})]})]})},t)))}),(0,$m.jsx)("button",{className:"submit-btn scroll-btn",onClick:()=>{10===u?(p({message:"\ud83c\udf89 The Memory Core is stabilized! All fragments restored!",type:"success"}),setTimeout(n,1500)):p({message:"\u26a0\ufe0f Match all 10 pairs first! (Currently: ".concat(u,"/10)"),type:"error"})},children:"Stabilize Memory Core"}),m.message&&(0,$m.jsx)("div",{className:"feedback show ".concat(m.type),children:m.message}),y?(0,$m.jsxs)("div",{className:"hint-box",children:[(0,$m.jsx)("strong",{children:"\ud83d\udca1 Hint:"})," Match the code syntax to its purpose. 'int i = 0' is initialization. 'i < n' is a condition. 'i++' is an increment. 'sum += arr[i]' is the loop body."]}):(0,$m.jsx)("button",{className:"hint-btn scroll-btn",onClick:()=>w(!0),children:"\ud83d\udca1 Show Hint"}),x&&(0,$m.jsx)("div",{className:"hint-warning-overlay",children:(0,$m.jsxs)("div",{className:"hint-warning-dialog",children:[(0,$m.jsx)("h3",{children:"\u26a0\ufe0f Warning"}),(0,$m.jsx)("p",{children:"5 marks will be deducted if you use the hint."}),(0,$m.jsxs)("div",{className:"hint-warning-buttons",children:[(0,$m.jsx)("button",{className:"hint-cancel-btn",onClick:()=>w(!1),children:"Cancel"}),(0,$m.jsx)("button",{className:"hint-confirm-btn",onClick:()=>{b(!0),w(!1),i&&i()},children:"Confirm"})]})]})})]})}):(0,$m.jsxs)("div",{className:"scroll-sealed",children:[(0,$m.jsxs)("div",{className:"wax-seal",onClick:()=>{v(!0)},children:[(0,$m.jsxs)("div",{className:"seal-emblem",children:[(0,$m.jsx)("div",{className:"seal-text",children:"BASGIATH"}),(0,$m.jsx)("div",{className:"seal-subtext",children:"WAR COLLEGE"})]}),(0,$m.jsx)("div",{className:"seal-instruction",children:"Click to break seal"})]}),(0,$m.jsxs)("div",{className:"scroll-preview",children:[(0,$m.jsx)("h3",{children:"\ud83d\udcdc Scroll of the Memory Core"}),(0,$m.jsx)("p",{className:"scroll-story",children:"Deep within the fortress, you encounter a corrupted memory core. Data fragments are floating in flux. To restore the system's processing loop, you must pair the scattered code instructions with their functional descriptions."})]})]})})]})},Bk=e=>{let{onComplete:n,onBack:r,onWrongAnswer:i,ref:s}=e;const[a,o]=(0,t.useState)({1:null,2:null,3:null,4:null,5:null,6:null,7:null,8:null,9:null,10:null}),[l,c]=(0,t.useState)({message:"",type:""}),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[m,p]=(0,t.useState)(!1),g={1:"step1",2:"step2",3:"step3",4:"step4",5:"step5",6:"step6",7:"step7",8:"step8",9:"step9",10:"step10"},v=[{id:"step1",text:"int i = 0",type:"correct"},{id:"step2",text:"while (i < n)",type:"correct"},{id:"step3",text:"if (arr[i] == target)",type:"correct"},{id:"step4",text:"return i",type:"correct"},{id:"step5",text:"else",type:"correct"},{id:"step6",text:"i++",type:"correct"},{id:"step7",text:"end while",type:"correct"},{id:"step8",text:"return -1",type:"correct"},{id:"step9",text:"int n = arr.length",type:"correct"},{id:"step10",text:"int target = value",type:"correct"},{id:"wrong1",text:"int i = 1",type:"wrong"},{id:"wrong2",text:"while (i <= n)",type:"wrong"},{id:"wrong3",text:"if (arr[i] != target)",type:"wrong"},{id:"wrong4",text:"return 0",type:"wrong"},{id:"wrong5",text:"i--",type:"wrong"},{id:"wrong6",text:"break",type:"wrong"},{id:"wrong7",text:"continue",type:"wrong"},{id:"wrong8",text:"return null",type:"wrong"}],[y]=(0,t.useState)((()=>(e=>{const t=[...e];for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t})(v))),[b,x]=(0,t.useState)("");(0,t.useImperativeHandle)(s,(()=>({getPartialScore:()=>{let e=0;for(let t=1;t<=10;t++)a[t.toString()]===g[t.toString()]&&e++;return e>=5?5:0}})));const w=e=>{var t;return null===(t=y.find((t=>t.id===e)))||void 0===t?void 0:t.text},S=e=>e.preventDefault();return(0,$m.jsxs)("section",{id:"challenge-4",className:"screen challenge-screen active scroll-challenge",children:[(0,$m.jsxs)("div",{className:"challenge-header",children:[(0,$m.jsx)("button",{className:"back-btn",onClick:r,children:"\u2190 Back to Menu"}),(0,$m.jsx)("h2",{className:"challenge-title",children:"\ud83d\udcdc Challenge 4: The Search Sequence"}),(0,$m.jsx)("p",{className:"challenge-subtitle",children:'"Arrange the steps before the guards arrive"'})]}),(0,$m.jsx)("div",{className:"challenge-content scroll-container",children:u?(0,$m.jsx)("div",{className:"scroll-opened",children:(0,$m.jsxs)("div",{className:"scroll-parchment",children:[(0,$m.jsxs)("div",{className:"instructions-box",children:[(0,$m.jsx)("h4",{children:"\ud83c\udfaf Your Mission:"}),(0,$m.jsxs)("p",{children:["Drag and drop ",(0,$m.jsx)("strong",{children:"10 code steps"})," in the correct order to create a working Linear Search algorithm. Arrange them sequentially to find the target value before the guards arrive."]})]}),(0,$m.jsxs)("div",{className:"code-scroll",children:[(0,$m.jsx)("h4",{children:"The Search Algorithm:"}),(0,$m.jsxs)("div",{className:"sequence-display",children:[(0,$m.jsx)("div",{className:"sequence-header",children:(0,$m.jsxs)("code",{children:["int linearSearch(int arr[], int n, int target) ","{"]})}),(0,$m.jsx)("div",{className:"sequence-steps",children:[1,2,3,4,5,6,7,8,9,10].map((e=>(0,$m.jsxs)("div",{className:"sequence-slot ".concat(a[e]?"filled":""),onDragOver:S,onDrop:t=>((e,t)=>{e.preventDefault();const n=e.dataTransfer.getData("text/plain");o((e=>Re(Re({},e),{},{[t]:n})))})(t,e),children:[(0,$m.jsxs)("span",{className:"step-number",children:["Step ",e]}),(0,$m.jsx)("div",{className:"step-content",children:a[e]?(0,$m.jsx)("code",{children:w(a[e])}):"Drop code here"})]},e)))}),(0,$m.jsx)("div",{className:"sequence-footer",children:(0,$m.jsx)("code",{children:"}"})})]})]}),(0,$m.jsxs)("div",{className:"code-pieces-container",children:[(0,$m.jsx)("p",{className:"tiles-label",children:"Available Code Pieces:"}),(0,$m.jsx)("div",{className:"code-pieces",children:y.map((e=>{const t=Object.values(a).includes(e.id);return(0,$m.jsx)("div",{className:"code-piece ".concat(t?"used":""," ").concat("wrong"===e.type?"wrong":""),draggable:!t,onDragStart:t=>((e,t)=>{e.dataTransfer.setData("text/plain",t)})(t,e.id),children:(0,$m.jsx)("code",{children:e.text})},e.id)}))})]}),(0,$m.jsx)("button",{className:"submit-btn scroll-btn ".concat(b),onClick:()=>{const e=Object.values(a).filter((e=>null!==e)).length;x("checking"),setTimeout((()=>{if(e<10)return x("incomplete"),c({message:"\u26a0\ufe0f Please fill all 10 steps!",type:"error"}),void setTimeout((()=>{x(""),c({message:"",type:""})}),2e3);Object.keys(g).every((e=>a[e]===g[e]))?(x("correct"),c({message:"\ud83c\udf89 The scroll is found! You escape the Archives!",type:"success"}),setTimeout((()=>{x(""),n()}),1500)):(x("wrong"),c({message:"\u2717 Wrong sequence! The guards are getting closer!",type:"error"}),i&&i(),setTimeout((()=>{x(""),c({message:"",type:""})}),2e3))}),300)},children:"Execute Search"}),l.message&&(0,$m.jsx)("div",{className:"feedback show ".concat(l.type),children:l.message}),h?(0,$m.jsxs)("div",{className:"hint-box",children:[(0,$m.jsx)("strong",{children:"\ud83d\udca1 Hint:"})," A linear search checks elements one by one. Start at index 0. Loop while i < n. If arr[i] matches the target, return the index. If the loop finishes without finding it, return -1."]}):(0,$m.jsx)("button",{className:"hint-btn scroll-btn",onClick:()=>p(!0),children:"\ud83d\udca1 Show Hint"}),m&&(0,$m.jsx)("div",{className:"hint-warning-overlay",children:(0,$m.jsxs)("div",{className:"hint-warning-dialog",children:[(0,$m.jsx)("h3",{children:"\u26a0\ufe0f Warning"}),(0,$m.jsx)("p",{children:"5 marks will be deducted if you use the hint."}),(0,$m.jsxs)("div",{className:"hint-warning-buttons",children:[(0,$m.jsx)("button",{className:"hint-cancel-btn",onClick:()=>p(!1),children:"Cancel"}),(0,$m.jsx)("button",{className:"hint-confirm-btn",onClick:()=>{f(!0),p(!1),i&&i()},children:"Confirm"})]})]})})]})}):(0,$m.jsxs)("div",{className:"scroll-sealed",children:[(0,$m.jsxs)("div",{className:"wax-seal",onClick:()=>{d(!0)},children:[(0,$m.jsxs)("div",{className:"seal-emblem",children:[(0,$m.jsx)("div",{className:"seal-text",children:"BASGIATH"}),(0,$m.jsx)("div",{className:"seal-subtext",children:"WAR COLLEGE"})]}),(0,$m.jsx)("div",{className:"seal-instruction",children:"Click to break seal"})]}),(0,$m.jsxs)("div",{className:"scroll-preview",children:[(0,$m.jsx)("h3",{children:"\ud83d\udcdc Scroll of the Forbidden Archives"}),(0,$m.jsx)("p",{className:"scroll-story",children:"The central database is vast, and a critical data packet is hidden within. The system's Linear Search protocol has been scrambled. You need to reorder the execution steps to successfully locate the target value within the data stream."})]})]})})]})},qk=e=>{let{onComplete:n,onBack:r,onWrongAnswer:i,ref:s}=e;const[a,o]=(0,t.useState)(Array(8).fill(!1)),[l,c]=(0,t.useState)({message:"",type:""}),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[m,p]=(0,t.useState)(!1);(0,t.useImperativeHandle)(s,(()=>({getPartialScore:()=>a.filter((e=>!0===e)).length>=4?5:0}))),(0,t.useEffect)((()=>{g()}),[]);const g=()=>{let e=Array(8).fill(!0);for(let t=0;t<4;t++){const t=Math.floor(8*Math.random());v(e,t)}o(e),c({message:"",type:""})},v=(e,t)=>{e[t]=!e[t],t>0&&(e[t-1]=!e[t-1]),t<e.length-1&&(e[t+1]=!e[t+1])};return(0,$m.jsxs)("section",{id:"challenge-5",className:"screen challenge-screen active scroll-challenge",children:[(0,$m.jsxs)("div",{className:"challenge-header",children:[(0,$m.jsx)("button",{className:"back-btn",onClick:r,children:"\u2190 Back to Menu"}),(0,$m.jsx)("h2",{className:"challenge-title",children:"\ud83d\udcdc Challenge 5: The Signal Towers"}),(0,$m.jsx)("p",{className:"challenge-subtitle",children:'"Synchronize the border watch before the Venin breach"'})]}),(0,$m.jsx)("div",{className:"challenge-content scroll-container",children:u?(0,$m.jsx)("div",{className:"scroll-opened",children:(0,$m.jsxs)("div",{className:"scroll-parchment",children:[(0,$m.jsxs)("div",{className:"instructions-box",children:[(0,$m.jsx)("h4",{children:"\ud83c\udfaf Your Mission:"}),(0,$m.jsxs)("p",{children:["Click towers to toggle them and their neighbors. Turn ",(0,$m.jsx)("strong",{children:"ALL towers green (ON)"}),"to synchronize the border watch network."]})]}),(0,$m.jsxs)("div",{className:"tower-visualization",children:[(0,$m.jsx)("div",{className:"tower-grid",children:a.map(((e,t)=>(0,$m.jsxs)("div",{className:"tower ".concat(e?"on":"off"),onClick:()=>(e=>{const t=[...a];v(t,e),o(t),t.every((e=>!0===e))&&(c({message:"\ud83c\udf89 All signal towers synchronized! The border defenses hold!",type:"success"}),setTimeout(n,1500))})(t),children:[(0,$m.jsx)("div",{className:"tower-icon",children:"\ud83d\uddfc"}),(0,$m.jsx)("div",{className:"tower-status",children:e?"ON":"OFF"})]},t)))}),(0,$m.jsx)("button",{className:"check-solution-btn scroll-btn",onClick:()=>{window.confirm("Resetting will cost 2 points. Proceed?")&&(g(),i&&i())},children:"Reset Towers"})]}),l.message&&(0,$m.jsx)("div",{className:"feedback show ".concat(l.type),children:l.message}),h?(0,$m.jsxs)("div",{className:"hint-box",children:[(0,$m.jsx)("strong",{children:"\ud83d\udca1 Hint:"})," Each tower affects its neighbors. Think about which towers to click to minimize cascading effects. Sometimes clicking edge towers is safer than middle ones."]}):(0,$m.jsx)("button",{className:"hint-btn scroll-btn",onClick:()=>p(!0),children:"\ud83d\udca1 Show Hint"}),m&&(0,$m.jsx)("div",{className:"hint-warning-overlay",children:(0,$m.jsxs)("div",{className:"hint-warning-dialog",children:[(0,$m.jsx)("h3",{children:"\u26a0\ufe0f Warning"}),(0,$m.jsx)("p",{children:"5 marks will be deducted if you use the hint."}),(0,$m.jsxs)("div",{className:"hint-warning-buttons",children:[(0,$m.jsx)("button",{className:"hint-cancel-btn",onClick:()=>p(!1),children:"Cancel"}),(0,$m.jsx)("button",{className:"hint-confirm-btn",onClick:()=>{f(!0),p(!1),i&&i()},children:"Confirm"})]})]})})]})}):(0,$m.jsxs)("div",{className:"scroll-sealed",children:[(0,$m.jsxs)("div",{className:"wax-seal",onClick:()=>{d(!0)},children:[(0,$m.jsxs)("div",{className:"seal-emblem",children:[(0,$m.jsx)("div",{className:"seal-text",children:"BASGIATH"}),(0,$m.jsx)("div",{className:"seal-subtext",children:"WAR COLLEGE"})]}),(0,$m.jsx)("div",{className:"seal-instruction",children:"Click to break seal"})]}),(0,$m.jsxs)("div",{className:"scroll-preview",children:[(0,$m.jsx)("h3",{children:"\ud83d\udcdc Scroll of the Border Watch"}),(0,$m.jsx)("p",{className:"scroll-story",children:"Outposts along the Navarrian border are flashing light signals across mountain peaks to request reinforcements against a sudden Venin surge. The signal towers have fallen out of sync, and you must restore their coordination before the defenses fail."})]})]})})]})},Wk=e=>{let{onComplete:n,onBack:r,onWrongAnswer:i,ref:s}=e;const a=20,[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)({message:"",type:""}),[d,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)(!1),v=o.reduce(((e,t)=>e+t.weight),0),y=o.reduce(((e,t)=>e+t.value),0);(0,t.useImperativeHandle)(s,(()=>({getPartialScore:()=>v<=a&&y>=18?5:0})));return(0,$m.jsxs)("section",{id:"challenge-6",className:"screen challenge-screen active scroll-challenge",children:[(0,$m.jsxs)("div",{className:"challenge-header",children:[(0,$m.jsx)("button",{className:"back-btn",onClick:r,children:"\u2190 Back to Menu"}),(0,$m.jsx)("h2",{className:"challenge-title",children:"\ud83d\udcdc Challenge 6: The Dragon's Hoard"}),(0,$m.jsx)("p",{className:"challenge-subtitle",children:'"Maximize treasure without breaking the dragon\'s back"'})]}),(0,$m.jsx)("div",{className:"challenge-content scroll-container",children:d?(0,$m.jsx)("div",{className:"scroll-opened",children:(0,$m.jsxs)("div",{className:"scroll-parchment",children:[(0,$m.jsxs)("div",{className:"instructions-box",children:[(0,$m.jsx)("h4",{children:"\ud83c\udfaf Your Mission:"}),(0,$m.jsxs)("p",{children:["Fill the saddlebag to ",(0,$m.jsx)("strong",{children:"maximize value"})," without exceeding the",(0,$m.jsxs)("strong",{children:[" ",a,"kg weight capacity"]}),". Drag items from the inventory into the saddlebag."]})]}),(0,$m.jsxs)("div",{className:"knapsack-container",children:[(0,$m.jsxs)("div",{className:"inventory-section",children:[(0,$m.jsx)("h3",{children:"\ud83d\udce6 Available Treasures"}),(0,$m.jsx)("div",{className:"inventory-grid",children:[{id:1,name:"Potion",weight:2,value:5,icon:"\ud83e\uddea"},{id:2,name:"Sword",weight:8,value:15,icon:"\u2694\ufe0f"},{id:3,name:"Shield",weight:10,value:12,icon:"\ud83d\udee1\ufe0f"},{id:4,name:"Gem",weight:1,value:10,icon:"\ud83d\udc8e"},{id:5,name:"Food",weight:4,value:6,icon:"\ud83c\udf56"},{id:6,name:"Map",weight:1,value:3,icon:"\ud83d\uddfa\ufe0f"},{id:7,name:"Tent",weight:12,value:8,icon:"\u26fa"}].map((e=>{const t=o.find((t=>t.id===e.id));return(0,$m.jsxs)("div",{className:"inventory-item ".concat(t?"used":""),draggable:!t,onDragStart:t=>((e,t)=>{e.dataTransfer.setData("application/json",JSON.stringify(t))})(t,e),children:[(0,$m.jsx)("div",{className:"item-icon",children:e.icon}),(0,$m.jsxs)("div",{className:"item-details",children:[(0,$m.jsx)("strong",{children:e.name}),(0,$m.jsxs)("span",{children:["Wt: ",e.weight," | Val: ",e.value]})]})]},e.id)}))})]}),(0,$m.jsxs)("div",{className:"saddlebag-section",children:[(0,$m.jsx)("div",{className:"dragon-avatar",children:"\ud83d\udc09"}),(0,$m.jsxs)("div",{className:"capacity-indicator",children:[(0,$m.jsx)("div",{className:"capacity-bar-bg",children:(0,$m.jsx)("div",{className:"capacity-bar-fill",style:{width:"".concat(v/a*100,"%"),backgroundColor:v>a?"red":"#4CAF50"}})}),(0,$m.jsxs)("span",{children:[v," / ",a," kg"]})]}),(0,$m.jsx)("div",{className:"saddlebag-dropzone",onDragOver:e=>e.preventDefault(),onDrop:e=>{e.preventDefault();const t=JSON.parse(e.dataTransfer.getData("application/json"));if(!o.find((e=>e.id===t.id)))return v+t.weight>a?(u({message:"\u26a0\ufe0f Too heavy! The dragon cannot carry more!",type:"error"}),void setTimeout((()=>u({message:"",type:""})),2e3)):void l([...o,t])},children:0===o.length?(0,$m.jsx)("p",{className:"dropzone-placeholder",children:"Drag items here"}):(0,$m.jsx)("div",{className:"bag-items",children:o.map((e=>(0,$m.jsxs)("div",{className:"bag-item",children:[e.icon," ",e.name]},e.id)))})}),(0,$m.jsx)("div",{className:"stats-panel",children:(0,$m.jsxs)("div",{children:["Total Value: ",y]})}),(0,$m.jsxs)("div",{className:"controls",children:[(0,$m.jsx)("button",{className:"reset-btn",onClick:()=>{l([]),i&&i()},children:"Reset"}),(0,$m.jsx)("button",{className:"submit-btn scroll-btn",onClick:()=>{y>=35?(u({message:"\ud83c\udf89 The dragon is pleased! Optimal hoard value: ".concat(y,"!"),type:"success"}),setTimeout(n,1500)):(u({message:"Current Value: ".concat(y,". The dragon demands more treasure!"),type:"error"}),i&&i())},children:"Check Hoard"})]})]})]}),c.message&&(0,$m.jsx)("div",{className:"feedback show ".concat(c.type),children:c.message}),f?(0,$m.jsxs)("div",{className:"hint-box",children:[(0,$m.jsx)("strong",{children:"\ud83d\udca1 Hint:"})," Use greedy logic! Calculate the value-to-weight ratio for each item. Items with higher ratios give more value per kilogram. Gems and lightweight items often provide the best return."]}):(0,$m.jsx)("button",{className:"hint-btn scroll-btn",onClick:()=>g(!0),children:"\ud83d\udca1 Show Hint"}),p&&(0,$m.jsx)("div",{className:"hint-warning-overlay",children:(0,$m.jsxs)("div",{className:"hint-warning-dialog",children:[(0,$m.jsx)("h3",{children:"\u26a0\ufe0f Warning"}),(0,$m.jsx)("p",{children:"5 marks will be deducted if you use the hint."}),(0,$m.jsxs)("div",{className:"hint-warning-buttons",children:[(0,$m.jsx)("button",{className:"hint-cancel-btn",onClick:()=>g(!1),children:"Cancel"}),(0,$m.jsx)("button",{className:"hint-confirm-btn",onClick:()=>{m(!0),g(!1),i&&i()},children:"Confirm"})]})]})})]})}):(0,$m.jsxs)("div",{className:"scroll-sealed",children:[(0,$m.jsxs)("div",{className:"wax-seal",onClick:()=>{h(!0)},children:[(0,$m.jsxs)("div",{className:"seal-emblem",children:[(0,$m.jsx)("div",{className:"seal-text",children:"BASGIATH"}),(0,$m.jsx)("div",{className:"seal-subtext",children:"WAR COLLEGE"})]}),(0,$m.jsx)("div",{className:"seal-instruction",children:"Click to break seal"})]}),(0,$m.jsxs)("div",{className:"scroll-preview",children:[(0,$m.jsx)("h3",{children:"\ud83d\udcdc Scroll of the Dragon's Hoard"}),(0,$m.jsx)("p",{className:"scroll-story",children:"Your dragon has returned from a successful raid, but its saddlebag capacity is limited. You must choose which treasures to keep to maximize value without exceeding the weight limit, or the dragon will refuse to fly."})]})]})})]})},Hk={r:0,c:0},Gk=14,Kk=14,Yk=new Set(["1,1","1,2","1,3","1,5","1,6","1,7","1,8","1,10","1,11","1,12","2,5","2,10","3,1","3,2","3,3","3,5","3,7","3,8","3,10","3,12","3,13","4,1","4,12","5,1","5,3","5,4","5,5","5,6","5,7","5,8","5,9","5,10","5,12","6,3","6,12","7,0","7,1","7,3","7,5","7,12","7,14","8,5","8,7","8,8","8,9","8,10","8,11","8,12","9,1","9,2","9,3","9,5","10,1","10,7","10,9","10,10","10,11","10,13","11,1","11,3","11,4","11,5","11,7","11,13","12,1","12,9","12,13","13,1","13,2","13,3","13,4","13,6","13,7","13,8","13,9","13,10","13,11","13,13","14,6"]),Qk=[{id:"v1",path:[{r:2,c:2},{r:2,c:3},{r:2,c:4},{r:2,c:3}]},{id:"v2",path:[{r:6,c:6},{r:6,c:7},{r:6,c:8},{r:7,c:8},{r:7,c:7},{r:7,c:6}]},{id:"v3",path:[{r:10,c:4},{r:10,c:5},{r:10,c:6},{r:9,c:6},{r:9,c:5},{r:9,c:4}]},{id:"v4",path:[{r:12,c:11},{r:12,c:12},{r:11,c:12},{r:11,c:11}]},{id:"v5",path:[{r:4,c:11},{r:5,c:11},{r:6,c:11},{r:5,c:11}]}],Xk=e=>{let{onComplete:n,onBack:r,onWrongAnswer:i,ref:s}=e;const[a,o]=(0,t.useState)(Hk),[l,c]=(0,t.useState)(0),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)(2e3),[m,p]=(0,t.useState)("playing"),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(0),[x,w]=(0,t.useState)(!1),[S,k]=(0,t.useState)(!1);(0,t.useImperativeHandle)(s,(()=>({getPartialScore:()=>1-(Math.abs(a.r-Gk)+Math.abs(a.c-Kk))/28>=.5&&"lost"!==m?5:0})));const N=e=>Qk.map((t=>{const n=e%t.path.length,r=t.path[n];return Re({id:t.id},r)})),E=N(l),T=(e,t)=>Yk.has("".concat(e,",").concat(t)),j=(e,t,n)=>n.some((n=>n.r===e&&n.c===t)),_=(0,t.useCallback)(((e,t)=>{if("playing"!==m)return;const r=a.r+e,s=a.c+t;if(v=s,!((g=r)>=0&&g<15&&v>=0&&v<15)||T(g,v))return;var g,v;const x={playerPos:Re({},a),turn:l,score:h},w=[...u,x],S=l+1,k=h-10,E=N(S);if(d(w),o({r:r,c:s}),c(S),f(k),j(r,s,E)){const e=y+1;return b(e),e>2?(p("failed"),void(i&&(i(),setTimeout((()=>i()),100),setTimeout((()=>i()),200)))):(p("lost"),void(i&&i()))}r===Gk&&s===Kk&&(p("won"),setTimeout(n,2e3))}),[a,l,h,m,u,n,i]),C=(0,t.useCallback)((()=>{if(0===u.length||"won"===m)return;const e=u[u.length-1],t=u.slice(0,-1);o(e.playerPos),c(e.turn),f(e.score-5),d(t),p("playing")}),[u,m]);(0,t.useEffect)((()=>{const e=e=>{switch(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&e.preventDefault(),e.key){case"ArrowUp":case"w":_(-1,0);break;case"ArrowDown":case"s":_(1,0);break;case"ArrowLeft":case"a":_(0,-1);break;case"ArrowRight":case"d":_(0,1);break;case"z":(e.ctrlKey||e.metaKey)&&C()}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[_,C]);return(0,$m.jsxs)("section",{id:"challenge-7",className:"active scroll-challenge",children:[(0,$m.jsxs)("div",{className:"challenge-header",children:[(0,$m.jsx)("button",{className:"back-btn",onClick:r,children:"\u2190 Back to Menu"}),(0,$m.jsx)("h2",{className:"challenge-title",children:"\ud83d\udcdc Challenge 7: The Reactive Outrun"}),(0,$m.jsx)("p",{className:"challenge-subtitle",children:'"Escape the canyon before the shadows consume you"'})]}),g?(0,$m.jsx)("div",{className:"scroll-opened",children:(0,$m.jsxs)("div",{className:"scroll-parchment",children:[(0,$m.jsxs)("div",{className:"hud-panel",children:[(0,$m.jsxs)("div",{className:"hud-item",children:[(0,$m.jsx)("span",{className:"hud-label",children:"SCORE:"}),(0,$m.jsx)("span",{className:"score-val",children:h})]}),(0,$m.jsxs)("div",{className:"hud-item",children:[(0,$m.jsx)("span",{className:"hud-label",children:"TURN:"}),(0,$m.jsx)("span",{className:"turn-val",children:l})]})]}),(0,$m.jsxs)("div",{className:"game-container",children:[(0,$m.jsx)("div",{className:"grid-board",style:{gridTemplateColumns:"repeat(".concat(15,", 30px)")},children:(()=>{const e=[];for(let t=0;t<15;t++)for(let n=0;n<15;n++){const r="".concat(t,"-").concat(n);let i="cell";T(t,n)&&(i+=" wall"),t===Hk.r&&n===Hk.c&&(i+=" start-zone"),t===Gk&&n===Kk&&(i+=" exit-zone");const s=a.r===t&&a.c===n,o=j(t,n,E);e.push((0,$m.jsxs)("div",{className:i,children:[s&&(0,$m.jsx)("div",{className:"dragon",title:"You"}),o&&(0,$m.jsx)("div",{className:"venin",title:"Venin"})]},r))}return e})()}),"lost"===m&&(0,$m.jsxs)("div",{className:"overlay",children:[(0,$m.jsx)("div",{className:"lost-msg",children:"TRAPPED BY SHADOWS!"}),(0,$m.jsx)("button",{className:"restart-btn scroll-btn",onClick:C,children:"\u21ba REWIND (Undo)"})]}),"won"===m&&(0,$m.jsx)("div",{className:"overlay",children:(0,$m.jsx)("div",{className:"win-msg",children:"EXTRACTION SUCCESSFUL!"})})]}),(0,$m.jsx)("div",{className:"controls-area",children:(0,$m.jsx)("button",{className:"undo-btn scroll-btn",onClick:C,disabled:0===u.length||"won"===m,title:"Rewind (Undo)",children:"\u21ba Temporal Undo"})}),x?(0,$m.jsxs)("div",{className:"hint-box",children:[(0,$m.jsx)("strong",{children:"\ud83c\udfaf Controls:"})," Use Arrow Keys or WASD to move. Avoid the Red Venin patrols\u2014they move when you move. Use the Temporal Undo button to backtrack if trapped (-5 pts per undo)."]}):(0,$m.jsx)("button",{className:"hint-btn scroll-btn",onClick:()=>k(!0),children:"\ud83d\udca1 Show Hint"}),S&&(0,$m.jsx)("div",{className:"hint-warning-overlay",children:(0,$m.jsxs)("div",{className:"hint-warning-dialog",children:[(0,$m.jsx)("h3",{children:"\u26a0\ufe0f Warning"}),(0,$m.jsx)("p",{children:"5 marks will be deducted if you use the hint."}),(0,$m.jsxs)("div",{className:"hint-warning-buttons",children:[(0,$m.jsx)("button",{className:"hint-cancel-btn",onClick:()=>k(!1),children:"Cancel"}),(0,$m.jsx)("button",{className:"hint-confirm-btn",onClick:()=>{w(!0),k(!1),i&&i()},children:"Confirm"})]})]})})]})}):(0,$m.jsx)("div",{className:"scroll-container",children:(0,$m.jsxs)("div",{className:"scroll-sealed",children:[(0,$m.jsxs)("div",{className:"wax-seal",onClick:()=>{v(!0)},children:[(0,$m.jsxs)("div",{className:"seal-emblem",children:[(0,$m.jsx)("div",{className:"seal-text",children:"BASGIATH"}),(0,$m.jsx)("div",{className:"seal-subtext",children:"WAR COLLEGE"})]}),(0,$m.jsx)("div",{className:"seal-instruction",children:"Click to break seal"})]}),(0,$m.jsxs)("div",{className:"scroll-preview",children:[(0,$m.jsx)("h3",{children:"\ud83d\udcdc Scroll of the Shadow Flight"}),(0,$m.jsx)("p",{className:"scroll-story",children:'You are trapped in a narrow canyon with "Reactive" Venin shadows closing in. These enemies mirror your movements and try to cut off your escape to the extraction point. You must be three steps ahead of their logic to survive.'})]})]})})]})},$k=999,Jk=0,Zk=e=>{let{onComplete:n,onBack:r,onWrongAnswer:i,ref:s}=e;const[a,o]=(0,t.useState)({nodes:[],edges:[]}),[l,c]=(0,t.useState)(0),[u,d]=(0,t.useState)({}),[h,f]=(0,t.useState)([]),[m,p]=(0,t.useState)("Initialize warp sequence..."),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(!1),[x,w]=(0,t.useState)(!1),[S,k]=(0,t.useState)(!1),[N,E]=(0,t.useState)({});(0,t.useImperativeHandle)(s,(()=>({getPartialScore:()=>{let e=0;for(let t=0;t<6;t++)void 0!==u[t]&&u[t]===h[t]&&e++;return e>=3?5:0}}))),(0,t.useEffect)((()=>{T()}),[]);const T=()=>{const e=(()=>{const e=[],t=[];for(let n=0;n<6;n++){const t=2*n*Math.PI/6-Math.PI/2;e.push({id:n,label:String.fromCharCode(65+n),x:300+150*Math.cos(t),y:200+150*Math.sin(t)})}for(let n=0;n<6;n++){const e=(n+1)%6,r=Math.floor(15*Math.random())+5;t.push({u:n,v:e,w:r})}for(let n=0;n<5;n++){const e=Math.floor(6*Math.random());let n=Math.floor(6*Math.random());for(;e===n||1===Math.abs(e-n)||0===e&&5===n||0===n&&5===e;)n=Math.floor(6*Math.random());if(!t.find((t=>t.u===e&&t.v===n||t.u===n&&t.v===e))){const r=Math.floor(15*Math.random())+5;t.push({u:e,v:n,w:r})}}return{nodes:e,edges:t}})();o(e);const t=((e,t)=>{const n=Array(6).fill($k),r=Array(6).fill(!1);n[t]=0;for(let i=0;i<6;i++){let t=-1;for(let e=0;e<6;e++)!r[e]&&(-1===t||n[e]<n[t])&&(t=e);if(n[t]===$k)break;r[t]=!0,e.edges.forEach((e=>{if(e.u===t){const r=e.v,i=e.w;n[t]+i<n[r]&&(n[r]=n[t]+i)}}))}return n})(e,0);f(t),c(0),d({[Jk]:0}),E({}),p("Start at Node A. Check neighbors and update their distances!"),v(!1)},j=(e,t)=>{t===h[5]?(v(!0),p("OPTIMAL PATH ESTABLISHED. WARP GATES SYNCED.")):(p("Reached Target, but distance ".concat(t," is not optimal (Expected: ").concat(h[5],"). Keep searching!")),i&&i())};return(0,$m.jsxs)("section",{id:"challenge-9",className:"active scroll-challenge",children:[(0,$m.jsxs)("div",{className:"challenge-header",children:[(0,$m.jsx)("button",{className:"back-btn",onClick:r,children:"\u2190 Back to Menu"}),(0,$m.jsx)("h2",{className:"challenge-title",children:"\ud83d\udcdc Challenge 8: The Warp Gates"}),(0,$m.jsx)("p",{className:"challenge-subtitle",children:'"Synchronize the warp gate network"'})]}),(0,$m.jsx)("div",{className:"challenge-content scroll-container",children:y?(0,$m.jsx)("div",{className:"scroll-opened",children:(0,$m.jsxs)("div",{className:"scroll-parchment",children:[(0,$m.jsxs)("div",{className:"status-bar",children:[(0,$m.jsx)("div",{className:"status-text",children:m}),(0,$m.jsxs)("div",{className:"target-info",children:["Target: Node ",String.fromCharCode(70)]})]}),(0,$m.jsxs)("div",{className:"graph-area",children:[(0,$m.jsxs)("svg",{className:"graph-svg",width:"600",height:"400",children:[(0,$m.jsxs)("defs",{children:[(0,$m.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"28",refY:"3.5",orient:"auto",children:(0,$m.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#555"})}),(0,$m.jsx)("marker",{id:"arrowhead-active",markerWidth:"10",markerHeight:"7",refX:"28",refY:"3.5",orient:"auto",children:(0,$m.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#FFC107"})})]}),a.edges.map(((e,t)=>{const n=a.nodes[e.u],r=a.nodes[e.v],i=e.u===l,s=i?"#FFC107":"#555",o=i?"url(#arrowhead-active)":"url(#arrowhead)";return(0,$m.jsxs)("g",{children:[(0,$m.jsx)("line",{x1:n.x,y1:n.y,x2:r.x,y2:r.y,stroke:s,strokeWidth:i?"3":"2",markerEnd:o}),(0,$m.jsx)("text",{x:(n.x+r.x)/2,y:(n.y+r.y)/2,fill:i?"#FFC107":"#aaa",fontSize:"14",dy:"-5",textAnchor:"middle",style:{background:"#000",fontWeight:"bold"},children:e.w})]},t)})),a.nodes.map((e=>{const t=l===e.id,n=5===e.id,r=u[e.id],i=void 0!==r?r:"?";return(0,$m.jsxs)("g",{onClick:()=>{return t=e.id,void(void 0!==u[t]&&u[t]!==$k?(c(t),E({}),5===t?j(t,u[t]):p("Moved to Node ".concat(String.fromCharCode(65+t),". Scanning neighbors..."))):p("Cannot warp there yet! Distance unknown."));var t},style:{cursor:"pointer"},children:[(0,$m.jsx)("circle",{cx:e.x,cy:e.y,r:"25",fill:t?"#28A745":n?"#dc3545":"#007BFF",stroke:t?"#fff":"#333",strokeWidth:t?"3":"2",className:"node-circle"}),(0,$m.jsx)("text",{x:e.x,y:e.y,dy:"5",textAnchor:"middle",fill:"#fff",fontWeight:"bold",fontSize:"16",pointerEvents:"none",children:e.label}),(0,$m.jsx)("rect",{x:e.x-20,y:e.y+30,width:"40",height:"20",rx:"4",fill:"#222",stroke:"#444"}),(0,$m.jsx)("text",{x:e.x,y:e.y+44,textAnchor:"middle",fill:"#fff",fontSize:"12",pointerEvents:"none",children:i})]},e.id)}))]}),a.nodes.map((e=>{const t=a.edges.find((t=>t.u===l&&t.v===e.id));return t?(0,$m.jsxs)("div",{className:"distance-input-wrapper",style:{left:e.x+20,top:e.y-20},children:[(0,$m.jsx)("input",{type:"number",className:"dist-input",placeholder:"?",value:N[e.id]||"",onChange:t=>{return n=e.id,r=t.target.value,void E((e=>Re(Re({},e),{},{[n]:r})));var n,r}}),(0,$m.jsxs)("div",{className:"input-hint",children:["+",t.w]})]},e.id):null})),a.edges.some((e=>e.u===l))&&(0,$m.jsx)("button",{className:"control-btn primary scroll-btn",onClick:()=>{let e=!1,t=!1;a.edges.filter((e=>e.u===l)).map((e=>({nodeId:e.v,weight:e.w}))).forEach((n=>{let{nodeId:r,weight:i}=n;const s=N[r];if(!s||""===s.trim())return;const a=parseInt(s,10);if(isNaN(a))return;const o=u[l];a===o+i?d((t=>{const n=t[r]||$k;return a<n?(e=!0,Re(Re({},t),{},{[r]:a})):a===n?Re(Re({},t),{},{[r]:a}):t})):t=!0})),t?(p("Calculations unstable! Verify distances: Current Node (".concat(u[l],") + Edge Weight.")),i&&i()):e?(p("Warp coordinates synchronized. Distances updated."),u[5]===h[5]&&p("Target reachable! Move there to complete.")):p("No valid updates found. Check your math.")},style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",zIndex:10},children:"Verify Data (Submit)"})]}),(0,$m.jsxs)("div",{className:"controls-panel",children:[(0,$m.jsx)("button",{className:"control-btn secondary scroll-btn",onClick:()=>{T(),i&&i()},children:"RESET SYSTEM"}),g&&(0,$m.jsx)("button",{className:"control-btn success scroll-btn",onClick:n,children:"WARDS ESTABLISHED (NEXT LEVEL)"})]}),x?(0,$m.jsxs)("div",{className:"hint-box",children:[(0,$m.jsx)("strong",{children:"\ud83d\udca1 Strategy:"})," Click nodes to move. For each neighbor, calculate the distance as: current_node_distance + edge_weight. Input this value to update the neighbor's distance. Always choose the node with the smallest known distance to explore next (Dijkstra's greedy choice)."]}):(0,$m.jsx)("button",{className:"hint-btn scroll-btn",onClick:()=>k(!0),children:"\ud83d\udca1 Show Hint"}),S&&(0,$m.jsx)("div",{className:"hint-warning-overlay",children:(0,$m.jsxs)("div",{className:"hint-warning-dialog",children:[(0,$m.jsx)("h3",{children:"\u26a0\ufe0f Warning"}),(0,$m.jsx)("p",{children:"5 marks will be deducted if you use the hint."}),(0,$m.jsxs)("div",{className:"hint-warning-buttons",children:[(0,$m.jsx)("button",{className:"hint-cancel-btn",onClick:()=>k(!1),children:"Cancel"}),(0,$m.jsx)("button",{className:"hint-confirm-btn",onClick:()=>{w(!0),k(!1),i&&i()},children:"Confirm"})]})]})})]})}):(0,$m.jsxs)("div",{className:"scroll-sealed",children:[(0,$m.jsxs)("div",{className:"wax-seal",onClick:()=>{b(!0)},children:[(0,$m.jsxs)("div",{className:"seal-emblem",children:[(0,$m.jsx)("div",{className:"seal-text",children:"BASGIATH"}),(0,$m.jsx)("div",{className:"seal-subtext",children:"WAR COLLEGE"})]}),(0,$m.jsx)("div",{className:"seal-instruction",children:"Click to break seal"})]}),(0,$m.jsxs)("div",{className:"scroll-preview",children:[(0,$m.jsx)("h3",{children:"\ud83d\udcdc Scroll of the Warp Gates"}),(0,$m.jsx)("p",{className:"scroll-story",children:"The final barrier is a network of Warp Gates. To escape, you must manually synchronize the gate frequencies by calculating the shortest path through the node network. The distance metrics must be precise to establish a stable wormhole."})]})]})})]})},eN=t.forwardRef(((e,n)=>{let{onComplete:r,onBack:i,onWrongAnswer:s}=e;const[a,o]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)({message:"Select low-cost Ley-Lines to form the Alliance.",type:"info"}),[m,p]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(0),[x,w]=(0,t.useState)(!1),[S,k]=(0,t.useState)(!1),[N,E]=(0,t.useState)(!1);(0,t.useImperativeHandle)(n,(()=>({getPartialScore:()=>Math.max(0,y)}))),(0,t.useEffect)((()=>{T()}),[]);const T=()=>{const e=600,t=350,n=[{id:0,label:"A",x:e,y:t,type:"source"},...Array.from({length:6},((n,r)=>({id:r+1,label:String.fromCharCode(66+r),x:e+140*Math.cos(60*r*(Math.PI/180)),y:t+140*Math.sin(60*r*(Math.PI/180)),type:"outpost"}))),...Array.from({length:6},((n,r)=>({id:r+7,label:String.fromCharCode(72+r),x:e+240*Math.cos((60*r+30)*(Math.PI/180)),y:t+240*Math.sin((60*r+30)*(Math.PI/180)),type:"outpost"}))),...Array.from({length:6},((n,r)=>({id:r+13,label:String.fromCharCode(78+r),x:e+340*Math.cos(60*r*(Math.PI/180)),y:t+340*Math.sin(60*r*(Math.PI/180)),type:"outpost"})))];let r=[],i=0;const s=(e,t,n,s)=>{r.push({id:i++,u:e,v:t,w:Math.floor(Math.random()*(s-n+1))+n})};for(let a=1;a<=6;a++)s(0,a,10,25);for(let a=1;a<=6;a++)s(a,6===a?1:a+1,15,30);for(let a=0;a<6;a++){const e=a+1,t=(a+5)%6+7;s(e,a+7,20,40),s(e,t,20,40)}for(let a=7;a<=12;a++)s(a,12===a?7:a+1,25,45);for(let a=0;a<6;a++){const e=a+7;s(e,a+13,30,50);s(e,(a+1)%6+13,30,50)}r.sort(((e,t)=>e.w-t.w)),o(n),c(r),d([]),p(!1),v(!1),f({message:"Select edges to form a Minimum Spanning Tree across the expanded network.",type:"info"})};class j{constructor(e){this.parent=Array.from({length:e},((e,t)=>t))}find(e){return this.parent[e]==e?e:this.find(this.parent[e])}union(e,t){const n=this.find(e),r=this.find(t);return n!==r&&(this.parent[n]=r,!0)}}const _=e=>{g||(u.includes(e.id)?d(u.filter((t=>t!==e.id))):d([...u,e.id]))};return(0,$m.jsxs)("section",{id:"challenge-10",className:"active scroll-challenge",children:[(0,$m.jsxs)("div",{className:"challenge-header",children:[(0,$m.jsx)("button",{className:"back-btn",onClick:i,children:"\u2190 Back to Menu"}),(0,$m.jsx)("h2",{className:"challenge-title",children:"\ud83d\udcdc Challenge 9: The Grand Alliance"}),(0,$m.jsx)("p",{className:"challenge-subtitle",children:'"Unite the fragmented resistance with minimum cost"'})]}),(0,$m.jsx)("div",{className:"challenge-content scroll-container",children:x?(0,$m.jsx)("div",{className:"scroll-opened",children:(0,$m.jsxs)("div",{className:"scroll-parchment",children:[(0,$m.jsxs)("div",{className:"game-container-kruskal",children:[(0,$m.jsxs)("div",{className:"map-area",children:[(0,$m.jsx)("div",{className:"status-bar-kruskal",children:(0,$m.jsx)("div",{className:"status-text ".concat(h.type),children:h.message})}),(0,$m.jsxs)("svg",{width:1200,height:700,className:"kruskal-svg",children:[l.map((e=>{const t=a.find((t=>t.id===e.u)),n=a.find((t=>t.id===e.v));if(!t||!n)return null;const r=u.includes(e.id);let i="#475569";return r&&(i=g?m?"#2ecc71":"#f59e0b":"#3b82f6"),(0,$m.jsxs)("g",{onClick:()=>_(e),className:"edge-group-kruskal ".concat(r?"selected":""," ").concat(g?"submitted":""),style:{pointerEvents:g?"none":"auto"},children:[(0,$m.jsx)("line",{x1:t.x,y1:t.y,x2:n.x,y2:n.y,className:"edge-line",style:{stroke:i,strokeWidth:r?4:2}}),(0,$m.jsx)("circle",{cx:(t.x+n.x)/2,cy:(t.y+n.y)/2,r:"10",className:"weight-bg"}),(0,$m.jsx)("text",{x:(t.x+n.x)/2,y:(t.y+n.y)/2,dy:"4",textAnchor:"middle",className:"weight-text",fill:r?"#fff":"#94a3b8",children:e.w})]},e.id)})),a.map((e=>(0,$m.jsxs)("g",{className:"node-group",children:[(0,$m.jsx)("circle",{cx:e.x,cy:e.y,r:"source"===e.type?25:20,className:"node-circle",style:{fill:"#0f172a",stroke:"#475569"}}),(0,$m.jsx)("text",{x:e.x,y:e.y,dy:"5",textAnchor:"middle",className:"node-label",style:{fontSize:"16px"},children:e.label})]},e.id)))]}),!g&&(0,$m.jsx)("button",{className:"submit-btn-kruskal scroll-btn",onClick:()=>{if(g)return;v(!0);const e=(()=>{const e=new j(a.length);let t=0;for(let n of l)e.union(n.u,n.v)&&(t+=n.w);return t})(),t=l.filter((e=>u.includes(e.id))),n=t.reduce(((e,t)=>e+t.w),0),r=new j(a.length);let i=0;for(let s of t)r.union(s.u,s.v)?0:i++;let o=0;for(let s=0;s<a.length;s++)r.parent[s]===s&&o++;let c=10;const d=[];if(o>1){const e=2*(o-1);c-=e,d.push("Disconnected Graph (-".concat(e,")"))}if(i>0){const e=2*i;c-=e,d.push("Has Cycles (-".concat(e,")"))}if(n>e){const t=n-e,r=Math.ceil(t/5);c-=r,d.push("Inefficient: ".concat(t," extra mana (-").concat(r,")"))}b(c),c>=10&&1===o&&0===i?(p(!0),f({message:"Perfect! Grand Alliance Formed. Score: 10/10",type:"success"})):(f({message:"Analysis Complete. Score: ".concat(c,"/10. ").concat(d.join(", ")),type:c>5?"warning":"error"}),s&&s())},style:{marginTop:"20px",padding:"12px 24px",fontSize:"1.1em"},children:"Stabilize Alliance (Submit)"}),g&&!m&&(0,$m.jsxs)("div",{className:"score-display",style:{marginTop:"20px",fontSize:"1.5em",fontWeight:"bold",color:"#f59e0b"},children:["Score: ",y]}),m&&(0,$m.jsx)("button",{className:"submit-btn-kruskal scroll-btn",onClick:r,style:{marginTop:"20px",padding:"15px 30px",fontSize:"1.2em",background:"#2ecc71",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",boxShadow:"0 0 15px rgba(46, 204, 113, 0.5)"},children:"\ud83c\udfc6 Finish Round 2 & Save Score"})]}),(0,$m.jsxs)("div",{className:"edge-sidebar",children:[(0,$m.jsx)("h3",{children:"Available Paths"}),(0,$m.jsx)("div",{className:"edge-list",children:l.map((e=>{var t,n;const r=u.includes(e.id),i=(null===(t=a.find((t=>t.id===e.u)))||void 0===t?void 0:t.label)||"?",s=(null===(n=a.find((t=>t.id===e.v)))||void 0===n?void 0:n.label)||"?";return(0,$m.jsxs)("div",{className:"sidebar-item ".concat(r?"selected":""),onClick:()=>_(e),style:{opacity:g&&!r?.5:1,cursor:g?"default":"pointer"},children:[(0,$m.jsxs)("span",{className:"edge-id",children:[i,"-",s]}),(0,$m.jsxs)("span",{className:"edge-cost",children:["Cost: ",e.w]}),r&&(0,$m.jsx)("span",{className:"status-icon",children:"\ud83d\udd39"})]},e.id)}))})]})]}),S?(0,$m.jsxs)("div",{className:"hint-box",children:[(0,$m.jsx)("strong",{children:"\ud83d\udca1 Strategy:"})," Click edges to select them for your spanning tree. Use Kruskal's algorithm: sort edges by weight (already done in sidebar), then select the cheapest edges that don't create cycles. You need exactly ",18," edges to connect ",19," nodes without cycles."]}):(0,$m.jsx)("button",{className:"hint-btn scroll-btn",onClick:()=>E(!0),children:"\ud83d\udca1 Show Hint"}),N&&(0,$m.jsx)("div",{className:"hint-warning-overlay",children:(0,$m.jsxs)("div",{className:"hint-warning-dialog",children:[(0,$m.jsx)("h3",{children:"\u26a0\ufe0f Warning"}),(0,$m.jsx)("p",{children:"5 marks will be deducted if you use the hint."}),(0,$m.jsxs)("div",{className:"hint-warning-buttons",children:[(0,$m.jsx)("button",{className:"hint-cancel-btn",onClick:()=>E(!1),children:"Cancel"}),(0,$m.jsx)("button",{className:"hint-confirm-btn",onClick:()=>{k(!0),E(!1),s&&s()},children:"Confirm"})]})]})})]})}):(0,$m.jsxs)("div",{className:"scroll-sealed",children:[(0,$m.jsxs)("div",{className:"wax-seal",onClick:()=>{w(!0)},children:[(0,$m.jsxs)("div",{className:"seal-emblem",children:[(0,$m.jsx)("div",{className:"seal-text",children:"BASGIATH"}),(0,$m.jsx)("div",{className:"seal-subtext",children:"WAR COLLEGE"})]}),(0,$m.jsx)("div",{className:"seal-instruction",children:"Click to break seal"})]}),(0,$m.jsxs)("div",{className:"scroll-preview",children:[(0,$m.jsx)("h3",{children:"\ud83d\udcdc Scroll of the Grand Alliance"}),(0,$m.jsx)("p",{className:"scroll-story",children:"The final stage of the war requires a global unification of fragmented resistance pockets. You must bridge these fragments using the cheapest connections available across the entire realm to form one unified alliance before the Venin cut your lines."})]})]})})]})})),tN=eN,nN=3600,rN=()=>{const{user:e}=Zm(),[n,r]=(0,t.useState)("entry"),[i,s]=(0,t.useState)({name:"",rollNo:""}),[a,o]=(0,t.useState)(1),[l,c]=(0,t.useState)(0),[u,d]=(0,t.useState)(0),[h,f]=(0,t.useState)(null),[m,p]=(0,t.useState)(!0),[g,v]=(0,t.useState)(nN),y=(0,t.useRef)(null),[b,x]=(0,t.useState)(!0),[w,S]=(0,t.useState)(!1),[k,N]=(0,t.useState)(10),E=(0,t.useRef)(null),[T,j]=(0,t.useState)(!1),[_,C]=(0,t.useState)(!1),[A,I]=(0,t.useState)(""),[P,D]=(0,t.useState)(0),R=(0,t.useRef)(null);(0,t.useEffect)((()=>{(async()=>{if(e)try{const t=sd(xu(Xm,"round2"),function(e,t,n){const r=t,i=td("where",e);return ad._create(i,r,n)}("uid","==",e.uid),dd(1)),n=await Ed(t);if(!n.empty){const e=n.docs[0],t=e.data();if("completed"===t.status)s({name:t.name,rollNo:t.rollNo}),c(t.score),f(e.id),r("result");else{if(s({name:t.name,rollNo:t.rollNo}),c(t.score||0),d(t.challengesCompleted||0),t.startedAt){const e=new Date,n=t.startedAt.toDate(),r=Math.floor((e-n)/1e3),i=Math.max(0,nN-r);if(v(i),0===i)return void V(t.score||0,t.challengesCompleted||0)}let n=(t.challengesCompleted||0)+1;n>9&&(n=9),o(n),f(e.id),r("playing")}}}catch(t){console.error("Error checking session:",t)}finally{p(!1)}else p(!1)})()}),[e]),(0,t.useEffect)((()=>("playing"===n&&g>0&&(y.current=setInterval((()=>{v((e=>e<=1?(clearInterval(y.current),V(l,u),0):e-1))}),1e3)),()=>{y.current&&clearInterval(y.current)})),[n,g,l,u]),(0,t.useEffect)((()=>{const e=()=>{document.fullscreenElement||"playing"!==n?(x(!0),S(!1),E.current&&clearInterval(E.current)):(x(!1),S(!0),N(10))};return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)}),[n]),(0,t.useEffect)((()=>(w&&"playing"===n?E.current=setInterval((()=>{N((e=>e<=1?(clearInterval(E.current),alert("You failed to return to fullscreen. Mission Aborted."),V(l,u),0):e-1))}),1e3):E.current&&clearInterval(E.current),()=>{E.current&&clearInterval(E.current)})),[w,n,l,u]);const L=()=>{const e=document.documentElement;e.requestFullscreen&&e.requestFullscreen().catch((e=>{console.warn("Error attempting to enable fullscreen: ".concat(e.message))}))},O=async(e,t)=>{if(h)try{const n=wu(Xm,"round2",h);await jd(n,{score:e,challengesCompleted:t,lastUpdated:Rd()})}catch(n){console.error("Error updating score:",n)}},M=()=>{const e=l+10,t=u+1;c(e),d(t),O(e,t),D(0),a<9?o((e=>e+1)):V(e,t)},F=()=>{const e=P+1;D(e);const t=Math.max(0,l-2);if(c(t),O(t,u),e>=3&&8!==a&&3!==a){D(0);const e=u+1;d(e),O(t,e),a<9?o((e=>e+1)):V(t,e)}},V=async(t,n)=>{if(y.current&&clearInterval(y.current),E.current&&clearInterval(E.current),document.fullscreenElement&&document.exitFullscreen().catch((e=>console.log(e))),h){const r=wu(Xm,"round2",h);await jd(r,{completedAt:Rd(),status:"completed"});try{const r=wu(Xm,"round2","leaderboard","entries",h);await Td(r,{name:i.name,rollNo:i.rollNo,score:t,challengesCompleted:n,status:"completed",completedAt:Rd(),uid:e?e.uid:null}),console.log("Added to round2 leaderboard")}catch(s){console.error("Error adding to leaderboard:",s)}}r("result")},U=()=>{window.confirm("Are you sure you want to quit? Progress will be lost.")&&(document.fullscreenElement&&document.exitFullscreen().catch((e=>console.log(e))),r("entry"),o(1),c(0),d(0),f(null),j(!1))},z=Ok[a]||{title:"Unknown",story:"No story available.",hint:"No hint available."};return m?(0,$m.jsx)("div",{className:"loading-screen",style:{color:"#fff",display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:"Loading Mission Data..."}):(0,$m.jsxs)("div",{className:"round2-app",children:["entry"===n&&(0,$m.jsx)(Mk,{onStart:async t=>{s(t),L(),r("playing"),v(nN);try{const n={name:t.name,rollNo:t.rollNo,score:0,challengesCompleted:0,startedAt:Rd(),lastUpdated:Rd(),uid:e?e.uid:null,email:e?e.email:null},r=await _d(xu(Xm,"round2"),n);f(r.id),console.log("Game started, ID:",r.id)}catch(n){console.error("Error starting game session:",n),alert("Error initializing game session in database: "+n.message+". Progress might not be saved!")}},initialName:null===e||void 0===e?void 0:e.displayName}),"playing"===n&&(0,$m.jsxs)("div",{className:"game-layout",children:[w&&(0,$m.jsx)("div",{className:"fullscreen-warning-overlay",children:(0,$m.jsxs)("div",{className:"warning-box",children:[(0,$m.jsx)("h2",{children:"\u26a0\ufe0f WARNING \u26a0\ufe0f"}),(0,$m.jsx)("p",{children:"You have left fullscreen mode!"}),(0,$m.jsxs)("p",{className:"warning-count",children:["Returning in ",k,"s"]}),(0,$m.jsx)("p",{children:"If the timer hits 0, the mission will be aborted."}),(0,$m.jsx)("button",{className:"start-btn",onClick:L,children:"Return to Fullscreen"})]})}),(0,$m.jsxs)("div",{className:"challenge-sidebar",children:[(0,$m.jsxs)("div",{className:"sidebar-header",children:[(0,$m.jsx)("h3",{children:"Mission Log"}),(0,$m.jsxs)("div",{className:"sidebar-score",children:["Score: ",l]}),(0,$m.jsxs)("div",{className:"sidebar-timer ".concat(g<=300?"timer-critical":g<=900?"timer-warning":"timer-normal"),style:{marginTop:"10px",fontSize:"1.2rem",fontWeight:"bold"},children:["\u23f1\ufe0f ",(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))})(g)]})]}),(0,$m.jsx)("ul",{className:"challenge-list",children:Array.from({length:9},((e,t)=>t+1)).map((e=>{var t;return(0,$m.jsxs)("li",{className:"challenge-item ".concat(a===e?"active":""," ").concat(e<a?"completed":""),onClick:()=>{e<=u+1&&o(e)},children:[(0,$m.jsx)("span",{className:"challenge-number",children:e}),(0,$m.jsx)("span",{className:"challenge-name",children:(null===(t=Ok[e])||void 0===t?void 0:t.title)||"Challenge ".concat(e)}),e<a&&(0,$m.jsx)("span",{className:"status-icon",children:"\u2713"})]},e)}))})]}),(0,$m.jsxs)("div",{className:"game-main-content",children:[(0,$m.jsxs)("div",{className:"game-hud-new",children:[(0,$m.jsx)("div",{className:"rules-container",children:(0,$m.jsxs)("div",{className:"rules-box",children:[(0,$m.jsx)("h4",{className:"rules-title",children:"\ud83d\udcdc Rules & Penalties"}),(0,$m.jsxs)("div",{className:"rules-content",children:[(0,$m.jsxs)("div",{className:"rules-section",children:[(0,$m.jsx)("h5",{children:"Rules:"}),(0,$m.jsx)("ul",{children:z.rules&&z.rules.map(((e,t)=>(0,$m.jsx)("li",{children:e},t)))})]}),(0,$m.jsxs)("div",{className:"rules-section",children:[(0,$m.jsx)("h5",{children:"Penalties:"}),(0,$m.jsx)("ul",{children:z.penalties&&z.penalties.map(((e,t)=>(0,$m.jsx)("li",{children:e},t)))})]})]})]})}),(0,$m.jsx)("div",{className:"hud-controls",children:(0,$m.jsx)("button",{onClick:()=>{if(T)j(!1);else if(window.confirm("Using a hint will cost 2 marks. Proceed?")){const e=Math.max(0,l-2);c(e),O(e,u),j(!0)}},className:"hud-btn hint-btn",children:"\ud83d\udca1 Hint"})})]}),T&&(0,$m.jsx)("div",{className:"hint-modal-overlay",children:(0,$m.jsxs)("div",{className:"hint-modal",children:[(0,$m.jsx)("h3",{children:"\ud83d\udca1 Hint"}),(0,$m.jsx)("div",{className:"hint-text-box",children:z.hint}),(0,$m.jsx)("button",{onClick:()=>j(!1),className:"close-hint-btn",children:"Got it"})]})}),(0,$m.jsx)("div",{className:"challenge-wrapper",children:(()=>{const e={onComplete:M,onBack:U,onWrongAnswer:F,ref:R};switch(a){case 1:return(0,$m.jsx)(Vk,Re({},e));case 2:return(0,$m.jsx)(Uk,Re({},e));case 3:return(0,$m.jsx)(zk,Re({},e));case 4:return(0,$m.jsx)(Bk,Re({},e));case 5:return(0,$m.jsx)(qk,Re({},e));case 6:return(0,$m.jsx)(Wk,Re({},e));case 7:return(0,$m.jsx)(Xk,Re({},e));case 8:return(0,$m.jsx)(Zk,Re({},e));case 9:return(0,$m.jsx)(tN,Re({},e));default:return(0,$m.jsx)("div",{children:"Unknown Challenge"})}})()})]}),a<9&&(0,$m.jsx)("div",{className:"next-challenge-arrow",onClick:()=>{if(window.confirm("Are you sure you want to skip this challenge? You will receive 0 points.")){const e=l+0,t=u+1;c(e),d(t),O(e,t),D(0),a<9?o((e=>e+1)):V(e,t)}},title:"Skip to Next Challenge",children:"\u27a4"})]}),"result"===n&&(0,$m.jsx)(Fk,{score:l,userInfo:i})]})},iN=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{(async()=>{try{const e=sd(xu(Xm,"round2","leaderboard","entries"),cd("score","desc"),cd("completedAt","asc"),dd(50)),t=await Ed(e),r=[];t.forEach((e=>{r.push(Re({id:e.id},e.data()))})),n(r)}catch(e){console.error("Error fetching leaderboard: ",e)}finally{i(!1)}})()}),[]),(0,$m.jsx)("div",{className:"leaderboard-container",children:(0,$m.jsxs)("div",{className:"leaderboard-content",children:[(0,$m.jsxs)("div",{className:"leaderboard-header",children:[(0,$m.jsx)("h1",{className:"leaderboard-title",children:"Fourth Wing - Leaderboard"}),(0,$m.jsx)(je,{to:"/round2",className:"play-btn",children:"Play Round 2"})]}),(0,$m.jsx)("div",{className:"leaderboard-table-wrapper",children:r?(0,$m.jsx)("div",{className:"leaderboard-loading",children:"Loading scores..."}):0===e.length?(0,$m.jsx)("div",{className:"leaderboard-empty",children:"No scores yet. Be the first!"}):(0,$m.jsxs)("table",{className:"leaderboard-table",children:[(0,$m.jsx)("thead",{children:(0,$m.jsxs)("tr",{children:[(0,$m.jsx)("th",{children:"Rank"}),(0,$m.jsx)("th",{children:"Name"}),(0,$m.jsx)("th",{children:"Roll No"}),(0,$m.jsx)("th",{className:"text-right",children:"Score"})]})}),(0,$m.jsx)("tbody",{children:e.map(((e,t)=>(0,$m.jsxs)("tr",{children:[(0,$m.jsxs)("td",{children:[0===t&&(0,$m.jsx)("span",{className:"rank-icon",children:"\ud83e\udd47"}),1===t&&(0,$m.jsx)("span",{className:"rank-icon",children:"\ud83e\udd48"}),2===t&&(0,$m.jsx)("span",{className:"rank-icon",children:"\ud83e\udd49"}),(0,$m.jsxs)("span",{className:"rank-number",children:["#",t+1]})]}),(0,$m.jsx)("td",{children:e.name}),(0,$m.jsx)("td",{children:e.rollNo}),(0,$m.jsx)("td",{className:"text-right score-val",children:e.score})]},e.id)))})]})})]})})};function sN(e){let{children:t,requireRole:n}=e;const{user:r,role:i,loading:s}=Zm();return s?(0,$m.jsx)("div",{className:"w-full h-screen flex items-center justify-center text-gray-600",children:"Loading..."}):r?n&&i!==n?i?(0,$m.jsx)(pe,{to:"/",replace:!0}):(0,$m.jsx)(pe,{to:"/select-role",replace:!0}):t:(0,$m.jsx)(pe,{to:"/login",replace:!0})}const aN=()=>{const[e,n]=(0,t.useState)({x:0,y:0}),[r,i]=(0,t.useState)(!1),[s,a]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{const e=()=>{a(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,t.useEffect)((()=>{if(s)return;const e=e=>{n({x:e.clientX,y:e.clientY});const t=e.target,r="A"===t.tagName||"BUTTON"===t.tagName||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||"SELECT"===t.tagName||null!==t.closest("a, button, .cursor-pointer, input, textarea, select");i(r)};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}}),[s]),s?null:(0,$m.jsxs)($m.Fragment,{children:[(0,$m.jsx)("div",{className:"fixed w-2 h-2 bg-[#00ff88] rounded-full pointer-events-none mix-blend-difference transition-transform duration-75 ease-linear",style:{left:"".concat(e.x-4,"px"),top:"".concat(e.y-4,"px"),filter:"drop-shadow(0 0 6px rgba(0, 255, 136, 0.9))",transform:"scale(".concat(r?.8:1,")"),zIndex:10001}}),(0,$m.jsx)("div",{className:"fixed w-8 h-8 border-2 border-[#00ff88] rounded-full pointer-events-none transition-all duration-150 ease-out",style:{left:"".concat(e.x-16,"px"),top:"".concat(e.y-16,"px"),backgroundColor:"rgba(26, 26, 46, 0.5)",backdropFilter:"blur(4px)",filter:"drop-shadow(0 0 10px rgba(0, 255, 136, 0.6))",transform:"scale(".concat(r?.8:1,")"),zIndex:1e4}})]})},oN=e=>{let{onLoadingComplete:n}=e;const[r,i]=(0,t.useState)(0),[s,a]=(0,t.useState)(!1);(0,t.useEffect)((()=>{let e;const t=setTimeout((()=>{e=setInterval((()=>{i((t=>{if(t>=100)return clearInterval(e),a(!0),setTimeout((()=>{n&&n()}),500),100;const r=t<50?2:t<90?1.5:.5;return Math.min(t+r,100)}))}),30)}),100);return()=>{clearTimeout(t),e&&clearInterval(e)}}),[n]);return(0,$m.jsxs)(lk.div,{initial:{opacity:1},animate:{opacity:s?0:1},transition:{duration:.5},className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-[#1a1a2e]",style:{display:s?"none":"flex"},children:[(0,$m.jsx)("div",{className:"absolute inset-0",children:(0,$m.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_rgba(0,255,136,0.15),transparent_70%)]"})}),(0,$m.jsxs)("div",{className:"relative z-10 flex flex-col items-center",children:[(0,$m.jsx)(lk.div,{animate:{scale:[1,1.05,1],opacity:[.9,1,.9]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"mb-8",children:(0,$m.jsx)(lk.img,{src:"https://raw.githubusercontent.com/karthikeyanrao/AMCFOSS/main/images/amc-foss-logo.png",alt:"AMC FOSS Logo",className:"w-32 h-32 md:w-40 md:h-40 object-contain",style:{filter:"drop-shadow(0 0 20px rgba(0, 255, 136, 0.6))"},animate:{filter:["drop-shadow(0 0 20px rgba(0, 255, 136, 0.6))","drop-shadow(0 0 30px rgba(0, 255, 136, 0.8))","drop-shadow(0 0 20px rgba(0, 255, 136, 0.6))"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})}),(0,$m.jsx)("div",{className:"w-64 md:w-80 h-1 bg-[#1a1a2e] border border-[#00ff88]/30 rounded-full overflow-hidden mb-4",children:(0,$m.jsx)(lk.div,{className:"h-full bg-gradient-to-r from-[#00ff88] to-[#2ecc71]",initial:{width:"0%"},animate:{width:"".concat(r,"%")},transition:{duration:.3,ease:"easeOut"},style:{boxShadow:"0 0 10px rgba(0, 255, 136, 0.6)"}})}),(0,$m.jsxs)(lk.p,{className:"text-[#00ff88] font-mono text-sm md:text-base tracking-widest",animate:{opacity:[.7,1,.7]},transition:{duration:1.5,repeat:1/0},children:[Math.round(r),"%"]}),(0,$m.jsx)(lk.p,{className:"mt-4 text-slate-400 text-xs uppercase tracking-[0.3em]",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Loading..."})]})]})},lN=()=>(0,$m.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-[#1a1a2e] px-4 text-center relative overflow-hidden",children:[(0,$m.jsxs)("div",{className:"absolute inset-0 -z-10",children:[(0,$m.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(0,255,136,0.10),transparent_55%)]"}),(0,$m.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom,_rgba(46,204,113,0.12),transparent_55%)]"}),(0,$m.jsx)("div",{className:"absolute -left-24 top-16 h-[30rem] w-[30rem] rounded-full bg-[#00ff88]/15 blur-3xl"}),(0,$m.jsx)("div",{className:"absolute -right-24 bottom-10 h-[26rem] w-[26rem] rounded-full bg-[#2ecc71]/20 blur-3xl"})]}),(0,$m.jsx)("div",{className:"max-w-2xl relative z-10",children:(0,$m.jsxs)(lk.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"relative",children:[(0,$m.jsx)(lk.h1,{className:"text-9xl font-bold mb-4 bg-gradient-to-r from-[#00ff88] via-[#2ecc71] to-[#27ae60] bg-clip-text text-transparent",animate:{textShadow:["0 0 20px rgba(0, 255, 136, 0.5)","0 0 40px rgba(0, 255, 136, 0.8)","0 0 20px rgba(0, 255, 136, 0.5)"]},transition:{duration:2,repeat:1/0},children:"404"}),(0,$m.jsx)("h2",{className:"text-3xl font-bold text-white mb-6",children:"Page Not Found"}),(0,$m.jsx)("p",{className:"text-slate-300 mb-8 text-lg max-w-md mx-auto",children:"The page you're looking for doesn't exist or has been moved. Let's get you back to building with FOSS!"}),(0,$m.jsxs)(je,{to:"/",className:"inline-flex items-center gap-2 rounded-full border border-[#00ff88]/40 bg-[#00ff88]/10 px-6 py-3 text-sm font-semibold uppercase tracking-[0.3em] text-[#00ff88] transition hover:border-[#00ff88]/60 hover:bg-[#00ff88]/20 hover:shadow-lg hover:shadow-[#00ff88]/30",children:[(0,$m.jsx)("i",{className:"fas fa-home"}),"Return Home"]})]})})]}),cN=()=>{const[e,n]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{const e=e=>(e.preventDefault(),!1),t=e=>"F12"===e.key||e.ctrlKey&&e.shiftKey&&"I"===e.key||e.ctrlKey&&e.shiftKey&&"J"===e.key||e.ctrlKey&&e.shiftKey&&"C"===e.key||e.ctrlKey&&"u"===e.key||e.ctrlKey&&"s"===e.key?(e.preventDefault(),!1):void 0;return document.addEventListener("contextmenu",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("contextmenu",e),document.removeEventListener("keydown",t)}}),[]),(0,$m.jsx)(ep,{children:(0,$m.jsxs)(Ne,{children:[e&&(0,$m.jsx)(oN,{onLoadingComplete:()=>{n(!1)}}),(0,$m.jsx)(aN,{}),(0,$m.jsxs)(ye,{children:[(0,$m.jsx)(ge,{path:"/",element:(0,$m.jsx)(np,{})}),(0,$m.jsx)(ge,{path:"/login",element:(0,$m.jsx)(uk,{})}),(0,$m.jsx)(ge,{path:"/register",element:(0,$m.jsx)(dk,{})}),(0,$m.jsx)(ge,{path:"/select-role",element:(0,$m.jsx)(sN,{children:(0,$m.jsx)(fk,{})})}),(0,$m.jsx)(ge,{path:"/mentor",element:(0,$m.jsx)(sN,{requireRole:"mentor",children:(0,$m.jsx)(mk,{})})}),(0,$m.jsx)(ge,{path:"/office",element:(0,$m.jsx)(sN,{requireRole:"office_bearer",children:(0,$m.jsx)(Ik,{})})}),(0,$m.jsx)(ge,{path:"/events",element:(0,$m.jsx)(Pk,{})}),(0,$m.jsx)(ge,{path:"/events/:id",element:(0,$m.jsx)(Rk,{})}),(0,$m.jsx)(ge,{path:"/exam",element:(0,$m.jsx)(Lk,{})}),(0,$m.jsx)(ge,{path:"/round1",element:(0,$m.jsx)(pe,{to:"/",replace:!0})}),(0,$m.jsx)(ge,{path:"/round2",element:(0,$m.jsx)(rN,{})}),(0,$m.jsx)(ge,{path:"/round2/leaderboard",element:(0,$m.jsx)(iN,{})}),(0,$m.jsx)(ge,{path:"*",element:(0,$m.jsx)(lN,{})})]})]})})};i.createRoot(document.getElementById("root")).render((0,$m.jsx)(t.StrictMode,{children:(0,$m.jsx)(cN,{})}))})()})();
//# sourceMappingURL=main.15fbfb96.js.map